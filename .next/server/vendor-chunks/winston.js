"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/winston";
exports.ids = ["vendor-chunks/winston"];
exports.modules = {

/***/ "(action-browser)/./node_modules/winston/lib/winston.js":
/*!*********************************************!*\
  !*** ./node_modules/winston/lib/winston.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("/**\n * winston.js: Top-level include defining Winston.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst logform = __webpack_require__(/*! logform */ \"(action-browser)/./node_modules/logform/index.js\");\nconst { warn } = __webpack_require__(/*! ./winston/common */ \"(action-browser)/./node_modules/winston/lib/winston/common.js\");\n\n/**\n * Expose version. Use `require` method for `webpack` support.\n * @type {string}\n */\nexports.version = __webpack_require__(/*! ../package.json */ \"(action-browser)/./node_modules/winston/package.json\").version;\n/**\n * Include transports defined by default by winston\n * @type {Array}\n */\nexports.transports = __webpack_require__(/*! ./winston/transports */ \"(action-browser)/./node_modules/winston/lib/winston/transports/index.js\");\n/**\n * Expose utility methods\n * @type {Object}\n */\nexports.config = __webpack_require__(/*! ./winston/config */ \"(action-browser)/./node_modules/winston/lib/winston/config/index.js\");\n/**\n * Hoist format-related functionality from logform.\n * @type {Object}\n */\nexports.addColors = logform.levels;\n/**\n * Hoist format-related functionality from logform.\n * @type {Object}\n */\nexports.format = logform.format;\n/**\n * Expose core Logging-related prototypes.\n * @type {function}\n */\nexports.createLogger = __webpack_require__(/*! ./winston/create-logger */ \"(action-browser)/./node_modules/winston/lib/winston/create-logger.js\");\n/**\n * Expose core Logging-related prototypes.\n * @type {function}\n */\nexports.Logger = __webpack_require__(/*! ./winston/logger */ \"(action-browser)/./node_modules/winston/lib/winston/logger.js\");\n/**\n * Expose core Logging-related prototypes.\n * @type {Object}\n */\nexports.ExceptionHandler = __webpack_require__(/*! ./winston/exception-handler */ \"(action-browser)/./node_modules/winston/lib/winston/exception-handler.js\");\n/**\n * Expose core Logging-related prototypes.\n * @type {Object}\n */\nexports.RejectionHandler = __webpack_require__(/*! ./winston/rejection-handler */ \"(action-browser)/./node_modules/winston/lib/winston/rejection-handler.js\");\n/**\n * Expose core Logging-related prototypes.\n * @type {Container}\n */\nexports.Container = __webpack_require__(/*! ./winston/container */ \"(action-browser)/./node_modules/winston/lib/winston/container.js\");\n/**\n * Expose core Logging-related prototypes.\n * @type {Object}\n */\nexports.Transport = __webpack_require__(/*! winston-transport */ \"(action-browser)/./node_modules/winston-transport/index.js\");\n/**\n * We create and expose a default `Container` to `winston.loggers` so that the\n * programmer may manage multiple `winston.Logger` instances without any\n * additional overhead.\n * @example\n *   // some-file1.js\n *   const logger = require('winston').loggers.get('something');\n *\n *   // some-file2.js\n *   const logger = require('winston').loggers.get('something');\n */\nexports.loggers = new exports.Container();\n\n/**\n * We create and expose a 'defaultLogger' so that the programmer may do the\n * following without the need to create an instance of winston.Logger directly:\n * @example\n *   const winston = require('winston');\n *   winston.log('info', 'some message');\n *   winston.error('some error');\n */\nconst defaultLogger = exports.createLogger();\n\n// Pass through the target methods onto `winston.\nObject.keys(exports.config.npm.levels)\n  .concat([\n    'log',\n    'query',\n    'stream',\n    'add',\n    'remove',\n    'clear',\n    'profile',\n    'startTimer',\n    'handleExceptions',\n    'unhandleExceptions',\n    'handleRejections',\n    'unhandleRejections',\n    'configure',\n    'child'\n  ])\n  .forEach(\n    method => (exports[method] = (...args) => defaultLogger[method](...args))\n  );\n\n/**\n * Define getter / setter for the default logger level which need to be exposed\n * by winston.\n * @type {string}\n */\nObject.defineProperty(exports, \"level\", ({\n  get() {\n    return defaultLogger.level;\n  },\n  set(val) {\n    defaultLogger.level = val;\n  }\n}));\n\n/**\n * Define getter for `exceptions` which replaces `handleExceptions` and\n * `unhandleExceptions`.\n * @type {Object}\n */\nObject.defineProperty(exports, \"exceptions\", ({\n  get() {\n    return defaultLogger.exceptions;\n  }\n}));\n\n/**\n * Define getter for `rejections` which replaces `handleRejections` and\n * `unhandleRejections`.\n * @type {Object}\n */\nObject.defineProperty(exports, \"rejections\", ({\n  get() {\n    return defaultLogger.rejections;\n  }\n}));\n\n/**\n * Define getters / setters for appropriate properties of the default logger\n * which need to be exposed by winston.\n * @type {Logger}\n */\n['exitOnError'].forEach(prop => {\n  Object.defineProperty(exports, prop, {\n    get() {\n      return defaultLogger[prop];\n    },\n    set(val) {\n      defaultLogger[prop] = val;\n    }\n  });\n});\n\n/**\n * The default transports and exceptionHandlers for the default winston logger.\n * @type {Object}\n */\nObject.defineProperty(exports, \"default\", ({\n  get() {\n    return {\n      exceptionHandlers: defaultLogger.exceptionHandlers,\n      rejectionHandlers: defaultLogger.rejectionHandlers,\n      transports: defaultLogger.transports\n    };\n  }\n}));\n\n// Have friendlier breakage notices for properties that were exposed by default\n// on winston < 3.0.\nwarn.deprecated(exports, 'setLevels');\nwarn.forFunctions(exports, 'useFormat', ['cli']);\nwarn.forProperties(exports, 'useFormat', ['padLevels', 'stripColors']);\nwarn.forFunctions(exports, 'deprecated', [\n  'addRewriter',\n  'addFilter',\n  'clone',\n  'extend'\n]);\nwarn.forProperties(exports, 'deprecated', ['emitErrs', 'levelLength']);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixnQkFBZ0IsbUJBQU8sQ0FBQyxpRUFBUztBQUNqQyxRQUFRLE9BQU8sRUFBRSxtQkFBTyxDQUFDLHVGQUFrQjs7QUFFM0M7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLDRIQUFvRDtBQUNwRDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsK0lBQW9EO0FBQ3BEO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxtSUFBNEM7QUFDNUM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxpSkFBeUQ7QUFDekQ7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLDZIQUE0QztBQUM1QztBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsNkpBQWlFO0FBQ2pFO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSw2SkFBaUU7QUFDakU7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLHNJQUFrRDtBQUNsRDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsOEhBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlOztBQUVmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EseUNBQXdDO0FBQ3hDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDOztBQUVGO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLDhDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsOENBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQzs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsMkNBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXHJlcG9cXE51dHJpV2lzZUFJXFxub2RlX21vZHVsZXNcXHdpbnN0b25cXGxpYlxcd2luc3Rvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIHdpbnN0b24uanM6IFRvcC1sZXZlbCBpbmNsdWRlIGRlZmluaW5nIFdpbnN0b24uXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgbG9nZm9ybSA9IHJlcXVpcmUoJ2xvZ2Zvcm0nKTtcbmNvbnN0IHsgd2FybiB9ID0gcmVxdWlyZSgnLi93aW5zdG9uL2NvbW1vbicpO1xuXG4vKipcbiAqIEV4cG9zZSB2ZXJzaW9uLiBVc2UgYHJlcXVpcmVgIG1ldGhvZCBmb3IgYHdlYnBhY2tgIHN1cHBvcnQuXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnRzLnZlcnNpb24gPSByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuLyoqXG4gKiBJbmNsdWRlIHRyYW5zcG9ydHMgZGVmaW5lZCBieSBkZWZhdWx0IGJ5IHdpbnN0b25cbiAqIEB0eXBlIHtBcnJheX1cbiAqL1xuZXhwb3J0cy50cmFuc3BvcnRzID0gcmVxdWlyZSgnLi93aW5zdG9uL3RyYW5zcG9ydHMnKTtcbi8qKlxuICogRXhwb3NlIHV0aWxpdHkgbWV0aG9kc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0cy5jb25maWcgPSByZXF1aXJlKCcuL3dpbnN0b24vY29uZmlnJyk7XG4vKipcbiAqIEhvaXN0IGZvcm1hdC1yZWxhdGVkIGZ1bmN0aW9uYWxpdHkgZnJvbSBsb2dmb3JtLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0cy5hZGRDb2xvcnMgPSBsb2dmb3JtLmxldmVscztcbi8qKlxuICogSG9pc3QgZm9ybWF0LXJlbGF0ZWQgZnVuY3Rpb25hbGl0eSBmcm9tIGxvZ2Zvcm0uXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnRzLmZvcm1hdCA9IGxvZ2Zvcm0uZm9ybWF0O1xuLyoqXG4gKiBFeHBvc2UgY29yZSBMb2dnaW5nLXJlbGF0ZWQgcHJvdG90eXBlcy5cbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqL1xuZXhwb3J0cy5jcmVhdGVMb2dnZXIgPSByZXF1aXJlKCcuL3dpbnN0b24vY3JlYXRlLWxvZ2dlcicpO1xuLyoqXG4gKiBFeHBvc2UgY29yZSBMb2dnaW5nLXJlbGF0ZWQgcHJvdG90eXBlcy5cbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqL1xuZXhwb3J0cy5Mb2dnZXIgPSByZXF1aXJlKCcuL3dpbnN0b24vbG9nZ2VyJyk7XG4vKipcbiAqIEV4cG9zZSBjb3JlIExvZ2dpbmctcmVsYXRlZCBwcm90b3R5cGVzLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0cy5FeGNlcHRpb25IYW5kbGVyID0gcmVxdWlyZSgnLi93aW5zdG9uL2V4Y2VwdGlvbi1oYW5kbGVyJyk7XG4vKipcbiAqIEV4cG9zZSBjb3JlIExvZ2dpbmctcmVsYXRlZCBwcm90b3R5cGVzLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0cy5SZWplY3Rpb25IYW5kbGVyID0gcmVxdWlyZSgnLi93aW5zdG9uL3JlamVjdGlvbi1oYW5kbGVyJyk7XG4vKipcbiAqIEV4cG9zZSBjb3JlIExvZ2dpbmctcmVsYXRlZCBwcm90b3R5cGVzLlxuICogQHR5cGUge0NvbnRhaW5lcn1cbiAqL1xuZXhwb3J0cy5Db250YWluZXIgPSByZXF1aXJlKCcuL3dpbnN0b24vY29udGFpbmVyJyk7XG4vKipcbiAqIEV4cG9zZSBjb3JlIExvZ2dpbmctcmVsYXRlZCBwcm90b3R5cGVzLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0cy5UcmFuc3BvcnQgPSByZXF1aXJlKCd3aW5zdG9uLXRyYW5zcG9ydCcpO1xuLyoqXG4gKiBXZSBjcmVhdGUgYW5kIGV4cG9zZSBhIGRlZmF1bHQgYENvbnRhaW5lcmAgdG8gYHdpbnN0b24ubG9nZ2Vyc2Agc28gdGhhdCB0aGVcbiAqIHByb2dyYW1tZXIgbWF5IG1hbmFnZSBtdWx0aXBsZSBgd2luc3Rvbi5Mb2dnZXJgIGluc3RhbmNlcyB3aXRob3V0IGFueVxuICogYWRkaXRpb25hbCBvdmVyaGVhZC5cbiAqIEBleGFtcGxlXG4gKiAgIC8vIHNvbWUtZmlsZTEuanNcbiAqICAgY29uc3QgbG9nZ2VyID0gcmVxdWlyZSgnd2luc3RvbicpLmxvZ2dlcnMuZ2V0KCdzb21ldGhpbmcnKTtcbiAqXG4gKiAgIC8vIHNvbWUtZmlsZTIuanNcbiAqICAgY29uc3QgbG9nZ2VyID0gcmVxdWlyZSgnd2luc3RvbicpLmxvZ2dlcnMuZ2V0KCdzb21ldGhpbmcnKTtcbiAqL1xuZXhwb3J0cy5sb2dnZXJzID0gbmV3IGV4cG9ydHMuQ29udGFpbmVyKCk7XG5cbi8qKlxuICogV2UgY3JlYXRlIGFuZCBleHBvc2UgYSAnZGVmYXVsdExvZ2dlcicgc28gdGhhdCB0aGUgcHJvZ3JhbW1lciBtYXkgZG8gdGhlXG4gKiBmb2xsb3dpbmcgd2l0aG91dCB0aGUgbmVlZCB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2Ygd2luc3Rvbi5Mb2dnZXIgZGlyZWN0bHk6XG4gKiBAZXhhbXBsZVxuICogICBjb25zdCB3aW5zdG9uID0gcmVxdWlyZSgnd2luc3RvbicpO1xuICogICB3aW5zdG9uLmxvZygnaW5mbycsICdzb21lIG1lc3NhZ2UnKTtcbiAqICAgd2luc3Rvbi5lcnJvcignc29tZSBlcnJvcicpO1xuICovXG5jb25zdCBkZWZhdWx0TG9nZ2VyID0gZXhwb3J0cy5jcmVhdGVMb2dnZXIoKTtcblxuLy8gUGFzcyB0aHJvdWdoIHRoZSB0YXJnZXQgbWV0aG9kcyBvbnRvIGB3aW5zdG9uLlxuT2JqZWN0LmtleXMoZXhwb3J0cy5jb25maWcubnBtLmxldmVscylcbiAgLmNvbmNhdChbXG4gICAgJ2xvZycsXG4gICAgJ3F1ZXJ5JyxcbiAgICAnc3RyZWFtJyxcbiAgICAnYWRkJyxcbiAgICAncmVtb3ZlJyxcbiAgICAnY2xlYXInLFxuICAgICdwcm9maWxlJyxcbiAgICAnc3RhcnRUaW1lcicsXG4gICAgJ2hhbmRsZUV4Y2VwdGlvbnMnLFxuICAgICd1bmhhbmRsZUV4Y2VwdGlvbnMnLFxuICAgICdoYW5kbGVSZWplY3Rpb25zJyxcbiAgICAndW5oYW5kbGVSZWplY3Rpb25zJyxcbiAgICAnY29uZmlndXJlJyxcbiAgICAnY2hpbGQnXG4gIF0pXG4gIC5mb3JFYWNoKFxuICAgIG1ldGhvZCA9PiAoZXhwb3J0c1ttZXRob2RdID0gKC4uLmFyZ3MpID0+IGRlZmF1bHRMb2dnZXJbbWV0aG9kXSguLi5hcmdzKSlcbiAgKTtcblxuLyoqXG4gKiBEZWZpbmUgZ2V0dGVyIC8gc2V0dGVyIGZvciB0aGUgZGVmYXVsdCBsb2dnZXIgbGV2ZWwgd2hpY2ggbmVlZCB0byBiZSBleHBvc2VkXG4gKiBieSB3aW5zdG9uLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdsZXZlbCcsIHtcbiAgZ2V0KCkge1xuICAgIHJldHVybiBkZWZhdWx0TG9nZ2VyLmxldmVsO1xuICB9LFxuICBzZXQodmFsKSB7XG4gICAgZGVmYXVsdExvZ2dlci5sZXZlbCA9IHZhbDtcbiAgfVxufSk7XG5cbi8qKlxuICogRGVmaW5lIGdldHRlciBmb3IgYGV4Y2VwdGlvbnNgIHdoaWNoIHJlcGxhY2VzIGBoYW5kbGVFeGNlcHRpb25zYCBhbmRcbiAqIGB1bmhhbmRsZUV4Y2VwdGlvbnNgLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdleGNlcHRpb25zJywge1xuICBnZXQoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRMb2dnZXIuZXhjZXB0aW9ucztcbiAgfVxufSk7XG5cbi8qKlxuICogRGVmaW5lIGdldHRlciBmb3IgYHJlamVjdGlvbnNgIHdoaWNoIHJlcGxhY2VzIGBoYW5kbGVSZWplY3Rpb25zYCBhbmRcbiAqIGB1bmhhbmRsZVJlamVjdGlvbnNgLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdyZWplY3Rpb25zJywge1xuICBnZXQoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRMb2dnZXIucmVqZWN0aW9ucztcbiAgfVxufSk7XG5cbi8qKlxuICogRGVmaW5lIGdldHRlcnMgLyBzZXR0ZXJzIGZvciBhcHByb3ByaWF0ZSBwcm9wZXJ0aWVzIG9mIHRoZSBkZWZhdWx0IGxvZ2dlclxuICogd2hpY2ggbmVlZCB0byBiZSBleHBvc2VkIGJ5IHdpbnN0b24uXG4gKiBAdHlwZSB7TG9nZ2VyfVxuICovXG5bJ2V4aXRPbkVycm9yJ10uZm9yRWFjaChwcm9wID0+IHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIHByb3AsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdExvZ2dlcltwcm9wXTtcbiAgICB9LFxuICAgIHNldCh2YWwpIHtcbiAgICAgIGRlZmF1bHRMb2dnZXJbcHJvcF0gPSB2YWw7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IHRyYW5zcG9ydHMgYW5kIGV4Y2VwdGlvbkhhbmRsZXJzIGZvciB0aGUgZGVmYXVsdCB3aW5zdG9uIGxvZ2dlci5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZGVmYXVsdCcsIHtcbiAgZ2V0KCkge1xuICAgIHJldHVybiB7XG4gICAgICBleGNlcHRpb25IYW5kbGVyczogZGVmYXVsdExvZ2dlci5leGNlcHRpb25IYW5kbGVycyxcbiAgICAgIHJlamVjdGlvbkhhbmRsZXJzOiBkZWZhdWx0TG9nZ2VyLnJlamVjdGlvbkhhbmRsZXJzLFxuICAgICAgdHJhbnNwb3J0czogZGVmYXVsdExvZ2dlci50cmFuc3BvcnRzXG4gICAgfTtcbiAgfVxufSk7XG5cbi8vIEhhdmUgZnJpZW5kbGllciBicmVha2FnZSBub3RpY2VzIGZvciBwcm9wZXJ0aWVzIHRoYXQgd2VyZSBleHBvc2VkIGJ5IGRlZmF1bHRcbi8vIG9uIHdpbnN0b24gPCAzLjAuXG53YXJuLmRlcHJlY2F0ZWQoZXhwb3J0cywgJ3NldExldmVscycpO1xud2Fybi5mb3JGdW5jdGlvbnMoZXhwb3J0cywgJ3VzZUZvcm1hdCcsIFsnY2xpJ10pO1xud2Fybi5mb3JQcm9wZXJ0aWVzKGV4cG9ydHMsICd1c2VGb3JtYXQnLCBbJ3BhZExldmVscycsICdzdHJpcENvbG9ycyddKTtcbndhcm4uZm9yRnVuY3Rpb25zKGV4cG9ydHMsICdkZXByZWNhdGVkJywgW1xuICAnYWRkUmV3cml0ZXInLFxuICAnYWRkRmlsdGVyJyxcbiAgJ2Nsb25lJyxcbiAgJ2V4dGVuZCdcbl0pO1xud2Fybi5mb3JQcm9wZXJ0aWVzKGV4cG9ydHMsICdkZXByZWNhdGVkJywgWydlbWl0RXJycycsICdsZXZlbExlbmd0aCddKTtcblxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/common.js":
/*!****************************************************!*\
  !*** ./node_modules/winston/lib/winston/common.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("/**\n * common.js: Internal helper and utility functions for winston.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst { format } = __webpack_require__(/*! util */ \"util\");\n\n/**\n * Set of simple deprecation notices and a way to expose them for a set of\n * properties.\n * @type {Object}\n * @private\n */\nexports.warn = {\n  deprecated(prop) {\n    return () => {\n      throw new Error(format('{ %s } was removed in winston@3.0.0.', prop));\n    };\n  },\n  useFormat(prop) {\n    return () => {\n      throw new Error([\n        format('{ %s } was removed in winston@3.0.0.', prop),\n        'Use a custom winston.format = winston.format(function) instead.'\n      ].join('\\n'));\n    };\n  },\n  forFunctions(obj, type, props) {\n    props.forEach(prop => {\n      obj[prop] = exports.warn[type](prop);\n    });\n  },\n  forProperties(obj, type, props) {\n    props.forEach(prop => {\n      const notice = exports.warn[type](prop);\n      Object.defineProperty(obj, prop, {\n        get: notice,\n        set: notice\n      });\n    });\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL2NvbW1vbi5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsUUFBUSxTQUFTLEVBQUUsbUJBQU8sQ0FBQyxrQkFBTTs7QUFFakM7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLGdDQUFnQyxLQUFLO0FBQ3JDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixLQUFLO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsiQzpcXHJlcG9cXE51dHJpV2lzZUFJXFxub2RlX21vZHVsZXNcXHdpbnN0b25cXGxpYlxcd2luc3RvblxcY29tbW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogY29tbW9uLmpzOiBJbnRlcm5hbCBoZWxwZXIgYW5kIHV0aWxpdHkgZnVuY3Rpb25zIGZvciB3aW5zdG9uLlxuICpcbiAqIChDKSAyMDEwIENoYXJsaWUgUm9iYmluc1xuICogTUlUIExJQ0VOQ0VcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IHsgZm9ybWF0IH0gPSByZXF1aXJlKCd1dGlsJyk7XG5cbi8qKlxuICogU2V0IG9mIHNpbXBsZSBkZXByZWNhdGlvbiBub3RpY2VzIGFuZCBhIHdheSB0byBleHBvc2UgdGhlbSBmb3IgYSBzZXQgb2ZcbiAqIHByb3BlcnRpZXMuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0cy53YXJuID0ge1xuICBkZXByZWNhdGVkKHByb3ApIHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGZvcm1hdCgneyAlcyB9IHdhcyByZW1vdmVkIGluIHdpbnN0b25AMy4wLjAuJywgcHJvcCkpO1xuICAgIH07XG4gIH0sXG4gIHVzZUZvcm1hdChwcm9wKSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihbXG4gICAgICAgIGZvcm1hdCgneyAlcyB9IHdhcyByZW1vdmVkIGluIHdpbnN0b25AMy4wLjAuJywgcHJvcCksXG4gICAgICAgICdVc2UgYSBjdXN0b20gd2luc3Rvbi5mb3JtYXQgPSB3aW5zdG9uLmZvcm1hdChmdW5jdGlvbikgaW5zdGVhZC4nXG4gICAgICBdLmpvaW4oJ1xcbicpKTtcbiAgICB9O1xuICB9LFxuICBmb3JGdW5jdGlvbnMob2JqLCB0eXBlLCBwcm9wcykge1xuICAgIHByb3BzLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICBvYmpbcHJvcF0gPSBleHBvcnRzLndhcm5bdHlwZV0ocHJvcCk7XG4gICAgfSk7XG4gIH0sXG4gIGZvclByb3BlcnRpZXMob2JqLCB0eXBlLCBwcm9wcykge1xuICAgIHByb3BzLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICBjb25zdCBub3RpY2UgPSBleHBvcnRzLndhcm5bdHlwZV0ocHJvcCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wLCB7XG4gICAgICAgIGdldDogbm90aWNlLFxuICAgICAgICBzZXQ6IG5vdGljZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/common.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/config/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/winston/lib/winston/config/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("/**\n * index.js: Default settings for all levels that winston knows about.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst logform = __webpack_require__(/*! logform */ \"(action-browser)/./node_modules/logform/index.js\");\nconst { configs } = __webpack_require__(/*! triple-beam */ \"(action-browser)/./node_modules/triple-beam/index.js\");\n\n/**\n * Export config set for the CLI.\n * @type {Object}\n */\nexports.cli = logform.levels(configs.cli);\n\n/**\n * Export config set for npm.\n * @type {Object}\n */\nexports.npm = logform.levels(configs.npm);\n\n/**\n * Export config set for the syslog.\n * @type {Object}\n */\nexports.syslog = logform.levels(configs.syslog);\n\n/**\n * Hoist addColors from logform where it was refactored into in winston@3.\n * @type {Object}\n */\nexports.addColors = logform.levels;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL2NvbmZpZy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsZ0JBQWdCLG1CQUFPLENBQUMsaUVBQVM7QUFDakMsUUFBUSxVQUFVLEVBQUUsbUJBQU8sQ0FBQyx5RUFBYTs7QUFFekM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLGNBQWM7O0FBRWQ7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLGlCQUFpQiIsInNvdXJjZXMiOlsiQzpcXHJlcG9cXE51dHJpV2lzZUFJXFxub2RlX21vZHVsZXNcXHdpbnN0b25cXGxpYlxcd2luc3RvblxcY29uZmlnXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGluZGV4LmpzOiBEZWZhdWx0IHNldHRpbmdzIGZvciBhbGwgbGV2ZWxzIHRoYXQgd2luc3RvbiBrbm93cyBhYm91dC5cbiAqXG4gKiAoQykgMjAxMCBDaGFybGllIFJvYmJpbnNcbiAqIE1JVCBMSUNFTkNFXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBsb2dmb3JtID0gcmVxdWlyZSgnbG9nZm9ybScpO1xuY29uc3QgeyBjb25maWdzIH0gPSByZXF1aXJlKCd0cmlwbGUtYmVhbScpO1xuXG4vKipcbiAqIEV4cG9ydCBjb25maWcgc2V0IGZvciB0aGUgQ0xJLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0cy5jbGkgPSBsb2dmb3JtLmxldmVscyhjb25maWdzLmNsaSk7XG5cbi8qKlxuICogRXhwb3J0IGNvbmZpZyBzZXQgZm9yIG5wbS5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMubnBtID0gbG9nZm9ybS5sZXZlbHMoY29uZmlncy5ucG0pO1xuXG4vKipcbiAqIEV4cG9ydCBjb25maWcgc2V0IGZvciB0aGUgc3lzbG9nLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0cy5zeXNsb2cgPSBsb2dmb3JtLmxldmVscyhjb25maWdzLnN5c2xvZyk7XG5cbi8qKlxuICogSG9pc3QgYWRkQ29sb3JzIGZyb20gbG9nZm9ybSB3aGVyZSBpdCB3YXMgcmVmYWN0b3JlZCBpbnRvIGluIHdpbnN0b25AMy5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuYWRkQ29sb3JzID0gbG9nZm9ybS5sZXZlbHM7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/config/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/container.js":
/*!*******************************************************!*\
  !*** ./node_modules/winston/lib/winston/container.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * container.js: Inversion of control container for winston logger instances.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst createLogger = __webpack_require__(/*! ./create-logger */ \"(action-browser)/./node_modules/winston/lib/winston/create-logger.js\");\n\n/**\n * Inversion of control container for winston logger instances.\n * @type {Container}\n */\nmodule.exports = class Container {\n  /**\n   * Constructor function for the Container object responsible for managing a\n   * set of `winston.Logger` instances based on string ids.\n   * @param {!Object} [options={}] - Default pass-thru options for Loggers.\n   */\n  constructor(options = {}) {\n    this.loggers = new Map();\n    this.options = options;\n  }\n\n  /**\n   * Retrieves a `winston.Logger` instance for the specified `id`. If an\n   * instance does not exist, one is created.\n   * @param {!string} id - The id of the Logger to get.\n   * @param {?Object} [options] - Options for the Logger instance.\n   * @returns {Logger} - A configured Logger instance with a specified id.\n   */\n  add(id, options) {\n    if (!this.loggers.has(id)) {\n      // Remark: Simple shallow clone for configuration options in case we pass\n      // in instantiated protoypal objects\n      options = Object.assign({}, options || this.options);\n      const existing = options.transports || this.options.transports;\n\n      // Remark: Make sure if we have an array of transports we slice it to\n      // make copies of those references.\n      if (existing) {\n        options.transports = Array.isArray(existing) ? existing.slice() : [existing];\n      } else {\n        options.transports = [];\n      }\n\n      const logger = createLogger(options);\n      logger.on('close', () => this._delete(id));\n      this.loggers.set(id, logger);\n    }\n\n    return this.loggers.get(id);\n  }\n\n  /**\n   * Retreives a `winston.Logger` instance for the specified `id`. If\n   * an instance does not exist, one is created.\n   * @param {!string} id - The id of the Logger to get.\n   * @param {?Object} [options] - Options for the Logger instance.\n   * @returns {Logger} - A configured Logger instance with a specified id.\n   */\n  get(id, options) {\n    return this.add(id, options);\n  }\n\n  /**\n   * Check if the container has a logger with the id.\n   * @param {?string} id - The id of the Logger instance to find.\n   * @returns {boolean} - Boolean value indicating if this instance has a\n   * logger with the specified `id`.\n   */\n  has(id) {\n    return !!this.loggers.has(id);\n  }\n\n  /**\n   * Closes a `Logger` instance with the specified `id` if it exists.\n   * If no `id` is supplied then all Loggers are closed.\n   * @param {?string} id - The id of the Logger instance to close.\n   * @returns {undefined}\n   */\n  close(id) {\n    if (id) {\n      return this._removeLogger(id);\n    }\n\n    this.loggers.forEach((val, key) => this._removeLogger(key));\n  }\n\n  /**\n   * Remove a logger based on the id.\n   * @param {!string} id - The id of the logger to remove.\n   * @returns {undefined}\n   * @private\n   */\n  _removeLogger(id) {\n    if (!this.loggers.has(id)) {\n      return;\n    }\n\n    const logger = this.loggers.get(id);\n    logger.close();\n    this._delete(id);\n  }\n\n  /**\n   * Deletes a `Logger` instance with the specified `id`.\n   * @param {!string} id - The id of the Logger instance to delete from\n   * container.\n   * @returns {undefined}\n   * @private\n   */\n  _delete(id) {\n    this.loggers.delete(id);\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL2NvbnRhaW5lci5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIscUJBQXFCLG1CQUFPLENBQUMsNkZBQWlCOztBQUU5QztBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVMsV0FBVztBQUNqQztBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsU0FBUztBQUN0QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsU0FBUztBQUN0QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxyZXBvXFxOdXRyaVdpc2VBSVxcbm9kZV9tb2R1bGVzXFx3aW5zdG9uXFxsaWJcXHdpbnN0b25cXGNvbnRhaW5lci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGNvbnRhaW5lci5qczogSW52ZXJzaW9uIG9mIGNvbnRyb2wgY29udGFpbmVyIGZvciB3aW5zdG9uIGxvZ2dlciBpbnN0YW5jZXMuXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgY3JlYXRlTG9nZ2VyID0gcmVxdWlyZSgnLi9jcmVhdGUtbG9nZ2VyJyk7XG5cbi8qKlxuICogSW52ZXJzaW9uIG9mIGNvbnRyb2wgY29udGFpbmVyIGZvciB3aW5zdG9uIGxvZ2dlciBpbnN0YW5jZXMuXG4gKiBAdHlwZSB7Q29udGFpbmVyfVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIENvbnRhaW5lciB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIENvbnRhaW5lciBvYmplY3QgcmVzcG9uc2libGUgZm9yIG1hbmFnaW5nIGFcbiAgICogc2V0IG9mIGB3aW5zdG9uLkxvZ2dlcmAgaW5zdGFuY2VzIGJhc2VkIG9uIHN0cmluZyBpZHMuXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gW29wdGlvbnM9e31dIC0gRGVmYXVsdCBwYXNzLXRocnUgb3B0aW9ucyBmb3IgTG9nZ2Vycy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMubG9nZ2VycyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIGB3aW5zdG9uLkxvZ2dlcmAgaW5zdGFuY2UgZm9yIHRoZSBzcGVjaWZpZWQgYGlkYC4gSWYgYW5cbiAgICogaW5zdGFuY2UgZG9lcyBub3QgZXhpc3QsIG9uZSBpcyBjcmVhdGVkLlxuICAgKiBAcGFyYW0geyFzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBMb2dnZXIgdG8gZ2V0LlxuICAgKiBAcGFyYW0gez9PYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgZm9yIHRoZSBMb2dnZXIgaW5zdGFuY2UuXG4gICAqIEByZXR1cm5zIHtMb2dnZXJ9IC0gQSBjb25maWd1cmVkIExvZ2dlciBpbnN0YW5jZSB3aXRoIGEgc3BlY2lmaWVkIGlkLlxuICAgKi9cbiAgYWRkKGlkLCBvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmxvZ2dlcnMuaGFzKGlkKSkge1xuICAgICAgLy8gUmVtYXJrOiBTaW1wbGUgc2hhbGxvdyBjbG9uZSBmb3IgY29uZmlndXJhdGlvbiBvcHRpb25zIGluIGNhc2Ugd2UgcGFzc1xuICAgICAgLy8gaW4gaW5zdGFudGlhdGVkIHByb3RveXBhbCBvYmplY3RzXG4gICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyB8fCB0aGlzLm9wdGlvbnMpO1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBvcHRpb25zLnRyYW5zcG9ydHMgfHwgdGhpcy5vcHRpb25zLnRyYW5zcG9ydHM7XG5cbiAgICAgIC8vIFJlbWFyazogTWFrZSBzdXJlIGlmIHdlIGhhdmUgYW4gYXJyYXkgb2YgdHJhbnNwb3J0cyB3ZSBzbGljZSBpdCB0b1xuICAgICAgLy8gbWFrZSBjb3BpZXMgb2YgdGhvc2UgcmVmZXJlbmNlcy5cbiAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICBvcHRpb25zLnRyYW5zcG9ydHMgPSBBcnJheS5pc0FycmF5KGV4aXN0aW5nKSA/IGV4aXN0aW5nLnNsaWNlKCkgOiBbZXhpc3RpbmddO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucy50cmFuc3BvcnRzID0gW107XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxvZ2dlciA9IGNyZWF0ZUxvZ2dlcihvcHRpb25zKTtcbiAgICAgIGxvZ2dlci5vbignY2xvc2UnLCAoKSA9PiB0aGlzLl9kZWxldGUoaWQpKTtcbiAgICAgIHRoaXMubG9nZ2Vycy5zZXQoaWQsIGxvZ2dlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubG9nZ2Vycy5nZXQoaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJlaXZlcyBhIGB3aW5zdG9uLkxvZ2dlcmAgaW5zdGFuY2UgZm9yIHRoZSBzcGVjaWZpZWQgYGlkYC4gSWZcbiAgICogYW4gaW5zdGFuY2UgZG9lcyBub3QgZXhpc3QsIG9uZSBpcyBjcmVhdGVkLlxuICAgKiBAcGFyYW0geyFzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBMb2dnZXIgdG8gZ2V0LlxuICAgKiBAcGFyYW0gez9PYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgZm9yIHRoZSBMb2dnZXIgaW5zdGFuY2UuXG4gICAqIEByZXR1cm5zIHtMb2dnZXJ9IC0gQSBjb25maWd1cmVkIExvZ2dlciBpbnN0YW5jZSB3aXRoIGEgc3BlY2lmaWVkIGlkLlxuICAgKi9cbiAgZ2V0KGlkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkKGlkLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgY29udGFpbmVyIGhhcyBhIGxvZ2dlciB3aXRoIHRoZSBpZC5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgTG9nZ2VyIGluc3RhbmNlIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSAtIEJvb2xlYW4gdmFsdWUgaW5kaWNhdGluZyBpZiB0aGlzIGluc3RhbmNlIGhhcyBhXG4gICAqIGxvZ2dlciB3aXRoIHRoZSBzcGVjaWZpZWQgYGlkYC5cbiAgICovXG4gIGhhcyhpZCkge1xuICAgIHJldHVybiAhIXRoaXMubG9nZ2Vycy5oYXMoaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyBhIGBMb2dnZXJgIGluc3RhbmNlIHdpdGggdGhlIHNwZWNpZmllZCBgaWRgIGlmIGl0IGV4aXN0cy5cbiAgICogSWYgbm8gYGlkYCBpcyBzdXBwbGllZCB0aGVuIGFsbCBMb2dnZXJzIGFyZSBjbG9zZWQuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIExvZ2dlciBpbnN0YW5jZSB0byBjbG9zZS5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIGNsb3NlKGlkKSB7XG4gICAgaWYgKGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTG9nZ2VyKGlkKTtcbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlcnMuZm9yRWFjaCgodmFsLCBrZXkpID0+IHRoaXMuX3JlbW92ZUxvZ2dlcihrZXkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBsb2dnZXIgYmFzZWQgb24gdGhlIGlkLlxuICAgKiBAcGFyYW0geyFzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBsb2dnZXIgdG8gcmVtb3ZlLlxuICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbW92ZUxvZ2dlcihpZCkge1xuICAgIGlmICghdGhpcy5sb2dnZXJzLmhhcyhpZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlcnMuZ2V0KGlkKTtcbiAgICBsb2dnZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9kZWxldGUoaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYSBgTG9nZ2VyYCBpbnN0YW5jZSB3aXRoIHRoZSBzcGVjaWZpZWQgYGlkYC5cbiAgICogQHBhcmFtIHshc3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgTG9nZ2VyIGluc3RhbmNlIHRvIGRlbGV0ZSBmcm9tXG4gICAqIGNvbnRhaW5lci5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9kZWxldGUoaWQpIHtcbiAgICB0aGlzLmxvZ2dlcnMuZGVsZXRlKGlkKTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/container.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/create-logger.js":
/*!***********************************************************!*\
  !*** ./node_modules/winston/lib/winston/create-logger.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * create-logger.js: Logger factory for winston logger instances.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst { LEVEL } = __webpack_require__(/*! triple-beam */ \"(action-browser)/./node_modules/triple-beam/index.js\");\nconst config = __webpack_require__(/*! ./config */ \"(action-browser)/./node_modules/winston/lib/winston/config/index.js\");\nconst Logger = __webpack_require__(/*! ./logger */ \"(action-browser)/./node_modules/winston/lib/winston/logger.js\");\nconst debug = __webpack_require__(/*! @dabh/diagnostics */ \"(action-browser)/./node_modules/@dabh/diagnostics/node/index.js\")('winston:create-logger');\n\nfunction isLevelEnabledFunctionName(level) {\n  return 'is' + level.charAt(0).toUpperCase() + level.slice(1) + 'Enabled';\n}\n\n/**\n * Create a new instance of a winston Logger. Creates a new\n * prototype for each instance.\n * @param {!Object} opts - Options for the created logger.\n * @returns {Logger} - A newly created logger instance.\n */\nmodule.exports = function (opts = {}) {\n  //\n  // Default levels: npm\n  //\n  opts.levels = opts.levels || config.npm.levels;\n\n  /**\n   * DerivedLogger to attach the logs level methods.\n   * @type {DerivedLogger}\n   * @extends {Logger}\n   */\n  class DerivedLogger extends Logger {\n    /**\n     * Create a new class derived logger for which the levels can be attached to\n     * the prototype of. This is a V8 optimization that is well know to increase\n     * performance of prototype functions.\n     * @param {!Object} options - Options for the created logger.\n     */\n    constructor(options) {\n      super(options);\n    }\n  }\n\n  const logger = new DerivedLogger(opts);\n\n  //\n  // Create the log level methods for the derived logger.\n  //\n  Object.keys(opts.levels).forEach(function (level) {\n    debug('Define prototype method for \"%s\"', level);\n    if (level === 'log') {\n      // eslint-disable-next-line no-console\n      console.warn('Level \"log\" not defined: conflicts with the method \"log\". Use a different level name.');\n      return;\n    }\n\n    //\n    // Define prototype methods for each log level e.g.:\n    // logger.log('info', msg) implies these methods are defined:\n    // - logger.info(msg)\n    // - logger.isInfoEnabled()\n    //\n    // Remark: to support logger.child this **MUST** be a function\n    // so it'll always be called on the instance instead of a fixed\n    // place in the prototype chain.\n    //\n    DerivedLogger.prototype[level] = function (...args) {\n      // Prefer any instance scope, but default to \"root\" logger\n      const self = this || logger;\n\n      // Optimize the hot-path which is the single object.\n      if (args.length === 1) {\n        const [msg] = args;\n        const info = msg && msg.message && msg || { message: msg };\n        info.level = info[LEVEL] = level;\n        self._addDefaultMeta(info);\n        self.write(info);\n        return (this || logger);\n      }\n\n      // When provided nothing assume the empty string\n      if (args.length === 0) {\n        self.log(level, '');\n        return self;\n      }\n\n      // Otherwise build argument list which could potentially conform to\n      // either:\n      // . v3 API: log(obj)\n      // 2. v1/v2 API: log(level, msg, ... [string interpolate], [{metadata}], [callback])\n      return self.log(level, ...args);\n    };\n\n    DerivedLogger.prototype[isLevelEnabledFunctionName(level)] = function () {\n      return (this || logger).isLevelEnabled(level);\n    };\n  });\n\n  return logger;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL2NyZWF0ZS1sb2dnZXIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLFFBQVEsUUFBUSxFQUFFLG1CQUFPLENBQUMseUVBQWE7QUFDdkMsZUFBZSxtQkFBTyxDQUFDLHFGQUFVO0FBQ2pDLGVBQWUsbUJBQU8sQ0FBQywrRUFBVTtBQUNqQyxjQUFjLG1CQUFPLENBQUMsMEZBQW1COztBQUV6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsUUFBUTtBQUNyQjtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxTQUFTO0FBQzVFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBIiwic291cmNlcyI6WyJDOlxccmVwb1xcTnV0cmlXaXNlQUlcXG5vZGVfbW9kdWxlc1xcd2luc3RvblxcbGliXFx3aW5zdG9uXFxjcmVhdGUtbG9nZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogY3JlYXRlLWxvZ2dlci5qczogTG9nZ2VyIGZhY3RvcnkgZm9yIHdpbnN0b24gbG9nZ2VyIGluc3RhbmNlcy5cbiAqXG4gKiAoQykgMjAxMCBDaGFybGllIFJvYmJpbnNcbiAqIE1JVCBMSUNFTkNFXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB7IExFVkVMIH0gPSByZXF1aXJlKCd0cmlwbGUtYmVhbScpO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTtcbmNvbnN0IExvZ2dlciA9IHJlcXVpcmUoJy4vbG9nZ2VyJyk7XG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ0BkYWJoL2RpYWdub3N0aWNzJykoJ3dpbnN0b246Y3JlYXRlLWxvZ2dlcicpO1xuXG5mdW5jdGlvbiBpc0xldmVsRW5hYmxlZEZ1bmN0aW9uTmFtZShsZXZlbCkge1xuICByZXR1cm4gJ2lzJyArIGxldmVsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbGV2ZWwuc2xpY2UoMSkgKyAnRW5hYmxlZCc7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIGEgd2luc3RvbiBMb2dnZXIuIENyZWF0ZXMgYSBuZXdcbiAqIHByb3RvdHlwZSBmb3IgZWFjaCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7IU9iamVjdH0gb3B0cyAtIE9wdGlvbnMgZm9yIHRoZSBjcmVhdGVkIGxvZ2dlci5cbiAqIEByZXR1cm5zIHtMb2dnZXJ9IC0gQSBuZXdseSBjcmVhdGVkIGxvZ2dlciBpbnN0YW5jZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3B0cyA9IHt9KSB7XG4gIC8vXG4gIC8vIERlZmF1bHQgbGV2ZWxzOiBucG1cbiAgLy9cbiAgb3B0cy5sZXZlbHMgPSBvcHRzLmxldmVscyB8fCBjb25maWcubnBtLmxldmVscztcblxuICAvKipcbiAgICogRGVyaXZlZExvZ2dlciB0byBhdHRhY2ggdGhlIGxvZ3MgbGV2ZWwgbWV0aG9kcy5cbiAgICogQHR5cGUge0Rlcml2ZWRMb2dnZXJ9XG4gICAqIEBleHRlbmRzIHtMb2dnZXJ9XG4gICAqL1xuICBjbGFzcyBEZXJpdmVkTG9nZ2VyIGV4dGVuZHMgTG9nZ2VyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgY2xhc3MgZGVyaXZlZCBsb2dnZXIgZm9yIHdoaWNoIHRoZSBsZXZlbHMgY2FuIGJlIGF0dGFjaGVkIHRvXG4gICAgICogdGhlIHByb3RvdHlwZSBvZi4gVGhpcyBpcyBhIFY4IG9wdGltaXphdGlvbiB0aGF0IGlzIHdlbGwga25vdyB0byBpbmNyZWFzZVxuICAgICAqIHBlcmZvcm1hbmNlIG9mIHByb3RvdHlwZSBmdW5jdGlvbnMuXG4gICAgICogQHBhcmFtIHshT2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGNyZWF0ZWQgbG9nZ2VyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGxvZ2dlciA9IG5ldyBEZXJpdmVkTG9nZ2VyKG9wdHMpO1xuXG4gIC8vXG4gIC8vIENyZWF0ZSB0aGUgbG9nIGxldmVsIG1ldGhvZHMgZm9yIHRoZSBkZXJpdmVkIGxvZ2dlci5cbiAgLy9cbiAgT2JqZWN0LmtleXMob3B0cy5sZXZlbHMpLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgZGVidWcoJ0RlZmluZSBwcm90b3R5cGUgbWV0aG9kIGZvciBcIiVzXCInLCBsZXZlbCk7XG4gICAgaWYgKGxldmVsID09PSAnbG9nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybignTGV2ZWwgXCJsb2dcIiBub3QgZGVmaW5lZDogY29uZmxpY3RzIHdpdGggdGhlIG1ldGhvZCBcImxvZ1wiLiBVc2UgYSBkaWZmZXJlbnQgbGV2ZWwgbmFtZS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIERlZmluZSBwcm90b3R5cGUgbWV0aG9kcyBmb3IgZWFjaCBsb2cgbGV2ZWwgZS5nLjpcbiAgICAvLyBsb2dnZXIubG9nKCdpbmZvJywgbXNnKSBpbXBsaWVzIHRoZXNlIG1ldGhvZHMgYXJlIGRlZmluZWQ6XG4gICAgLy8gLSBsb2dnZXIuaW5mbyhtc2cpXG4gICAgLy8gLSBsb2dnZXIuaXNJbmZvRW5hYmxlZCgpXG4gICAgLy9cbiAgICAvLyBSZW1hcms6IHRvIHN1cHBvcnQgbG9nZ2VyLmNoaWxkIHRoaXMgKipNVVNUKiogYmUgYSBmdW5jdGlvblxuICAgIC8vIHNvIGl0J2xsIGFsd2F5cyBiZSBjYWxsZWQgb24gdGhlIGluc3RhbmNlIGluc3RlYWQgb2YgYSBmaXhlZFxuICAgIC8vIHBsYWNlIGluIHRoZSBwcm90b3R5cGUgY2hhaW4uXG4gICAgLy9cbiAgICBEZXJpdmVkTG9nZ2VyLnByb3RvdHlwZVtsZXZlbF0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgLy8gUHJlZmVyIGFueSBpbnN0YW5jZSBzY29wZSwgYnV0IGRlZmF1bHQgdG8gXCJyb290XCIgbG9nZ2VyXG4gICAgICBjb25zdCBzZWxmID0gdGhpcyB8fCBsb2dnZXI7XG5cbiAgICAgIC8vIE9wdGltaXplIHRoZSBob3QtcGF0aCB3aGljaCBpcyB0aGUgc2luZ2xlIG9iamVjdC5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb25zdCBbbXNnXSA9IGFyZ3M7XG4gICAgICAgIGNvbnN0IGluZm8gPSBtc2cgJiYgbXNnLm1lc3NhZ2UgJiYgbXNnIHx8IHsgbWVzc2FnZTogbXNnIH07XG4gICAgICAgIGluZm8ubGV2ZWwgPSBpbmZvW0xFVkVMXSA9IGxldmVsO1xuICAgICAgICBzZWxmLl9hZGREZWZhdWx0TWV0YShpbmZvKTtcbiAgICAgICAgc2VsZi53cml0ZShpbmZvKTtcbiAgICAgICAgcmV0dXJuICh0aGlzIHx8IGxvZ2dlcik7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gcHJvdmlkZWQgbm90aGluZyBhc3N1bWUgdGhlIGVtcHR5IHN0cmluZ1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNlbGYubG9nKGxldmVsLCAnJyk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UgYnVpbGQgYXJndW1lbnQgbGlzdCB3aGljaCBjb3VsZCBwb3RlbnRpYWxseSBjb25mb3JtIHRvXG4gICAgICAvLyBlaXRoZXI6XG4gICAgICAvLyAuIHYzIEFQSTogbG9nKG9iailcbiAgICAgIC8vIDIuIHYxL3YyIEFQSTogbG9nKGxldmVsLCBtc2csIC4uLiBbc3RyaW5nIGludGVycG9sYXRlXSwgW3ttZXRhZGF0YX1dLCBbY2FsbGJhY2tdKVxuICAgICAgcmV0dXJuIHNlbGYubG9nKGxldmVsLCAuLi5hcmdzKTtcbiAgICB9O1xuXG4gICAgRGVyaXZlZExvZ2dlci5wcm90b3R5cGVbaXNMZXZlbEVuYWJsZWRGdW5jdGlvbk5hbWUobGV2ZWwpXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAodGhpcyB8fCBsb2dnZXIpLmlzTGV2ZWxFbmFibGVkKGxldmVsKTtcbiAgICB9O1xuICB9KTtcblxuICByZXR1cm4gbG9nZ2VyO1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/create-logger.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/exception-handler.js":
/*!***************************************************************!*\
  !*** ./node_modules/winston/lib/winston/exception-handler.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * exception-handler.js: Object for handling uncaughtException events.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst os = __webpack_require__(/*! os */ \"os\");\nconst asyncForEach = __webpack_require__(/*! async/forEach */ \"(action-browser)/./node_modules/async/forEach.js\");\nconst debug = __webpack_require__(/*! @dabh/diagnostics */ \"(action-browser)/./node_modules/@dabh/diagnostics/node/index.js\")('winston:exception');\nconst once = __webpack_require__(/*! one-time */ \"(action-browser)/./node_modules/one-time/index.js\");\nconst stackTrace = __webpack_require__(/*! stack-trace */ \"(action-browser)/./node_modules/stack-trace/lib/stack-trace.js\");\nconst ExceptionStream = __webpack_require__(/*! ./exception-stream */ \"(action-browser)/./node_modules/winston/lib/winston/exception-stream.js\");\n\n/**\n * Object for handling uncaughtException events.\n * @type {ExceptionHandler}\n */\nmodule.exports = class ExceptionHandler {\n  /**\n   * TODO: add contructor description\n   * @param {!Logger} logger - TODO: add param description\n   */\n  constructor(logger) {\n    if (!logger) {\n      throw new Error('Logger is required to handle exceptions');\n    }\n\n    this.logger = logger;\n    this.handlers = new Map();\n  }\n\n  /**\n   * Handles `uncaughtException` events for the current process by adding any\n   * handlers passed in.\n   * @returns {undefined}\n   */\n  handle(...args) {\n    args.forEach(arg => {\n      if (Array.isArray(arg)) {\n        return arg.forEach(handler => this._addHandler(handler));\n      }\n\n      this._addHandler(arg);\n    });\n\n    if (!this.catcher) {\n      this.catcher = this._uncaughtException.bind(this);\n      process.on('uncaughtException', this.catcher);\n    }\n  }\n\n  /**\n   * Removes any handlers to `uncaughtException` events for the current\n   * process. This does not modify the state of the `this.handlers` set.\n   * @returns {undefined}\n   */\n  unhandle() {\n    if (this.catcher) {\n      process.removeListener('uncaughtException', this.catcher);\n      this.catcher = false;\n\n      Array.from(this.handlers.values())\n        .forEach(wrapper => this.logger.unpipe(wrapper));\n    }\n  }\n\n  /**\n   * TODO: add method description\n   * @param {Error} err - Error to get information about.\n   * @returns {mixed} - TODO: add return description.\n   */\n  getAllInfo(err) {\n    let message = null;\n    if (err) {\n      message = typeof err === 'string' ? err : err.message;\n    }\n\n    return {\n      error: err,\n      // TODO (indexzero): how do we configure this?\n      level: 'error',\n      message: [\n        `uncaughtException: ${(message || '(no error message)')}`,\n        err && err.stack || '  No stack trace'\n      ].join('\\n'),\n      stack: err && err.stack,\n      exception: true,\n      date: new Date().toString(),\n      process: this.getProcessInfo(),\n      os: this.getOsInfo(),\n      trace: this.getTrace(err)\n    };\n  }\n\n  /**\n   * Gets all relevant process information for the currently running process.\n   * @returns {mixed} - TODO: add return description.\n   */\n  getProcessInfo() {\n    return {\n      pid: process.pid,\n      uid: process.getuid ? process.getuid() : null,\n      gid: process.getgid ? process.getgid() : null,\n      cwd: process.cwd(),\n      execPath: process.execPath,\n      version: process.version,\n      argv: process.argv,\n      memoryUsage: process.memoryUsage()\n    };\n  }\n\n  /**\n   * Gets all relevant OS information for the currently running process.\n   * @returns {mixed} - TODO: add return description.\n   */\n  getOsInfo() {\n    return {\n      loadavg: os.loadavg(),\n      uptime: os.uptime()\n    };\n  }\n\n  /**\n   * Gets a stack trace for the specified error.\n   * @param {mixed} err - TODO: add param description.\n   * @returns {mixed} - TODO: add return description.\n   */\n  getTrace(err) {\n    const trace = err ? stackTrace.parse(err) : stackTrace.get();\n    return trace.map(site => {\n      return {\n        column: site.getColumnNumber(),\n        file: site.getFileName(),\n        function: site.getFunctionName(),\n        line: site.getLineNumber(),\n        method: site.getMethodName(),\n        native: site.isNative()\n      };\n    });\n  }\n\n  /**\n   * Helper method to add a transport as an exception handler.\n   * @param {Transport} handler - The transport to add as an exception handler.\n   * @returns {void}\n   */\n  _addHandler(handler) {\n    if (!this.handlers.has(handler)) {\n      handler.handleExceptions = true;\n      const wrapper = new ExceptionStream(handler);\n      this.handlers.set(handler, wrapper);\n      this.logger.pipe(wrapper);\n    }\n  }\n\n  /**\n   * Logs all relevant information around the `err` and exits the current\n   * process.\n   * @param {Error} err - Error to handle\n   * @returns {mixed} - TODO: add return description.\n   * @private\n   */\n  _uncaughtException(err) {\n    const info = this.getAllInfo(err);\n    const handlers = this._getExceptionHandlers();\n    // Calculate if we should exit on this error\n    let doExit = typeof this.logger.exitOnError === 'function'\n      ? this.logger.exitOnError(err)\n      : this.logger.exitOnError;\n    let timeout;\n\n    if (!handlers.length && doExit) {\n      // eslint-disable-next-line no-console\n      console.warn('winston: exitOnError cannot be true with no exception handlers.');\n      // eslint-disable-next-line no-console\n      console.warn('winston: not exiting process.');\n      doExit = false;\n    }\n\n    function gracefulExit() {\n      debug('doExit', doExit);\n      debug('process._exiting', process._exiting);\n\n      if (doExit && !process._exiting) {\n        // Remark: Currently ignoring any exceptions from transports when\n        // catching uncaught exceptions.\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n        // eslint-disable-next-line no-process-exit\n        process.exit(1);\n      }\n    }\n\n    if (!handlers || handlers.length === 0) {\n      return process.nextTick(gracefulExit);\n    }\n\n    // Log to all transports attempting to listen for when they are completed.\n    asyncForEach(handlers, (handler, next) => {\n      const done = once(next);\n      const transport = handler.transport || handler;\n\n      // Debug wrapping so that we can inspect what's going on under the covers.\n      function onDone(event) {\n        return () => {\n          debug(event);\n          done();\n        };\n      }\n\n      transport._ending = true;\n      transport.once('finish', onDone('finished'));\n      transport.once('error', onDone('error'));\n    }, () => doExit && gracefulExit());\n\n    this.logger.log(info);\n\n    // If exitOnError is true, then only allow the logging of exceptions to\n    // take up to `3000ms`.\n    if (doExit) {\n      timeout = setTimeout(gracefulExit, 3000);\n    }\n  }\n\n  /**\n   * Returns the list of transports and exceptionHandlers for this instance.\n   * @returns {Array} - List of transports and exceptionHandlers for this\n   * instance.\n   * @private\n   */\n  _getExceptionHandlers() {\n    // Remark (indexzero): since `logger.transports` returns all of the pipes\n    // from the _readableState of the stream we actually get the join of the\n    // explicit handlers and the implicit transports with\n    // `handleExceptions: true`\n    return this.logger.transports.filter(wrap => {\n      const transport = wrap.transport || wrap;\n      return transport.handleExceptions;\n    });\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL2V4Y2VwdGlvbi1oYW5kbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixXQUFXLG1CQUFPLENBQUMsY0FBSTtBQUN2QixxQkFBcUIsbUJBQU8sQ0FBQyx1RUFBZTtBQUM1QyxjQUFjLG1CQUFPLENBQUMsMEZBQW1CO0FBQ3pDLGFBQWEsbUJBQU8sQ0FBQyxtRUFBVTtBQUMvQixtQkFBbUIsbUJBQU8sQ0FBQyxtRkFBYTtBQUN4Qyx3QkFBd0IsbUJBQU8sQ0FBQyxtR0FBb0I7O0FBRXBEO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixrQ0FBa0M7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxXQUFXO0FBQ3hCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJDOlxccmVwb1xcTnV0cmlXaXNlQUlcXG5vZGVfbW9kdWxlc1xcd2luc3RvblxcbGliXFx3aW5zdG9uXFxleGNlcHRpb24taGFuZGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGV4Y2VwdGlvbi1oYW5kbGVyLmpzOiBPYmplY3QgZm9yIGhhbmRsaW5nIHVuY2F1Z2h0RXhjZXB0aW9uIGV2ZW50cy5cbiAqXG4gKiAoQykgMjAxMCBDaGFybGllIFJvYmJpbnNcbiAqIE1JVCBMSUNFTkNFXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBvcyA9IHJlcXVpcmUoJ29zJyk7XG5jb25zdCBhc3luY0ZvckVhY2ggPSByZXF1aXJlKCdhc3luYy9mb3JFYWNoJyk7XG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ0BkYWJoL2RpYWdub3N0aWNzJykoJ3dpbnN0b246ZXhjZXB0aW9uJyk7XG5jb25zdCBvbmNlID0gcmVxdWlyZSgnb25lLXRpbWUnKTtcbmNvbnN0IHN0YWNrVHJhY2UgPSByZXF1aXJlKCdzdGFjay10cmFjZScpO1xuY29uc3QgRXhjZXB0aW9uU3RyZWFtID0gcmVxdWlyZSgnLi9leGNlcHRpb24tc3RyZWFtJyk7XG5cbi8qKlxuICogT2JqZWN0IGZvciBoYW5kbGluZyB1bmNhdWdodEV4Y2VwdGlvbiBldmVudHMuXG4gKiBAdHlwZSB7RXhjZXB0aW9uSGFuZGxlcn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBFeGNlcHRpb25IYW5kbGVyIHtcbiAgLyoqXG4gICAqIFRPRE86IGFkZCBjb250cnVjdG9yIGRlc2NyaXB0aW9uXG4gICAqIEBwYXJhbSB7IUxvZ2dlcn0gbG9nZ2VyIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihsb2dnZXIpIHtcbiAgICBpZiAoIWxvZ2dlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dnZXIgaXMgcmVxdWlyZWQgdG8gaGFuZGxlIGV4Y2VwdGlvbnMnKTtcbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICB0aGlzLmhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYHVuY2F1Z2h0RXhjZXB0aW9uYCBldmVudHMgZm9yIHRoZSBjdXJyZW50IHByb2Nlc3MgYnkgYWRkaW5nIGFueVxuICAgKiBoYW5kbGVycyBwYXNzZWQgaW4uXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBoYW5kbGUoLi4uYXJncykge1xuICAgIGFyZ3MuZm9yRWFjaChhcmcgPT4ge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICByZXR1cm4gYXJnLmZvckVhY2goaGFuZGxlciA9PiB0aGlzLl9hZGRIYW5kbGVyKGhhbmRsZXIpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fYWRkSGFuZGxlcihhcmcpO1xuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLmNhdGNoZXIpIHtcbiAgICAgIHRoaXMuY2F0Y2hlciA9IHRoaXMuX3VuY2F1Z2h0RXhjZXB0aW9uLmJpbmQodGhpcyk7XG4gICAgICBwcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbicsIHRoaXMuY2F0Y2hlcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW55IGhhbmRsZXJzIHRvIGB1bmNhdWdodEV4Y2VwdGlvbmAgZXZlbnRzIGZvciB0aGUgY3VycmVudFxuICAgKiBwcm9jZXNzLiBUaGlzIGRvZXMgbm90IG1vZGlmeSB0aGUgc3RhdGUgb2YgdGhlIGB0aGlzLmhhbmRsZXJzYCBzZXQuXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICB1bmhhbmRsZSgpIHtcbiAgICBpZiAodGhpcy5jYXRjaGVyKSB7XG4gICAgICBwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKCd1bmNhdWdodEV4Y2VwdGlvbicsIHRoaXMuY2F0Y2hlcik7XG4gICAgICB0aGlzLmNhdGNoZXIgPSBmYWxzZTtcblxuICAgICAgQXJyYXkuZnJvbSh0aGlzLmhhbmRsZXJzLnZhbHVlcygpKVxuICAgICAgICAuZm9yRWFjaCh3cmFwcGVyID0+IHRoaXMubG9nZ2VyLnVucGlwZSh3cmFwcGVyKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGFkZCBtZXRob2QgZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHtFcnJvcn0gZXJyIC0gRXJyb3IgdG8gZ2V0IGluZm9ybWF0aW9uIGFib3V0LlxuICAgKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICovXG4gIGdldEFsbEluZm8oZXJyKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBudWxsO1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG1lc3NhZ2UgPSB0eXBlb2YgZXJyID09PSAnc3RyaW5nJyA/IGVyciA6IGVyci5tZXNzYWdlO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBlcnJvcjogZXJyLFxuICAgICAgLy8gVE9ETyAoaW5kZXh6ZXJvKTogaG93IGRvIHdlIGNvbmZpZ3VyZSB0aGlzP1xuICAgICAgbGV2ZWw6ICdlcnJvcicsXG4gICAgICBtZXNzYWdlOiBbXG4gICAgICAgIGB1bmNhdWdodEV4Y2VwdGlvbjogJHsobWVzc2FnZSB8fCAnKG5vIGVycm9yIG1lc3NhZ2UpJyl9YCxcbiAgICAgICAgZXJyICYmIGVyci5zdGFjayB8fCAnICBObyBzdGFjayB0cmFjZSdcbiAgICAgIF0uam9pbignXFxuJyksXG4gICAgICBzdGFjazogZXJyICYmIGVyci5zdGFjayxcbiAgICAgIGV4Y2VwdGlvbjogdHJ1ZSxcbiAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9TdHJpbmcoKSxcbiAgICAgIHByb2Nlc3M6IHRoaXMuZ2V0UHJvY2Vzc0luZm8oKSxcbiAgICAgIG9zOiB0aGlzLmdldE9zSW5mbygpLFxuICAgICAgdHJhY2U6IHRoaXMuZ2V0VHJhY2UoZXJyKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbGwgcmVsZXZhbnQgcHJvY2VzcyBpbmZvcm1hdGlvbiBmb3IgdGhlIGN1cnJlbnRseSBydW5uaW5nIHByb2Nlc3MuXG4gICAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgZ2V0UHJvY2Vzc0luZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBpZDogcHJvY2Vzcy5waWQsXG4gICAgICB1aWQ6IHByb2Nlc3MuZ2V0dWlkID8gcHJvY2Vzcy5nZXR1aWQoKSA6IG51bGwsXG4gICAgICBnaWQ6IHByb2Nlc3MuZ2V0Z2lkID8gcHJvY2Vzcy5nZXRnaWQoKSA6IG51bGwsXG4gICAgICBjd2Q6IHByb2Nlc3MuY3dkKCksXG4gICAgICBleGVjUGF0aDogcHJvY2Vzcy5leGVjUGF0aCxcbiAgICAgIHZlcnNpb246IHByb2Nlc3MudmVyc2lvbixcbiAgICAgIGFyZ3Y6IHByb2Nlc3MuYXJndixcbiAgICAgIG1lbW9yeVVzYWdlOiBwcm9jZXNzLm1lbW9yeVVzYWdlKClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYWxsIHJlbGV2YW50IE9TIGluZm9ybWF0aW9uIGZvciB0aGUgY3VycmVudGx5IHJ1bm5pbmcgcHJvY2Vzcy5cbiAgICogQHJldHVybnMge21peGVkfSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAqL1xuICBnZXRPc0luZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvYWRhdmc6IG9zLmxvYWRhdmcoKSxcbiAgICAgIHVwdGltZTogb3MudXB0aW1lKClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBzdGFjayB0cmFjZSBmb3IgdGhlIHNwZWNpZmllZCBlcnJvci5cbiAgICogQHBhcmFtIHttaXhlZH0gZXJyIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICovXG4gIGdldFRyYWNlKGVycikge1xuICAgIGNvbnN0IHRyYWNlID0gZXJyID8gc3RhY2tUcmFjZS5wYXJzZShlcnIpIDogc3RhY2tUcmFjZS5nZXQoKTtcbiAgICByZXR1cm4gdHJhY2UubWFwKHNpdGUgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sdW1uOiBzaXRlLmdldENvbHVtbk51bWJlcigpLFxuICAgICAgICBmaWxlOiBzaXRlLmdldEZpbGVOYW1lKCksXG4gICAgICAgIGZ1bmN0aW9uOiBzaXRlLmdldEZ1bmN0aW9uTmFtZSgpLFxuICAgICAgICBsaW5lOiBzaXRlLmdldExpbmVOdW1iZXIoKSxcbiAgICAgICAgbWV0aG9kOiBzaXRlLmdldE1ldGhvZE5hbWUoKSxcbiAgICAgICAgbmF0aXZlOiBzaXRlLmlzTmF0aXZlKClcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIG1ldGhvZCB0byBhZGQgYSB0cmFuc3BvcnQgYXMgYW4gZXhjZXB0aW9uIGhhbmRsZXIuXG4gICAqIEBwYXJhbSB7VHJhbnNwb3J0fSBoYW5kbGVyIC0gVGhlIHRyYW5zcG9ydCB0byBhZGQgYXMgYW4gZXhjZXB0aW9uIGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgX2FkZEhhbmRsZXIoaGFuZGxlcikge1xuICAgIGlmICghdGhpcy5oYW5kbGVycy5oYXMoaGFuZGxlcikpIHtcbiAgICAgIGhhbmRsZXIuaGFuZGxlRXhjZXB0aW9ucyA9IHRydWU7XG4gICAgICBjb25zdCB3cmFwcGVyID0gbmV3IEV4Y2VwdGlvblN0cmVhbShoYW5kbGVyKTtcbiAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGhhbmRsZXIsIHdyYXBwZXIpO1xuICAgICAgdGhpcy5sb2dnZXIucGlwZSh3cmFwcGVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9ncyBhbGwgcmVsZXZhbnQgaW5mb3JtYXRpb24gYXJvdW5kIHRoZSBgZXJyYCBhbmQgZXhpdHMgdGhlIGN1cnJlbnRcbiAgICogcHJvY2Vzcy5cbiAgICogQHBhcmFtIHtFcnJvcn0gZXJyIC0gRXJyb3IgdG8gaGFuZGxlXG4gICAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VuY2F1Z2h0RXhjZXB0aW9uKGVycikge1xuICAgIGNvbnN0IGluZm8gPSB0aGlzLmdldEFsbEluZm8oZXJyKTtcbiAgICBjb25zdCBoYW5kbGVycyA9IHRoaXMuX2dldEV4Y2VwdGlvbkhhbmRsZXJzKCk7XG4gICAgLy8gQ2FsY3VsYXRlIGlmIHdlIHNob3VsZCBleGl0IG9uIHRoaXMgZXJyb3JcbiAgICBsZXQgZG9FeGl0ID0gdHlwZW9mIHRoaXMubG9nZ2VyLmV4aXRPbkVycm9yID09PSAnZnVuY3Rpb24nXG4gICAgICA/IHRoaXMubG9nZ2VyLmV4aXRPbkVycm9yKGVycilcbiAgICAgIDogdGhpcy5sb2dnZXIuZXhpdE9uRXJyb3I7XG4gICAgbGV0IHRpbWVvdXQ7XG5cbiAgICBpZiAoIWhhbmRsZXJzLmxlbmd0aCAmJiBkb0V4aXQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oJ3dpbnN0b246IGV4aXRPbkVycm9yIGNhbm5vdCBiZSB0cnVlIHdpdGggbm8gZXhjZXB0aW9uIGhhbmRsZXJzLicpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2Fybignd2luc3Rvbjogbm90IGV4aXRpbmcgcHJvY2Vzcy4nKTtcbiAgICAgIGRvRXhpdCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdyYWNlZnVsRXhpdCgpIHtcbiAgICAgIGRlYnVnKCdkb0V4aXQnLCBkb0V4aXQpO1xuICAgICAgZGVidWcoJ3Byb2Nlc3MuX2V4aXRpbmcnLCBwcm9jZXNzLl9leGl0aW5nKTtcblxuICAgICAgaWYgKGRvRXhpdCAmJiAhcHJvY2Vzcy5fZXhpdGluZykge1xuICAgICAgICAvLyBSZW1hcms6IEN1cnJlbnRseSBpZ25vcmluZyBhbnkgZXhjZXB0aW9ucyBmcm9tIHRyYW5zcG9ydHMgd2hlblxuICAgICAgICAvLyBjYXRjaGluZyB1bmNhdWdodCBleGNlcHRpb25zLlxuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1leGl0XG4gICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWhhbmRsZXJzIHx8IGhhbmRsZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZ3JhY2VmdWxFeGl0KTtcbiAgICB9XG5cbiAgICAvLyBMb2cgdG8gYWxsIHRyYW5zcG9ydHMgYXR0ZW1wdGluZyB0byBsaXN0ZW4gZm9yIHdoZW4gdGhleSBhcmUgY29tcGxldGVkLlxuICAgIGFzeW5jRm9yRWFjaChoYW5kbGVycywgKGhhbmRsZXIsIG5leHQpID0+IHtcbiAgICAgIGNvbnN0IGRvbmUgPSBvbmNlKG5leHQpO1xuICAgICAgY29uc3QgdHJhbnNwb3J0ID0gaGFuZGxlci50cmFuc3BvcnQgfHwgaGFuZGxlcjtcblxuICAgICAgLy8gRGVidWcgd3JhcHBpbmcgc28gdGhhdCB3ZSBjYW4gaW5zcGVjdCB3aGF0J3MgZ29pbmcgb24gdW5kZXIgdGhlIGNvdmVycy5cbiAgICAgIGZ1bmN0aW9uIG9uRG9uZShldmVudCkge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIGRlYnVnKGV2ZW50KTtcbiAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHRyYW5zcG9ydC5fZW5kaW5nID0gdHJ1ZTtcbiAgICAgIHRyYW5zcG9ydC5vbmNlKCdmaW5pc2gnLCBvbkRvbmUoJ2ZpbmlzaGVkJykpO1xuICAgICAgdHJhbnNwb3J0Lm9uY2UoJ2Vycm9yJywgb25Eb25lKCdlcnJvcicpKTtcbiAgICB9LCAoKSA9PiBkb0V4aXQgJiYgZ3JhY2VmdWxFeGl0KCkpO1xuXG4gICAgdGhpcy5sb2dnZXIubG9nKGluZm8pO1xuXG4gICAgLy8gSWYgZXhpdE9uRXJyb3IgaXMgdHJ1ZSwgdGhlbiBvbmx5IGFsbG93IHRoZSBsb2dnaW5nIG9mIGV4Y2VwdGlvbnMgdG9cbiAgICAvLyB0YWtlIHVwIHRvIGAzMDAwbXNgLlxuICAgIGlmIChkb0V4aXQpIHtcbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGdyYWNlZnVsRXhpdCwgMzAwMCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxpc3Qgb2YgdHJhbnNwb3J0cyBhbmQgZXhjZXB0aW9uSGFuZGxlcnMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gLSBMaXN0IG9mIHRyYW5zcG9ydHMgYW5kIGV4Y2VwdGlvbkhhbmRsZXJzIGZvciB0aGlzXG4gICAqIGluc3RhbmNlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldEV4Y2VwdGlvbkhhbmRsZXJzKCkge1xuICAgIC8vIFJlbWFyayAoaW5kZXh6ZXJvKTogc2luY2UgYGxvZ2dlci50cmFuc3BvcnRzYCByZXR1cm5zIGFsbCBvZiB0aGUgcGlwZXNcbiAgICAvLyBmcm9tIHRoZSBfcmVhZGFibGVTdGF0ZSBvZiB0aGUgc3RyZWFtIHdlIGFjdHVhbGx5IGdldCB0aGUgam9pbiBvZiB0aGVcbiAgICAvLyBleHBsaWNpdCBoYW5kbGVycyBhbmQgdGhlIGltcGxpY2l0IHRyYW5zcG9ydHMgd2l0aFxuICAgIC8vIGBoYW5kbGVFeGNlcHRpb25zOiB0cnVlYFxuICAgIHJldHVybiB0aGlzLmxvZ2dlci50cmFuc3BvcnRzLmZpbHRlcih3cmFwID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IHdyYXAudHJhbnNwb3J0IHx8IHdyYXA7XG4gICAgICByZXR1cm4gdHJhbnNwb3J0LmhhbmRsZUV4Y2VwdGlvbnM7XG4gICAgfSk7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/exception-handler.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/exception-stream.js":
/*!**************************************************************!*\
  !*** ./node_modules/winston/lib/winston/exception-stream.js ***!
  \**************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * exception-stream.js: TODO: add file header handler.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst { Writable } = __webpack_require__(/*! readable-stream */ \"(action-browser)/./node_modules/readable-stream/readable.js\");\n\n/**\n * TODO: add class description.\n * @type {ExceptionStream}\n * @extends {Writable}\n */\nmodule.exports = class ExceptionStream extends Writable {\n  /**\n   * Constructor function for the ExceptionStream responsible for wrapping a\n   * TransportStream; only allowing writes of `info` objects with\n   * `info.exception` set to true.\n   * @param {!TransportStream} transport - Stream to filter to exceptions\n   */\n  constructor(transport) {\n    super({ objectMode: true });\n\n    if (!transport) {\n      throw new Error('ExceptionStream requires a TransportStream instance.');\n    }\n\n    // Remark (indexzero): we set `handleExceptions` here because it's the\n    // predicate checked in ExceptionHandler.prototype.__getExceptionHandlers\n    this.handleExceptions = true;\n    this.transport = transport;\n  }\n\n  /**\n   * Writes the info object to our transport instance if (and only if) the\n   * `exception` property is set on the info.\n   * @param {mixed} info - TODO: add param description.\n   * @param {mixed} enc - TODO: add param description.\n   * @param {mixed} callback - TODO: add param description.\n   * @returns {mixed} - TODO: add return description.\n   * @private\n   */\n  _write(info, enc, callback) {\n    if (info.exception) {\n      return this.transport.log(info, callback);\n    }\n\n    callback();\n    return true;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL2V4Y2VwdGlvbi1zdHJlYW0uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLFFBQVEsV0FBVyxFQUFFLG1CQUFPLENBQUMsb0ZBQWlCOztBQUU5QztBQUNBO0FBQ0EsVUFBVTtBQUNWLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLGFBQWEsa0JBQWtCO0FBQy9CO0FBQ0E7QUFDQSxZQUFZLGtCQUFrQjs7QUFFOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXHJlcG9cXE51dHJpV2lzZUFJXFxub2RlX21vZHVsZXNcXHdpbnN0b25cXGxpYlxcd2luc3RvblxcZXhjZXB0aW9uLXN0cmVhbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGV4Y2VwdGlvbi1zdHJlYW0uanM6IFRPRE86IGFkZCBmaWxlIGhlYWRlciBoYW5kbGVyLlxuICpcbiAqIChDKSAyMDEwIENoYXJsaWUgUm9iYmluc1xuICogTUlUIExJQ0VOQ0VcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IHsgV3JpdGFibGUgfSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbScpO1xuXG4vKipcbiAqIFRPRE86IGFkZCBjbGFzcyBkZXNjcmlwdGlvbi5cbiAqIEB0eXBlIHtFeGNlcHRpb25TdHJlYW19XG4gKiBAZXh0ZW5kcyB7V3JpdGFibGV9XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgRXhjZXB0aW9uU3RyZWFtIGV4dGVuZHMgV3JpdGFibGUge1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIHRoZSBFeGNlcHRpb25TdHJlYW0gcmVzcG9uc2libGUgZm9yIHdyYXBwaW5nIGFcbiAgICogVHJhbnNwb3J0U3RyZWFtOyBvbmx5IGFsbG93aW5nIHdyaXRlcyBvZiBgaW5mb2Agb2JqZWN0cyB3aXRoXG4gICAqIGBpbmZvLmV4Y2VwdGlvbmAgc2V0IHRvIHRydWUuXG4gICAqIEBwYXJhbSB7IVRyYW5zcG9ydFN0cmVhbX0gdHJhbnNwb3J0IC0gU3RyZWFtIHRvIGZpbHRlciB0byBleGNlcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0cmFuc3BvcnQpIHtcbiAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG5cbiAgICBpZiAoIXRyYW5zcG9ydCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeGNlcHRpb25TdHJlYW0gcmVxdWlyZXMgYSBUcmFuc3BvcnRTdHJlYW0gaW5zdGFuY2UuJyk7XG4gICAgfVxuXG4gICAgLy8gUmVtYXJrIChpbmRleHplcm8pOiB3ZSBzZXQgYGhhbmRsZUV4Y2VwdGlvbnNgIGhlcmUgYmVjYXVzZSBpdCdzIHRoZVxuICAgIC8vIHByZWRpY2F0ZSBjaGVja2VkIGluIEV4Y2VwdGlvbkhhbmRsZXIucHJvdG90eXBlLl9fZ2V0RXhjZXB0aW9uSGFuZGxlcnNcbiAgICB0aGlzLmhhbmRsZUV4Y2VwdGlvbnMgPSB0cnVlO1xuICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICB9XG5cbiAgLyoqXG4gICAqIFdyaXRlcyB0aGUgaW5mbyBvYmplY3QgdG8gb3VyIHRyYW5zcG9ydCBpbnN0YW5jZSBpZiAoYW5kIG9ubHkgaWYpIHRoZVxuICAgKiBgZXhjZXB0aW9uYCBwcm9wZXJ0eSBpcyBzZXQgb24gdGhlIGluZm8uXG4gICAqIEBwYXJhbSB7bWl4ZWR9IGluZm8gLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7bWl4ZWR9IGVuYyAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHttaXhlZH0gY2FsbGJhY2sgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3dyaXRlKGluZm8sIGVuYywgY2FsbGJhY2spIHtcbiAgICBpZiAoaW5mby5leGNlcHRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5sb2coaW5mbywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGNhbGxiYWNrKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/exception-stream.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/logger.js":
/*!****************************************************!*\
  !*** ./node_modules/winston/lib/winston/logger.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * logger.js: TODO: add file header description.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst { Stream, Transform } = __webpack_require__(/*! readable-stream */ \"(action-browser)/./node_modules/readable-stream/readable.js\");\nconst asyncForEach = __webpack_require__(/*! async/forEach */ \"(action-browser)/./node_modules/async/forEach.js\");\nconst { LEVEL, SPLAT } = __webpack_require__(/*! triple-beam */ \"(action-browser)/./node_modules/triple-beam/index.js\");\nconst isStream = __webpack_require__(/*! is-stream */ \"(action-browser)/./node_modules/is-stream/index.js\");\nconst ExceptionHandler = __webpack_require__(/*! ./exception-handler */ \"(action-browser)/./node_modules/winston/lib/winston/exception-handler.js\");\nconst RejectionHandler = __webpack_require__(/*! ./rejection-handler */ \"(action-browser)/./node_modules/winston/lib/winston/rejection-handler.js\");\nconst LegacyTransportStream = __webpack_require__(/*! winston-transport/legacy */ \"(action-browser)/./node_modules/winston-transport/legacy.js\");\nconst Profiler = __webpack_require__(/*! ./profiler */ \"(action-browser)/./node_modules/winston/lib/winston/profiler.js\");\nconst { warn } = __webpack_require__(/*! ./common */ \"(action-browser)/./node_modules/winston/lib/winston/common.js\");\nconst config = __webpack_require__(/*! ./config */ \"(action-browser)/./node_modules/winston/lib/winston/config/index.js\");\n\n/**\n * Captures the number of format (i.e. %s strings) in a given string.\n * Based on `util.format`, see Node.js source:\n * https://github.com/nodejs/node/blob/b1c8f15c5f169e021f7c46eb7b219de95fe97603/lib/util.js#L201-L230\n * @type {RegExp}\n */\nconst formatRegExp = /%[scdjifoO%]/g;\n\n/**\n * TODO: add class description.\n * @type {Logger}\n * @extends {Transform}\n */\nclass Logger extends Transform {\n  /**\n   * Constructor function for the Logger object responsible for persisting log\n   * messages and metadata to one or more transports.\n   * @param {!Object} options - foo\n   */\n  constructor(options) {\n    super({ objectMode: true });\n    this.configure(options);\n  }\n\n  child(defaultRequestMetadata) {\n    const logger = this;\n    return Object.create(logger, {\n      write: {\n        value: function (info) {\n          const infoClone = Object.assign(\n            {},\n            defaultRequestMetadata,\n            info\n          );\n\n          // Object.assign doesn't copy inherited Error\n          // properties so we have to do that explicitly\n          //\n          // Remark (indexzero): we should remove this\n          // since the errors format will handle this case.\n          //\n          if (info instanceof Error) {\n            infoClone.stack = info.stack;\n            infoClone.message = info.message;\n          }\n\n          logger.write(infoClone);\n        }\n      }\n    });\n  }\n\n  /**\n   * This will wholesale reconfigure this instance by:\n   * 1. Resetting all transports. Older transports will be removed implicitly.\n   * 2. Set all other options including levels, colors, rewriters, filters,\n   *    exceptionHandlers, etc.\n   * @param {!Object} options - TODO: add param description.\n   * @returns {undefined}\n   */\n  configure({\n    silent,\n    format,\n    defaultMeta,\n    levels,\n    level = 'info',\n    exitOnError = true,\n    transports,\n    colors,\n    emitErrs,\n    formatters,\n    padLevels,\n    rewriters,\n    stripColors,\n    exceptionHandlers,\n    rejectionHandlers\n  } = {}) {\n    // Reset transports if we already have them\n    if (this.transports.length) {\n      this.clear();\n    }\n\n    this.silent = silent;\n    this.format = format || this.format || __webpack_require__(/*! logform/json */ \"(action-browser)/./node_modules/logform/json.js\")();\n\n    this.defaultMeta = defaultMeta || null;\n    // Hoist other options onto this instance.\n    this.levels = levels || this.levels || config.npm.levels;\n    this.level = level;\n    if (this.exceptions) {\n      this.exceptions.unhandle();\n    }\n    if (this.rejections) {\n      this.rejections.unhandle();\n    }\n    this.exceptions = new ExceptionHandler(this);\n    this.rejections = new RejectionHandler(this);\n    this.profilers = {};\n    this.exitOnError = exitOnError;\n\n    // Add all transports we have been provided.\n    if (transports) {\n      transports = Array.isArray(transports) ? transports : [transports];\n      transports.forEach(transport => this.add(transport));\n    }\n\n    if (\n      colors ||\n      emitErrs ||\n      formatters ||\n      padLevels ||\n      rewriters ||\n      stripColors\n    ) {\n      throw new Error(\n        [\n          '{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.',\n          'Use a custom winston.format(function) instead.',\n          'See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md'\n        ].join('\\n')\n      );\n    }\n\n    if (exceptionHandlers) {\n      this.exceptions.handle(exceptionHandlers);\n    }\n    if (rejectionHandlers) {\n      this.rejections.handle(rejectionHandlers);\n    }\n  }\n\n  isLevelEnabled(level) {\n    const givenLevelValue = getLevelValue(this.levels, level);\n    if (givenLevelValue === null) {\n      return false;\n    }\n\n    const configuredLevelValue = getLevelValue(this.levels, this.level);\n    if (configuredLevelValue === null) {\n      return false;\n    }\n\n    if (!this.transports || this.transports.length === 0) {\n      return configuredLevelValue >= givenLevelValue;\n    }\n\n    const index = this.transports.findIndex(transport => {\n      let transportLevelValue = getLevelValue(this.levels, transport.level);\n      if (transportLevelValue === null) {\n        transportLevelValue = configuredLevelValue;\n      }\n      return transportLevelValue >= givenLevelValue;\n    });\n    return index !== -1;\n  }\n\n  /* eslint-disable valid-jsdoc */\n  /**\n   * Ensure backwards compatibility with a `log` method\n   * @param {mixed} level - Level the log message is written at.\n   * @param {mixed} msg - TODO: add param description.\n   * @param {mixed} meta - TODO: add param description.\n   * @returns {Logger} - TODO: add return description.\n   *\n   * @example\n   *    // Supports the existing API:\n   *    logger.log('info', 'Hello world', { custom: true });\n   *    logger.log('info', new Error('Yo, it\\'s on fire'));\n   *\n   *    // Requires winston.format.splat()\n   *    logger.log('info', '%s %d%%', 'A string', 50, { thisIsMeta: true });\n   *\n   *    // And the new API with a single JSON literal:\n   *    logger.log({ level: 'info', message: 'Hello world', custom: true });\n   *    logger.log({ level: 'info', message: new Error('Yo, it\\'s on fire') });\n   *\n   *    // Also requires winston.format.splat()\n   *    logger.log({\n   *      level: 'info',\n   *      message: '%s %d%%',\n   *      [SPLAT]: ['A string', 50],\n   *      meta: { thisIsMeta: true }\n   *    });\n   *\n   */\n  /* eslint-enable valid-jsdoc */\n  log(level, msg, ...splat) {\n    // eslint-disable-line max-params\n    // Optimize for the hotpath of logging JSON literals\n    if (arguments.length === 1) {\n      // Yo dawg, I heard you like levels ... seriously ...\n      // In this context the LHS `level` here is actually the `info` so read\n      // this as: info[LEVEL] = info.level;\n      level[LEVEL] = level.level;\n      this._addDefaultMeta(level);\n      this.write(level);\n      return this;\n    }\n\n    // Slightly less hotpath, but worth optimizing for.\n    if (arguments.length === 2) {\n      if (msg && typeof msg === 'object') {\n        msg[LEVEL] = msg.level = level;\n        this._addDefaultMeta(msg);\n        this.write(msg);\n        return this;\n      }\n\n      msg = { [LEVEL]: level, level, message: msg };\n      this._addDefaultMeta(msg);\n      this.write(msg);\n      return this;\n    }\n\n    const [meta] = splat;\n    if (typeof meta === 'object' && meta !== null) {\n      // Extract tokens, if none available default to empty array to\n      // ensure consistancy in expected results\n      const tokens = msg && msg.match && msg.match(formatRegExp);\n\n      if (!tokens) {\n        const info = Object.assign({}, this.defaultMeta, meta, {\n          [LEVEL]: level,\n          [SPLAT]: splat,\n          level,\n          message: msg\n        });\n\n        if (meta.message) info.message = `${info.message} ${meta.message}`;\n        if (meta.stack) info.stack = meta.stack;\n        if (meta.cause) info.cause = meta.cause;\n\n        this.write(info);\n        return this;\n      }\n    }\n\n    this.write(Object.assign({}, this.defaultMeta, {\n      [LEVEL]: level,\n      [SPLAT]: splat,\n      level,\n      message: msg\n    }));\n\n    return this;\n  }\n\n  /**\n   * Pushes data so that it can be picked up by all of our pipe targets.\n   * @param {mixed} info - TODO: add param description.\n   * @param {mixed} enc - TODO: add param description.\n   * @param {mixed} callback - Continues stream processing.\n   * @returns {undefined}\n   * @private\n   */\n  _transform(info, enc, callback) {\n    if (this.silent) {\n      return callback();\n    }\n\n    // [LEVEL] is only soft guaranteed to be set here since we are a proper\n    // stream. It is likely that `info` came in through `.log(info)` or\n    // `.info(info)`. If it is not defined, however, define it.\n    // This LEVEL symbol is provided by `triple-beam` and also used in:\n    // - logform\n    // - winston-transport\n    // - abstract-winston-transport\n    if (!info[LEVEL]) {\n      info[LEVEL] = info.level;\n    }\n\n    // Remark: really not sure what to do here, but this has been reported as\n    // very confusing by pre winston@2.0.0 users as quite confusing when using\n    // custom levels.\n    if (!this.levels[info[LEVEL]] && this.levels[info[LEVEL]] !== 0) {\n      // eslint-disable-next-line no-console\n      console.error('[winston] Unknown logger level: %s', info[LEVEL]);\n    }\n\n    // Remark: not sure if we should simply error here.\n    if (!this._readableState.pipes) {\n      // eslint-disable-next-line no-console\n      console.error(\n        '[winston] Attempt to write logs with no transports, which can increase memory usage: %j',\n        info\n      );\n    }\n\n    // Here we write to the `format` pipe-chain, which on `readable` above will\n    // push the formatted `info` Object onto the buffer for this instance. We trap\n    // (and re-throw) any errors generated by the user-provided format, but also\n    // guarantee that the streams callback is invoked so that we can continue flowing.\n    try {\n      this.push(this.format.transform(info, this.format.options));\n    } finally {\n      this._writableState.sync = false;\n      // eslint-disable-next-line callback-return\n      callback();\n    }\n  }\n\n  /**\n   * Delays the 'finish' event until all transport pipe targets have\n   * also emitted 'finish' or are already finished.\n   * @param {mixed} callback - Continues stream processing.\n   */\n  _final(callback) {\n    const transports = this.transports.slice();\n    asyncForEach(\n      transports,\n      (transport, next) => {\n        if (!transport || transport.finished) return setImmediate(next);\n        transport.once('finish', next);\n        transport.end();\n      },\n      callback\n    );\n  }\n\n  /**\n   * Adds the transport to this logger instance by piping to it.\n   * @param {mixed} transport - TODO: add param description.\n   * @returns {Logger} - TODO: add return description.\n   */\n  add(transport) {\n    // Support backwards compatibility with all existing `winston < 3.x.x`\n    // transports which meet one of two criteria:\n    // 1. They inherit from winston.Transport in  < 3.x.x which is NOT a stream.\n    // 2. They expose a log method which has a length greater than 2 (i.e. more then\n    //    just `log(info, callback)`.\n    const target =\n      !isStream(transport) || transport.log.length > 2\n        ? new LegacyTransportStream({ transport })\n        : transport;\n\n    if (!target._writableState || !target._writableState.objectMode) {\n      throw new Error(\n        'Transports must WritableStreams in objectMode. Set { objectMode: true }.'\n      );\n    }\n\n    // Listen for the `error` event and the `warn` event on the new Transport.\n    this._onEvent('error', target);\n    this._onEvent('warn', target);\n    this.pipe(target);\n\n    if (transport.handleExceptions) {\n      this.exceptions.handle();\n    }\n\n    if (transport.handleRejections) {\n      this.rejections.handle();\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the transport from this logger instance by unpiping from it.\n   * @param {mixed} transport - TODO: add param description.\n   * @returns {Logger} - TODO: add return description.\n   */\n  remove(transport) {\n    if (!transport) return this;\n    let target = transport;\n    if (!isStream(transport) || transport.log.length > 2) {\n      target = this.transports.filter(\n        match => match.transport === transport\n      )[0];\n    }\n\n    if (target) {\n      this.unpipe(target);\n    }\n    return this;\n  }\n\n  /**\n   * Removes all transports from this logger instance.\n   * @returns {Logger} - TODO: add return description.\n   */\n  clear() {\n    this.unpipe();\n    return this;\n  }\n\n  /**\n   * Cleans up resources (streams, event listeners) for all transports\n   * associated with this instance (if necessary).\n   * @returns {Logger} - TODO: add return description.\n   */\n  close() {\n    this.exceptions.unhandle();\n    this.rejections.unhandle();\n    this.clear();\n    this.emit('close');\n    return this;\n  }\n\n  /**\n   * Sets the `target` levels specified on this instance.\n   * @param {Object} Target levels to use on this instance.\n   */\n  setLevels() {\n    warn.deprecated('setLevels');\n  }\n\n  /**\n   * Queries the all transports for this instance with the specified `options`.\n   * This will aggregate each transport's results into one object containing\n   * a property per transport.\n   * @param {Object} options - Query options for this instance.\n   * @param {function} callback - Continuation to respond to when complete.\n   */\n  query(options, callback) {\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    options = options || {};\n    const results = {};\n    const queryObject = Object.assign({}, options.query || {});\n\n    // Helper function to query a single transport\n    function queryTransport(transport, next) {\n      if (options.query && typeof transport.formatQuery === 'function') {\n        options.query = transport.formatQuery(queryObject);\n      }\n\n      transport.query(options, (err, res) => {\n        if (err) {\n          return next(err);\n        }\n\n        if (typeof transport.formatResults === 'function') {\n          res = transport.formatResults(res, options.format);\n        }\n\n        next(null, res);\n      });\n    }\n\n    // Helper function to accumulate the results from `queryTransport` into\n    // the `results`.\n    function addResults(transport, next) {\n      queryTransport(transport, (err, result) => {\n        // queryTransport could potentially invoke the callback multiple times\n        // since Transport code can be unpredictable.\n        if (next) {\n          result = err || result;\n          if (result) {\n            results[transport.name] = result;\n          }\n\n          // eslint-disable-next-line callback-return\n          next();\n        }\n\n        next = null;\n      });\n    }\n\n    // Iterate over the transports in parallel setting the appropriate key in\n    // the `results`.\n    asyncForEach(\n      this.transports.filter(transport => !!transport.query),\n      addResults,\n      () => callback(null, results)\n    );\n  }\n\n  /**\n   * Returns a log stream for all transports. Options object is optional.\n   * @param{Object} options={} - Stream options for this instance.\n   * @returns {Stream} - TODO: add return description.\n   */\n  stream(options = {}) {\n    const out = new Stream();\n    const streams = [];\n\n    out._streams = streams;\n    out.destroy = () => {\n      let i = streams.length;\n      while (i--) {\n        streams[i].destroy();\n      }\n    };\n\n    // Create a list of all transports for this instance.\n    this.transports\n      .filter(transport => !!transport.stream)\n      .forEach(transport => {\n        const str = transport.stream(options);\n        if (!str) {\n          return;\n        }\n\n        streams.push(str);\n\n        str.on('log', log => {\n          log.transport = log.transport || [];\n          log.transport.push(transport.name);\n          out.emit('log', log);\n        });\n\n        str.on('error', err => {\n          err.transport = err.transport || [];\n          err.transport.push(transport.name);\n          out.emit('error', err);\n        });\n      });\n\n    return out;\n  }\n\n  /**\n   * Returns an object corresponding to a specific timing. When done is called\n   * the timer will finish and log the duration. e.g.:\n   * @returns {Profile} - TODO: add return description.\n   * @example\n   *    const timer = winston.startTimer()\n   *    setTimeout(() => {\n   *      timer.done({\n   *        message: 'Logging message'\n   *      });\n   *    }, 1000);\n   */\n  startTimer() {\n    return new Profiler(this);\n  }\n\n  /**\n   * Tracks the time inbetween subsequent calls to this method with the same\n   * `id` parameter. The second call to this method will log the difference in\n   * milliseconds along with the message.\n   * @param {string} id Unique id of the profiler\n   * @returns {Logger} - TODO: add return description.\n   */\n  profile(id, ...args) {\n    const time = Date.now();\n    if (this.profilers[id]) {\n      const timeEnd = this.profilers[id];\n      delete this.profilers[id];\n\n      // Attempt to be kind to users if they are still using older APIs.\n      if (typeof args[args.length - 2] === 'function') {\n        // eslint-disable-next-line no-console\n        console.warn(\n          'Callback function no longer supported as of winston@3.0.0'\n        );\n        args.pop();\n      }\n\n      // Set the duration property of the metadata\n      const info = typeof args[args.length - 1] === 'object' ? args.pop() : {};\n      info.level = info.level || 'info';\n      info.durationMs = time - timeEnd;\n      info.message = info.message || id;\n      return this.write(info);\n    }\n\n    this.profilers[id] = time;\n    return this;\n  }\n\n  /**\n   * Backwards compatibility to `exceptions.handle` in winston < 3.0.0.\n   * @returns {undefined}\n   * @deprecated\n   */\n  handleExceptions(...args) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      'Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()'\n    );\n    this.exceptions.handle(...args);\n  }\n\n  /**\n   * Backwards compatibility to `exceptions.handle` in winston < 3.0.0.\n   * @returns {undefined}\n   * @deprecated\n   */\n  unhandleExceptions(...args) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      'Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()'\n    );\n    this.exceptions.unhandle(...args);\n  }\n\n  /**\n   * Throw a more meaningful deprecation notice\n   * @throws {Error} - TODO: add throws description.\n   */\n  cli() {\n    throw new Error(\n      [\n        'Logger.cli() was removed in winston@3.0.0',\n        'Use a custom winston.formats.cli() instead.',\n        'See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md'\n      ].join('\\n')\n    );\n  }\n\n  /**\n   * Bubbles the `event` that occured on the specified `transport` up\n   * from this instance.\n   * @param {string} event - The event that occured\n   * @param {Object} transport - Transport on which the event occured\n   * @private\n   */\n  _onEvent(event, transport) {\n    function transportEvent(err) {\n      // https://github.com/winstonjs/winston/issues/1364\n      if (event === 'error' && !this.transports.includes(transport)) {\n        this.add(transport);\n      }\n      this.emit(event, err, transport);\n    }\n\n    if (!transport['__winston' + event]) {\n      transport['__winston' + event] = transportEvent.bind(this);\n      transport.on(event, transport['__winston' + event]);\n    }\n  }\n\n  _addDefaultMeta(msg) {\n    if (this.defaultMeta) {\n      Object.assign(msg, this.defaultMeta);\n    }\n  }\n}\n\nfunction getLevelValue(levels, level) {\n  const value = levels[level];\n  if (!value && value !== 0) {\n    return null;\n  }\n  return value;\n}\n\n/**\n * Represents the current readableState pipe targets for this Logger instance.\n * @type {Array|Object}\n */\nObject.defineProperty(Logger.prototype, 'transports', {\n  configurable: false,\n  enumerable: true,\n  get() {\n    const { pipes } = this._readableState;\n    return !Array.isArray(pipes) ? [pipes].filter(Boolean) : pipes;\n  }\n});\n\nmodule.exports = Logger;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL2xvZ2dlci5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsUUFBUSxvQkFBb0IsRUFBRSxtQkFBTyxDQUFDLG9GQUFpQjtBQUN2RCxxQkFBcUIsbUJBQU8sQ0FBQyx1RUFBZTtBQUM1QyxRQUFRLGVBQWUsRUFBRSxtQkFBTyxDQUFDLHlFQUFhO0FBQzlDLGlCQUFpQixtQkFBTyxDQUFDLHFFQUFXO0FBQ3BDLHlCQUF5QixtQkFBTyxDQUFDLHFHQUFxQjtBQUN0RCx5QkFBeUIsbUJBQU8sQ0FBQyxxR0FBcUI7QUFDdEQsOEJBQThCLG1CQUFPLENBQUMsNkZBQTBCO0FBQ2hFLGlCQUFpQixtQkFBTyxDQUFDLG1GQUFZO0FBQ3JDLFFBQVEsT0FBTyxFQUFFLG1CQUFPLENBQUMsK0VBQVU7QUFDbkMsZUFBZSxtQkFBTyxDQUFDLHFGQUFVOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBLFlBQVksa0JBQWtCO0FBQzlCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMscUVBQWM7O0FBRWpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxjQUFjO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxrQkFBa0I7QUFDMUU7QUFDQTtBQUNBLHFCQUFxQixxREFBcUQ7QUFDMUUscUJBQXFCLHdEQUF3RDtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVCw0Q0FBNEMsY0FBYyxFQUFFLGFBQWE7QUFDekU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsV0FBVztBQUNqRDs7QUFFQTtBQUNBO0FBQ0EsOERBQThELGtCQUFrQjtBQUNoRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3Q0FBd0MscUJBQXFCOztBQUU3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZLFFBQVEsV0FBVztBQUMvQixlQUFlLFFBQVE7QUFDdkI7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsiQzpcXHJlcG9cXE51dHJpV2lzZUFJXFxub2RlX21vZHVsZXNcXHdpbnN0b25cXGxpYlxcd2luc3RvblxcbG9nZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogbG9nZ2VyLmpzOiBUT0RPOiBhZGQgZmlsZSBoZWFkZXIgZGVzY3JpcHRpb24uXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgeyBTdHJlYW0sIFRyYW5zZm9ybSB9ID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtJyk7XG5jb25zdCBhc3luY0ZvckVhY2ggPSByZXF1aXJlKCdhc3luYy9mb3JFYWNoJyk7XG5jb25zdCB7IExFVkVMLCBTUExBVCB9ID0gcmVxdWlyZSgndHJpcGxlLWJlYW0nKTtcbmNvbnN0IGlzU3RyZWFtID0gcmVxdWlyZSgnaXMtc3RyZWFtJyk7XG5jb25zdCBFeGNlcHRpb25IYW5kbGVyID0gcmVxdWlyZSgnLi9leGNlcHRpb24taGFuZGxlcicpO1xuY29uc3QgUmVqZWN0aW9uSGFuZGxlciA9IHJlcXVpcmUoJy4vcmVqZWN0aW9uLWhhbmRsZXInKTtcbmNvbnN0IExlZ2FjeVRyYW5zcG9ydFN0cmVhbSA9IHJlcXVpcmUoJ3dpbnN0b24tdHJhbnNwb3J0L2xlZ2FjeScpO1xuY29uc3QgUHJvZmlsZXIgPSByZXF1aXJlKCcuL3Byb2ZpbGVyJyk7XG5jb25zdCB7IHdhcm4gfSA9IHJlcXVpcmUoJy4vY29tbW9uJyk7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xuXG4vKipcbiAqIENhcHR1cmVzIHRoZSBudW1iZXIgb2YgZm9ybWF0IChpLmUuICVzIHN0cmluZ3MpIGluIGEgZ2l2ZW4gc3RyaW5nLlxuICogQmFzZWQgb24gYHV0aWwuZm9ybWF0YCwgc2VlIE5vZGUuanMgc291cmNlOlxuICogaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvYjFjOGYxNWM1ZjE2OWUwMjFmN2M0NmViN2IyMTlkZTk1ZmU5NzYwMy9saWIvdXRpbC5qcyNMMjAxLUwyMzBcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKi9cbmNvbnN0IGZvcm1hdFJlZ0V4cCA9IC8lW3NjZGppZm9PJV0vZztcblxuLyoqXG4gKiBUT0RPOiBhZGQgY2xhc3MgZGVzY3JpcHRpb24uXG4gKiBAdHlwZSB7TG9nZ2VyfVxuICogQGV4dGVuZHMge1RyYW5zZm9ybX1cbiAqL1xuY2xhc3MgTG9nZ2VyIGV4dGVuZHMgVHJhbnNmb3JtIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgTG9nZ2VyIG9iamVjdCByZXNwb25zaWJsZSBmb3IgcGVyc2lzdGluZyBsb2dcbiAgICogbWVzc2FnZXMgYW5kIG1ldGFkYXRhIHRvIG9uZSBvciBtb3JlIHRyYW5zcG9ydHMuXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gb3B0aW9ucyAtIGZvb1xuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKHsgb2JqZWN0TW9kZTogdHJ1ZSB9KTtcbiAgICB0aGlzLmNvbmZpZ3VyZShvcHRpb25zKTtcbiAgfVxuXG4gIGNoaWxkKGRlZmF1bHRSZXF1ZXN0TWV0YWRhdGEpIHtcbiAgICBjb25zdCBsb2dnZXIgPSB0aGlzO1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKGxvZ2dlciwge1xuICAgICAgd3JpdGU6IHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAgICAgY29uc3QgaW5mb0Nsb25lID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgZGVmYXVsdFJlcXVlc3RNZXRhZGF0YSxcbiAgICAgICAgICAgIGluZm9cbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gT2JqZWN0LmFzc2lnbiBkb2Vzbid0IGNvcHkgaW5oZXJpdGVkIEVycm9yXG4gICAgICAgICAgLy8gcHJvcGVydGllcyBzbyB3ZSBoYXZlIHRvIGRvIHRoYXQgZXhwbGljaXRseVxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gUmVtYXJrIChpbmRleHplcm8pOiB3ZSBzaG91bGQgcmVtb3ZlIHRoaXNcbiAgICAgICAgICAvLyBzaW5jZSB0aGUgZXJyb3JzIGZvcm1hdCB3aWxsIGhhbmRsZSB0aGlzIGNhc2UuXG4gICAgICAgICAgLy9cbiAgICAgICAgICBpZiAoaW5mbyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBpbmZvQ2xvbmUuc3RhY2sgPSBpbmZvLnN0YWNrO1xuICAgICAgICAgICAgaW5mb0Nsb25lLm1lc3NhZ2UgPSBpbmZvLm1lc3NhZ2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbG9nZ2VyLndyaXRlKGluZm9DbG9uZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIHdpbGwgd2hvbGVzYWxlIHJlY29uZmlndXJlIHRoaXMgaW5zdGFuY2UgYnk6XG4gICAqIDEuIFJlc2V0dGluZyBhbGwgdHJhbnNwb3J0cy4gT2xkZXIgdHJhbnNwb3J0cyB3aWxsIGJlIHJlbW92ZWQgaW1wbGljaXRseS5cbiAgICogMi4gU2V0IGFsbCBvdGhlciBvcHRpb25zIGluY2x1ZGluZyBsZXZlbHMsIGNvbG9ycywgcmV3cml0ZXJzLCBmaWx0ZXJzLFxuICAgKiAgICBleGNlcHRpb25IYW5kbGVycywgZXRjLlxuICAgKiBAcGFyYW0geyFPYmplY3R9IG9wdGlvbnMgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBjb25maWd1cmUoe1xuICAgIHNpbGVudCxcbiAgICBmb3JtYXQsXG4gICAgZGVmYXVsdE1ldGEsXG4gICAgbGV2ZWxzLFxuICAgIGxldmVsID0gJ2luZm8nLFxuICAgIGV4aXRPbkVycm9yID0gdHJ1ZSxcbiAgICB0cmFuc3BvcnRzLFxuICAgIGNvbG9ycyxcbiAgICBlbWl0RXJycyxcbiAgICBmb3JtYXR0ZXJzLFxuICAgIHBhZExldmVscyxcbiAgICByZXdyaXRlcnMsXG4gICAgc3RyaXBDb2xvcnMsXG4gICAgZXhjZXB0aW9uSGFuZGxlcnMsXG4gICAgcmVqZWN0aW9uSGFuZGxlcnNcbiAgfSA9IHt9KSB7XG4gICAgLy8gUmVzZXQgdHJhbnNwb3J0cyBpZiB3ZSBhbHJlYWR5IGhhdmUgdGhlbVxuICAgIGlmICh0aGlzLnRyYW5zcG9ydHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zaWxlbnQgPSBzaWxlbnQ7XG4gICAgdGhpcy5mb3JtYXQgPSBmb3JtYXQgfHwgdGhpcy5mb3JtYXQgfHwgcmVxdWlyZSgnbG9nZm9ybS9qc29uJykoKTtcblxuICAgIHRoaXMuZGVmYXVsdE1ldGEgPSBkZWZhdWx0TWV0YSB8fCBudWxsO1xuICAgIC8vIEhvaXN0IG90aGVyIG9wdGlvbnMgb250byB0aGlzIGluc3RhbmNlLlxuICAgIHRoaXMubGV2ZWxzID0gbGV2ZWxzIHx8IHRoaXMubGV2ZWxzIHx8IGNvbmZpZy5ucG0ubGV2ZWxzO1xuICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICBpZiAodGhpcy5leGNlcHRpb25zKSB7XG4gICAgICB0aGlzLmV4Y2VwdGlvbnMudW5oYW5kbGUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVqZWN0aW9ucykge1xuICAgICAgdGhpcy5yZWplY3Rpb25zLnVuaGFuZGxlKCk7XG4gICAgfVxuICAgIHRoaXMuZXhjZXB0aW9ucyA9IG5ldyBFeGNlcHRpb25IYW5kbGVyKHRoaXMpO1xuICAgIHRoaXMucmVqZWN0aW9ucyA9IG5ldyBSZWplY3Rpb25IYW5kbGVyKHRoaXMpO1xuICAgIHRoaXMucHJvZmlsZXJzID0ge307XG4gICAgdGhpcy5leGl0T25FcnJvciA9IGV4aXRPbkVycm9yO1xuXG4gICAgLy8gQWRkIGFsbCB0cmFuc3BvcnRzIHdlIGhhdmUgYmVlbiBwcm92aWRlZC5cbiAgICBpZiAodHJhbnNwb3J0cykge1xuICAgICAgdHJhbnNwb3J0cyA9IEFycmF5LmlzQXJyYXkodHJhbnNwb3J0cykgPyB0cmFuc3BvcnRzIDogW3RyYW5zcG9ydHNdO1xuICAgICAgdHJhbnNwb3J0cy5mb3JFYWNoKHRyYW5zcG9ydCA9PiB0aGlzLmFkZCh0cmFuc3BvcnQpKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBjb2xvcnMgfHxcbiAgICAgIGVtaXRFcnJzIHx8XG4gICAgICBmb3JtYXR0ZXJzIHx8XG4gICAgICBwYWRMZXZlbHMgfHxcbiAgICAgIHJld3JpdGVycyB8fFxuICAgICAgc3RyaXBDb2xvcnNcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgW1xuICAgICAgICAgICd7IGNvbG9ycywgZW1pdEVycnMsIGZvcm1hdHRlcnMsIHBhZExldmVscywgcmV3cml0ZXJzLCBzdHJpcENvbG9ycyB9IHdlcmUgcmVtb3ZlZCBpbiB3aW5zdG9uQDMuMC4wLicsXG4gICAgICAgICAgJ1VzZSBhIGN1c3RvbSB3aW5zdG9uLmZvcm1hdChmdW5jdGlvbikgaW5zdGVhZC4nLFxuICAgICAgICAgICdTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS93aW5zdG9uanMvd2luc3Rvbi90cmVlL21hc3Rlci9VUEdSQURFLTMuMC5tZCdcbiAgICAgICAgXS5qb2luKCdcXG4nKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZXhjZXB0aW9uSGFuZGxlcnMpIHtcbiAgICAgIHRoaXMuZXhjZXB0aW9ucy5oYW5kbGUoZXhjZXB0aW9uSGFuZGxlcnMpO1xuICAgIH1cbiAgICBpZiAocmVqZWN0aW9uSGFuZGxlcnMpIHtcbiAgICAgIHRoaXMucmVqZWN0aW9ucy5oYW5kbGUocmVqZWN0aW9uSGFuZGxlcnMpO1xuICAgIH1cbiAgfVxuXG4gIGlzTGV2ZWxFbmFibGVkKGxldmVsKSB7XG4gICAgY29uc3QgZ2l2ZW5MZXZlbFZhbHVlID0gZ2V0TGV2ZWxWYWx1ZSh0aGlzLmxldmVscywgbGV2ZWwpO1xuICAgIGlmIChnaXZlbkxldmVsVmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBjb25maWd1cmVkTGV2ZWxWYWx1ZSA9IGdldExldmVsVmFsdWUodGhpcy5sZXZlbHMsIHRoaXMubGV2ZWwpO1xuICAgIGlmIChjb25maWd1cmVkTGV2ZWxWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghdGhpcy50cmFuc3BvcnRzIHx8IHRoaXMudHJhbnNwb3J0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBjb25maWd1cmVkTGV2ZWxWYWx1ZSA+PSBnaXZlbkxldmVsVmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnRyYW5zcG9ydHMuZmluZEluZGV4KHRyYW5zcG9ydCA9PiB7XG4gICAgICBsZXQgdHJhbnNwb3J0TGV2ZWxWYWx1ZSA9IGdldExldmVsVmFsdWUodGhpcy5sZXZlbHMsIHRyYW5zcG9ydC5sZXZlbCk7XG4gICAgICBpZiAodHJhbnNwb3J0TGV2ZWxWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICB0cmFuc3BvcnRMZXZlbFZhbHVlID0gY29uZmlndXJlZExldmVsVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhbnNwb3J0TGV2ZWxWYWx1ZSA+PSBnaXZlbkxldmVsVmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGluZGV4ICE9PSAtMTtcbiAgfVxuXG4gIC8qIGVzbGludC1kaXNhYmxlIHZhbGlkLWpzZG9jICovXG4gIC8qKlxuICAgKiBFbnN1cmUgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBhIGBsb2dgIG1ldGhvZFxuICAgKiBAcGFyYW0ge21peGVkfSBsZXZlbCAtIExldmVsIHRoZSBsb2cgbWVzc2FnZSBpcyB3cml0dGVuIGF0LlxuICAgKiBAcGFyYW0ge21peGVkfSBtc2cgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7bWl4ZWR9IG1ldGEgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHtMb2dnZXJ9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogICAgLy8gU3VwcG9ydHMgdGhlIGV4aXN0aW5nIEFQSTpcbiAgICogICAgbG9nZ2VyLmxvZygnaW5mbycsICdIZWxsbyB3b3JsZCcsIHsgY3VzdG9tOiB0cnVlIH0pO1xuICAgKiAgICBsb2dnZXIubG9nKCdpbmZvJywgbmV3IEVycm9yKCdZbywgaXRcXCdzIG9uIGZpcmUnKSk7XG4gICAqXG4gICAqICAgIC8vIFJlcXVpcmVzIHdpbnN0b24uZm9ybWF0LnNwbGF0KClcbiAgICogICAgbG9nZ2VyLmxvZygnaW5mbycsICclcyAlZCUlJywgJ0Egc3RyaW5nJywgNTAsIHsgdGhpc0lzTWV0YTogdHJ1ZSB9KTtcbiAgICpcbiAgICogICAgLy8gQW5kIHRoZSBuZXcgQVBJIHdpdGggYSBzaW5nbGUgSlNPTiBsaXRlcmFsOlxuICAgKiAgICBsb2dnZXIubG9nKHsgbGV2ZWw6ICdpbmZvJywgbWVzc2FnZTogJ0hlbGxvIHdvcmxkJywgY3VzdG9tOiB0cnVlIH0pO1xuICAgKiAgICBsb2dnZXIubG9nKHsgbGV2ZWw6ICdpbmZvJywgbWVzc2FnZTogbmV3IEVycm9yKCdZbywgaXRcXCdzIG9uIGZpcmUnKSB9KTtcbiAgICpcbiAgICogICAgLy8gQWxzbyByZXF1aXJlcyB3aW5zdG9uLmZvcm1hdC5zcGxhdCgpXG4gICAqICAgIGxvZ2dlci5sb2coe1xuICAgKiAgICAgIGxldmVsOiAnaW5mbycsXG4gICAqICAgICAgbWVzc2FnZTogJyVzICVkJSUnLFxuICAgKiAgICAgIFtTUExBVF06IFsnQSBzdHJpbmcnLCA1MF0sXG4gICAqICAgICAgbWV0YTogeyB0aGlzSXNNZXRhOiB0cnVlIH1cbiAgICogICAgfSk7XG4gICAqXG4gICAqL1xuICAvKiBlc2xpbnQtZW5hYmxlIHZhbGlkLWpzZG9jICovXG4gIGxvZyhsZXZlbCwgbXNnLCAuLi5zcGxhdCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LXBhcmFtc1xuICAgIC8vIE9wdGltaXplIGZvciB0aGUgaG90cGF0aCBvZiBsb2dnaW5nIEpTT04gbGl0ZXJhbHNcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gWW8gZGF3ZywgSSBoZWFyZCB5b3UgbGlrZSBsZXZlbHMgLi4uIHNlcmlvdXNseSAuLi5cbiAgICAgIC8vIEluIHRoaXMgY29udGV4dCB0aGUgTEhTIGBsZXZlbGAgaGVyZSBpcyBhY3R1YWxseSB0aGUgYGluZm9gIHNvIHJlYWRcbiAgICAgIC8vIHRoaXMgYXM6IGluZm9bTEVWRUxdID0gaW5mby5sZXZlbDtcbiAgICAgIGxldmVsW0xFVkVMXSA9IGxldmVsLmxldmVsO1xuICAgICAgdGhpcy5fYWRkRGVmYXVsdE1ldGEobGV2ZWwpO1xuICAgICAgdGhpcy53cml0ZShsZXZlbCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBTbGlnaHRseSBsZXNzIGhvdHBhdGgsIGJ1dCB3b3J0aCBvcHRpbWl6aW5nIGZvci5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgaWYgKG1zZyAmJiB0eXBlb2YgbXNnID09PSAnb2JqZWN0Jykge1xuICAgICAgICBtc2dbTEVWRUxdID0gbXNnLmxldmVsID0gbGV2ZWw7XG4gICAgICAgIHRoaXMuX2FkZERlZmF1bHRNZXRhKG1zZyk7XG4gICAgICAgIHRoaXMud3JpdGUobXNnKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIG1zZyA9IHsgW0xFVkVMXTogbGV2ZWwsIGxldmVsLCBtZXNzYWdlOiBtc2cgfTtcbiAgICAgIHRoaXMuX2FkZERlZmF1bHRNZXRhKG1zZyk7XG4gICAgICB0aGlzLndyaXRlKG1zZyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjb25zdCBbbWV0YV0gPSBzcGxhdDtcbiAgICBpZiAodHlwZW9mIG1ldGEgPT09ICdvYmplY3QnICYmIG1ldGEgIT09IG51bGwpIHtcbiAgICAgIC8vIEV4dHJhY3QgdG9rZW5zLCBpZiBub25lIGF2YWlsYWJsZSBkZWZhdWx0IHRvIGVtcHR5IGFycmF5IHRvXG4gICAgICAvLyBlbnN1cmUgY29uc2lzdGFuY3kgaW4gZXhwZWN0ZWQgcmVzdWx0c1xuICAgICAgY29uc3QgdG9rZW5zID0gbXNnICYmIG1zZy5tYXRjaCAmJiBtc2cubWF0Y2goZm9ybWF0UmVnRXhwKTtcblxuICAgICAgaWYgKCF0b2tlbnMpIHtcbiAgICAgICAgY29uc3QgaW5mbyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdE1ldGEsIG1ldGEsIHtcbiAgICAgICAgICBbTEVWRUxdOiBsZXZlbCxcbiAgICAgICAgICBbU1BMQVRdOiBzcGxhdCxcbiAgICAgICAgICBsZXZlbCxcbiAgICAgICAgICBtZXNzYWdlOiBtc2dcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG1ldGEubWVzc2FnZSkgaW5mby5tZXNzYWdlID0gYCR7aW5mby5tZXNzYWdlfSAke21ldGEubWVzc2FnZX1gO1xuICAgICAgICBpZiAobWV0YS5zdGFjaykgaW5mby5zdGFjayA9IG1ldGEuc3RhY2s7XG4gICAgICAgIGlmIChtZXRhLmNhdXNlKSBpbmZvLmNhdXNlID0gbWV0YS5jYXVzZTtcblxuICAgICAgICB0aGlzLndyaXRlKGluZm8pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLndyaXRlKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdE1ldGEsIHtcbiAgICAgIFtMRVZFTF06IGxldmVsLFxuICAgICAgW1NQTEFUXTogc3BsYXQsXG4gICAgICBsZXZlbCxcbiAgICAgIG1lc3NhZ2U6IG1zZ1xuICAgIH0pKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1c2hlcyBkYXRhIHNvIHRoYXQgaXQgY2FuIGJlIHBpY2tlZCB1cCBieSBhbGwgb2Ygb3VyIHBpcGUgdGFyZ2V0cy5cbiAgICogQHBhcmFtIHttaXhlZH0gaW5mbyAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHttaXhlZH0gZW5jIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge21peGVkfSBjYWxsYmFjayAtIENvbnRpbnVlcyBzdHJlYW0gcHJvY2Vzc2luZy5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF90cmFuc2Zvcm0oaW5mbywgZW5jLCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLnNpbGVudCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgLy8gW0xFVkVMXSBpcyBvbmx5IHNvZnQgZ3VhcmFudGVlZCB0byBiZSBzZXQgaGVyZSBzaW5jZSB3ZSBhcmUgYSBwcm9wZXJcbiAgICAvLyBzdHJlYW0uIEl0IGlzIGxpa2VseSB0aGF0IGBpbmZvYCBjYW1lIGluIHRocm91Z2ggYC5sb2coaW5mbylgIG9yXG4gICAgLy8gYC5pbmZvKGluZm8pYC4gSWYgaXQgaXMgbm90IGRlZmluZWQsIGhvd2V2ZXIsIGRlZmluZSBpdC5cbiAgICAvLyBUaGlzIExFVkVMIHN5bWJvbCBpcyBwcm92aWRlZCBieSBgdHJpcGxlLWJlYW1gIGFuZCBhbHNvIHVzZWQgaW46XG4gICAgLy8gLSBsb2dmb3JtXG4gICAgLy8gLSB3aW5zdG9uLXRyYW5zcG9ydFxuICAgIC8vIC0gYWJzdHJhY3Qtd2luc3Rvbi10cmFuc3BvcnRcbiAgICBpZiAoIWluZm9bTEVWRUxdKSB7XG4gICAgICBpbmZvW0xFVkVMXSA9IGluZm8ubGV2ZWw7XG4gICAgfVxuXG4gICAgLy8gUmVtYXJrOiByZWFsbHkgbm90IHN1cmUgd2hhdCB0byBkbyBoZXJlLCBidXQgdGhpcyBoYXMgYmVlbiByZXBvcnRlZCBhc1xuICAgIC8vIHZlcnkgY29uZnVzaW5nIGJ5IHByZSB3aW5zdG9uQDIuMC4wIHVzZXJzIGFzIHF1aXRlIGNvbmZ1c2luZyB3aGVuIHVzaW5nXG4gICAgLy8gY3VzdG9tIGxldmVscy5cbiAgICBpZiAoIXRoaXMubGV2ZWxzW2luZm9bTEVWRUxdXSAmJiB0aGlzLmxldmVsc1tpbmZvW0xFVkVMXV0gIT09IDApIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmVycm9yKCdbd2luc3Rvbl0gVW5rbm93biBsb2dnZXIgbGV2ZWw6ICVzJywgaW5mb1tMRVZFTF0pO1xuICAgIH1cblxuICAgIC8vIFJlbWFyazogbm90IHN1cmUgaWYgd2Ugc2hvdWxkIHNpbXBseSBlcnJvciBoZXJlLlxuICAgIGlmICghdGhpcy5fcmVhZGFibGVTdGF0ZS5waXBlcykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICdbd2luc3Rvbl0gQXR0ZW1wdCB0byB3cml0ZSBsb2dzIHdpdGggbm8gdHJhbnNwb3J0cywgd2hpY2ggY2FuIGluY3JlYXNlIG1lbW9yeSB1c2FnZTogJWonLFxuICAgICAgICBpbmZvXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEhlcmUgd2Ugd3JpdGUgdG8gdGhlIGBmb3JtYXRgIHBpcGUtY2hhaW4sIHdoaWNoIG9uIGByZWFkYWJsZWAgYWJvdmUgd2lsbFxuICAgIC8vIHB1c2ggdGhlIGZvcm1hdHRlZCBgaW5mb2AgT2JqZWN0IG9udG8gdGhlIGJ1ZmZlciBmb3IgdGhpcyBpbnN0YW5jZS4gV2UgdHJhcFxuICAgIC8vIChhbmQgcmUtdGhyb3cpIGFueSBlcnJvcnMgZ2VuZXJhdGVkIGJ5IHRoZSB1c2VyLXByb3ZpZGVkIGZvcm1hdCwgYnV0IGFsc29cbiAgICAvLyBndWFyYW50ZWUgdGhhdCB0aGUgc3RyZWFtcyBjYWxsYmFjayBpcyBpbnZva2VkIHNvIHRoYXQgd2UgY2FuIGNvbnRpbnVlIGZsb3dpbmcuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucHVzaCh0aGlzLmZvcm1hdC50cmFuc2Zvcm0oaW5mbywgdGhpcy5mb3JtYXQub3B0aW9ucykpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLl93cml0YWJsZVN0YXRlLnN5bmMgPSBmYWxzZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYWxsYmFjay1yZXR1cm5cbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlbGF5cyB0aGUgJ2ZpbmlzaCcgZXZlbnQgdW50aWwgYWxsIHRyYW5zcG9ydCBwaXBlIHRhcmdldHMgaGF2ZVxuICAgKiBhbHNvIGVtaXR0ZWQgJ2ZpbmlzaCcgb3IgYXJlIGFscmVhZHkgZmluaXNoZWQuXG4gICAqIEBwYXJhbSB7bWl4ZWR9IGNhbGxiYWNrIC0gQ29udGludWVzIHN0cmVhbSBwcm9jZXNzaW5nLlxuICAgKi9cbiAgX2ZpbmFsKGNhbGxiYWNrKSB7XG4gICAgY29uc3QgdHJhbnNwb3J0cyA9IHRoaXMudHJhbnNwb3J0cy5zbGljZSgpO1xuICAgIGFzeW5jRm9yRWFjaChcbiAgICAgIHRyYW5zcG9ydHMsXG4gICAgICAodHJhbnNwb3J0LCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghdHJhbnNwb3J0IHx8IHRyYW5zcG9ydC5maW5pc2hlZCkgcmV0dXJuIHNldEltbWVkaWF0ZShuZXh0KTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoJ2ZpbmlzaCcsIG5leHQpO1xuICAgICAgICB0cmFuc3BvcnQuZW5kKCk7XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2tcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIHRyYW5zcG9ydCB0byB0aGlzIGxvZ2dlciBpbnN0YW5jZSBieSBwaXBpbmcgdG8gaXQuXG4gICAqIEBwYXJhbSB7bWl4ZWR9IHRyYW5zcG9ydCAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHJldHVybnMge0xvZ2dlcn0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgYWRkKHRyYW5zcG9ydCkge1xuICAgIC8vIFN1cHBvcnQgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBhbGwgZXhpc3RpbmcgYHdpbnN0b24gPCAzLngueGBcbiAgICAvLyB0cmFuc3BvcnRzIHdoaWNoIG1lZXQgb25lIG9mIHR3byBjcml0ZXJpYTpcbiAgICAvLyAxLiBUaGV5IGluaGVyaXQgZnJvbSB3aW5zdG9uLlRyYW5zcG9ydCBpbiAgPCAzLngueCB3aGljaCBpcyBOT1QgYSBzdHJlYW0uXG4gICAgLy8gMi4gVGhleSBleHBvc2UgYSBsb2cgbWV0aG9kIHdoaWNoIGhhcyBhIGxlbmd0aCBncmVhdGVyIHRoYW4gMiAoaS5lLiBtb3JlIHRoZW5cbiAgICAvLyAgICBqdXN0IGBsb2coaW5mbywgY2FsbGJhY2spYC5cbiAgICBjb25zdCB0YXJnZXQgPVxuICAgICAgIWlzU3RyZWFtKHRyYW5zcG9ydCkgfHwgdHJhbnNwb3J0LmxvZy5sZW5ndGggPiAyXG4gICAgICAgID8gbmV3IExlZ2FjeVRyYW5zcG9ydFN0cmVhbSh7IHRyYW5zcG9ydCB9KVxuICAgICAgICA6IHRyYW5zcG9ydDtcblxuICAgIGlmICghdGFyZ2V0Ll93cml0YWJsZVN0YXRlIHx8ICF0YXJnZXQuX3dyaXRhYmxlU3RhdGUub2JqZWN0TW9kZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVHJhbnNwb3J0cyBtdXN0IFdyaXRhYmxlU3RyZWFtcyBpbiBvYmplY3RNb2RlLiBTZXQgeyBvYmplY3RNb2RlOiB0cnVlIH0uJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHRoZSBgZXJyb3JgIGV2ZW50IGFuZCB0aGUgYHdhcm5gIGV2ZW50IG9uIHRoZSBuZXcgVHJhbnNwb3J0LlxuICAgIHRoaXMuX29uRXZlbnQoJ2Vycm9yJywgdGFyZ2V0KTtcbiAgICB0aGlzLl9vbkV2ZW50KCd3YXJuJywgdGFyZ2V0KTtcbiAgICB0aGlzLnBpcGUodGFyZ2V0KTtcblxuICAgIGlmICh0cmFuc3BvcnQuaGFuZGxlRXhjZXB0aW9ucykge1xuICAgICAgdGhpcy5leGNlcHRpb25zLmhhbmRsZSgpO1xuICAgIH1cblxuICAgIGlmICh0cmFuc3BvcnQuaGFuZGxlUmVqZWN0aW9ucykge1xuICAgICAgdGhpcy5yZWplY3Rpb25zLmhhbmRsZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIHRyYW5zcG9ydCBmcm9tIHRoaXMgbG9nZ2VyIGluc3RhbmNlIGJ5IHVucGlwaW5nIGZyb20gaXQuXG4gICAqIEBwYXJhbSB7bWl4ZWR9IHRyYW5zcG9ydCAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHJldHVybnMge0xvZ2dlcn0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgcmVtb3ZlKHRyYW5zcG9ydCkge1xuICAgIGlmICghdHJhbnNwb3J0KSByZXR1cm4gdGhpcztcbiAgICBsZXQgdGFyZ2V0ID0gdHJhbnNwb3J0O1xuICAgIGlmICghaXNTdHJlYW0odHJhbnNwb3J0KSB8fCB0cmFuc3BvcnQubG9nLmxlbmd0aCA+IDIpIHtcbiAgICAgIHRhcmdldCA9IHRoaXMudHJhbnNwb3J0cy5maWx0ZXIoXG4gICAgICAgIG1hdGNoID0+IG1hdGNoLnRyYW5zcG9ydCA9PT0gdHJhbnNwb3J0XG4gICAgICApWzBdO1xuICAgIH1cblxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHRoaXMudW5waXBlKHRhcmdldCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIHRyYW5zcG9ydHMgZnJvbSB0aGlzIGxvZ2dlciBpbnN0YW5jZS5cbiAgICogQHJldHVybnMge0xvZ2dlcn0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy51bnBpcGUoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbnMgdXAgcmVzb3VyY2VzIChzdHJlYW1zLCBldmVudCBsaXN0ZW5lcnMpIGZvciBhbGwgdHJhbnNwb3J0c1xuICAgKiBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnN0YW5jZSAoaWYgbmVjZXNzYXJ5KS5cbiAgICogQHJldHVybnMge0xvZ2dlcn0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5leGNlcHRpb25zLnVuaGFuZGxlKCk7XG4gICAgdGhpcy5yZWplY3Rpb25zLnVuaGFuZGxlKCk7XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHRoaXMuZW1pdCgnY2xvc2UnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBgdGFyZ2V0YCBsZXZlbHMgc3BlY2lmaWVkIG9uIHRoaXMgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBUYXJnZXQgbGV2ZWxzIHRvIHVzZSBvbiB0aGlzIGluc3RhbmNlLlxuICAgKi9cbiAgc2V0TGV2ZWxzKCkge1xuICAgIHdhcm4uZGVwcmVjYXRlZCgnc2V0TGV2ZWxzJyk7XG4gIH1cblxuICAvKipcbiAgICogUXVlcmllcyB0aGUgYWxsIHRyYW5zcG9ydHMgZm9yIHRoaXMgaW5zdGFuY2Ugd2l0aCB0aGUgc3BlY2lmaWVkIGBvcHRpb25zYC5cbiAgICogVGhpcyB3aWxsIGFnZ3JlZ2F0ZSBlYWNoIHRyYW5zcG9ydCdzIHJlc3VsdHMgaW50byBvbmUgb2JqZWN0IGNvbnRhaW5pbmdcbiAgICogYSBwcm9wZXJ0eSBwZXIgdHJhbnNwb3J0LlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFF1ZXJ5IG9wdGlvbnMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQ29udGludWF0aW9uIHRvIHJlc3BvbmQgdG8gd2hlbiBjb21wbGV0ZS5cbiAgICovXG4gIHF1ZXJ5KG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgY29uc3QgcmVzdWx0cyA9IHt9O1xuICAgIGNvbnN0IHF1ZXJ5T2JqZWN0ID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucy5xdWVyeSB8fCB7fSk7XG5cbiAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcXVlcnkgYSBzaW5nbGUgdHJhbnNwb3J0XG4gICAgZnVuY3Rpb24gcXVlcnlUcmFuc3BvcnQodHJhbnNwb3J0LCBuZXh0KSB7XG4gICAgICBpZiAob3B0aW9ucy5xdWVyeSAmJiB0eXBlb2YgdHJhbnNwb3J0LmZvcm1hdFF1ZXJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9wdGlvbnMucXVlcnkgPSB0cmFuc3BvcnQuZm9ybWF0UXVlcnkocXVlcnlPYmplY3QpO1xuICAgICAgfVxuXG4gICAgICB0cmFuc3BvcnQucXVlcnkob3B0aW9ucywgKGVyciwgcmVzKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0cmFuc3BvcnQuZm9ybWF0UmVzdWx0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJlcyA9IHRyYW5zcG9ydC5mb3JtYXRSZXN1bHRzKHJlcywgb3B0aW9ucy5mb3JtYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV4dChudWxsLCByZXMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGFjY3VtdWxhdGUgdGhlIHJlc3VsdHMgZnJvbSBgcXVlcnlUcmFuc3BvcnRgIGludG9cbiAgICAvLyB0aGUgYHJlc3VsdHNgLlxuICAgIGZ1bmN0aW9uIGFkZFJlc3VsdHModHJhbnNwb3J0LCBuZXh0KSB7XG4gICAgICBxdWVyeVRyYW5zcG9ydCh0cmFuc3BvcnQsIChlcnIsIHJlc3VsdCkgPT4ge1xuICAgICAgICAvLyBxdWVyeVRyYW5zcG9ydCBjb3VsZCBwb3RlbnRpYWxseSBpbnZva2UgdGhlIGNhbGxiYWNrIG11bHRpcGxlIHRpbWVzXG4gICAgICAgIC8vIHNpbmNlIFRyYW5zcG9ydCBjb2RlIGNhbiBiZSB1bnByZWRpY3RhYmxlLlxuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgIHJlc3VsdCA9IGVyciB8fCByZXN1bHQ7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0c1t0cmFuc3BvcnQubmFtZV0gPSByZXN1bHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5leHQgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSB0cmFuc3BvcnRzIGluIHBhcmFsbGVsIHNldHRpbmcgdGhlIGFwcHJvcHJpYXRlIGtleSBpblxuICAgIC8vIHRoZSBgcmVzdWx0c2AuXG4gICAgYXN5bmNGb3JFYWNoKFxuICAgICAgdGhpcy50cmFuc3BvcnRzLmZpbHRlcih0cmFuc3BvcnQgPT4gISF0cmFuc3BvcnQucXVlcnkpLFxuICAgICAgYWRkUmVzdWx0cyxcbiAgICAgICgpID0+IGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbG9nIHN0cmVhbSBmb3IgYWxsIHRyYW5zcG9ydHMuIE9wdGlvbnMgb2JqZWN0IGlzIG9wdGlvbmFsLlxuICAgKiBAcGFyYW17T2JqZWN0fSBvcHRpb25zPXt9IC0gU3RyZWFtIG9wdGlvbnMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAqIEByZXR1cm5zIHtTdHJlYW19IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICovXG4gIHN0cmVhbShvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBvdXQgPSBuZXcgU3RyZWFtKCk7XG4gICAgY29uc3Qgc3RyZWFtcyA9IFtdO1xuXG4gICAgb3V0Ll9zdHJlYW1zID0gc3RyZWFtcztcbiAgICBvdXQuZGVzdHJveSA9ICgpID0+IHtcbiAgICAgIGxldCBpID0gc3RyZWFtcy5sZW5ndGg7XG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHN0cmVhbXNbaV0uZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBDcmVhdGUgYSBsaXN0IG9mIGFsbCB0cmFuc3BvcnRzIGZvciB0aGlzIGluc3RhbmNlLlxuICAgIHRoaXMudHJhbnNwb3J0c1xuICAgICAgLmZpbHRlcih0cmFuc3BvcnQgPT4gISF0cmFuc3BvcnQuc3RyZWFtKVxuICAgICAgLmZvckVhY2godHJhbnNwb3J0ID0+IHtcbiAgICAgICAgY29uc3Qgc3RyID0gdHJhbnNwb3J0LnN0cmVhbShvcHRpb25zKTtcbiAgICAgICAgaWYgKCFzdHIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzdHJlYW1zLnB1c2goc3RyKTtcblxuICAgICAgICBzdHIub24oJ2xvZycsIGxvZyA9PiB7XG4gICAgICAgICAgbG9nLnRyYW5zcG9ydCA9IGxvZy50cmFuc3BvcnQgfHwgW107XG4gICAgICAgICAgbG9nLnRyYW5zcG9ydC5wdXNoKHRyYW5zcG9ydC5uYW1lKTtcbiAgICAgICAgICBvdXQuZW1pdCgnbG9nJywgbG9nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RyLm9uKCdlcnJvcicsIGVyciA9PiB7XG4gICAgICAgICAgZXJyLnRyYW5zcG9ydCA9IGVyci50cmFuc3BvcnQgfHwgW107XG4gICAgICAgICAgZXJyLnRyYW5zcG9ydC5wdXNoKHRyYW5zcG9ydC5uYW1lKTtcbiAgICAgICAgICBvdXQuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCBjb3JyZXNwb25kaW5nIHRvIGEgc3BlY2lmaWMgdGltaW5nLiBXaGVuIGRvbmUgaXMgY2FsbGVkXG4gICAqIHRoZSB0aW1lciB3aWxsIGZpbmlzaCBhbmQgbG9nIHRoZSBkdXJhdGlvbi4gZS5nLjpcbiAgICogQHJldHVybnMge1Byb2ZpbGV9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICogICAgY29uc3QgdGltZXIgPSB3aW5zdG9uLnN0YXJ0VGltZXIoKVxuICAgKiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICogICAgICB0aW1lci5kb25lKHtcbiAgICogICAgICAgIG1lc3NhZ2U6ICdMb2dnaW5nIG1lc3NhZ2UnXG4gICAqICAgICAgfSk7XG4gICAqICAgIH0sIDEwMDApO1xuICAgKi9cbiAgc3RhcnRUaW1lcigpIHtcbiAgICByZXR1cm4gbmV3IFByb2ZpbGVyKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYWNrcyB0aGUgdGltZSBpbmJldHdlZW4gc3Vic2VxdWVudCBjYWxscyB0byB0aGlzIG1ldGhvZCB3aXRoIHRoZSBzYW1lXG4gICAqIGBpZGAgcGFyYW1ldGVyLiBUaGUgc2Vjb25kIGNhbGwgdG8gdGhpcyBtZXRob2Qgd2lsbCBsb2cgdGhlIGRpZmZlcmVuY2UgaW5cbiAgICogbWlsbGlzZWNvbmRzIGFsb25nIHdpdGggdGhlIG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBVbmlxdWUgaWQgb2YgdGhlIHByb2ZpbGVyXG4gICAqIEByZXR1cm5zIHtMb2dnZXJ9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICovXG4gIHByb2ZpbGUoaWQsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICBpZiAodGhpcy5wcm9maWxlcnNbaWRdKSB7XG4gICAgICBjb25zdCB0aW1lRW5kID0gdGhpcy5wcm9maWxlcnNbaWRdO1xuICAgICAgZGVsZXRlIHRoaXMucHJvZmlsZXJzW2lkXTtcblxuICAgICAgLy8gQXR0ZW1wdCB0byBiZSBraW5kIHRvIHVzZXJzIGlmIHRoZXkgYXJlIHN0aWxsIHVzaW5nIG9sZGVyIEFQSXMuXG4gICAgICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAyXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ0NhbGxiYWNrIGZ1bmN0aW9uIG5vIGxvbmdlciBzdXBwb3J0ZWQgYXMgb2Ygd2luc3RvbkAzLjAuMCdcbiAgICAgICAgKTtcbiAgICAgICAgYXJncy5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSBkdXJhdGlvbiBwcm9wZXJ0eSBvZiB0aGUgbWV0YWRhdGFcbiAgICAgIGNvbnN0IGluZm8gPSB0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAnb2JqZWN0JyA/IGFyZ3MucG9wKCkgOiB7fTtcbiAgICAgIGluZm8ubGV2ZWwgPSBpbmZvLmxldmVsIHx8ICdpbmZvJztcbiAgICAgIGluZm8uZHVyYXRpb25NcyA9IHRpbWUgLSB0aW1lRW5kO1xuICAgICAgaW5mby5tZXNzYWdlID0gaW5mby5tZXNzYWdlIHx8IGlkO1xuICAgICAgcmV0dXJuIHRoaXMud3JpdGUoaW5mbyk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9maWxlcnNbaWRdID0gdGltZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0byBgZXhjZXB0aW9ucy5oYW5kbGVgIGluIHdpbnN0b24gPCAzLjAuMC5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIGhhbmRsZUV4Y2VwdGlvbnMoLi4uYXJncykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS53YXJuKFxuICAgICAgJ0RlcHJlY2F0ZWQ6IC5oYW5kbGVFeGNlcHRpb25zKCkgd2lsbCBiZSByZW1vdmVkIGluIHdpbnN0b25ANC4gVXNlIC5leGNlcHRpb25zLmhhbmRsZSgpJ1xuICAgICk7XG4gICAgdGhpcy5leGNlcHRpb25zLmhhbmRsZSguLi5hcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0byBgZXhjZXB0aW9ucy5oYW5kbGVgIGluIHdpbnN0b24gPCAzLjAuMC5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIHVuaGFuZGxlRXhjZXB0aW9ucyguLi5hcmdzKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnRGVwcmVjYXRlZDogLnVuaGFuZGxlRXhjZXB0aW9ucygpIHdpbGwgYmUgcmVtb3ZlZCBpbiB3aW5zdG9uQDQuIFVzZSAuZXhjZXB0aW9ucy51bmhhbmRsZSgpJ1xuICAgICk7XG4gICAgdGhpcy5leGNlcHRpb25zLnVuaGFuZGxlKC4uLmFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93IGEgbW9yZSBtZWFuaW5nZnVsIGRlcHJlY2F0aW9uIG5vdGljZVxuICAgKiBAdGhyb3dzIHtFcnJvcn0gLSBUT0RPOiBhZGQgdGhyb3dzIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgY2xpKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFtcbiAgICAgICAgJ0xvZ2dlci5jbGkoKSB3YXMgcmVtb3ZlZCBpbiB3aW5zdG9uQDMuMC4wJyxcbiAgICAgICAgJ1VzZSBhIGN1c3RvbSB3aW5zdG9uLmZvcm1hdHMuY2xpKCkgaW5zdGVhZC4nLFxuICAgICAgICAnU2VlOiBodHRwczovL2dpdGh1Yi5jb20vd2luc3RvbmpzL3dpbnN0b24vdHJlZS9tYXN0ZXIvVVBHUkFERS0zLjAubWQnXG4gICAgICBdLmpvaW4oJ1xcbicpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWJibGVzIHRoZSBgZXZlbnRgIHRoYXQgb2NjdXJlZCBvbiB0aGUgc3BlY2lmaWVkIGB0cmFuc3BvcnRgIHVwXG4gICAqIGZyb20gdGhpcyBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gVGhlIGV2ZW50IHRoYXQgb2NjdXJlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNwb3J0IC0gVHJhbnNwb3J0IG9uIHdoaWNoIHRoZSBldmVudCBvY2N1cmVkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfb25FdmVudChldmVudCwgdHJhbnNwb3J0KSB7XG4gICAgZnVuY3Rpb24gdHJhbnNwb3J0RXZlbnQoZXJyKSB7XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2luc3RvbmpzL3dpbnN0b24vaXNzdWVzLzEzNjRcbiAgICAgIGlmIChldmVudCA9PT0gJ2Vycm9yJyAmJiAhdGhpcy50cmFuc3BvcnRzLmluY2x1ZGVzKHRyYW5zcG9ydCkpIHtcbiAgICAgICAgdGhpcy5hZGQodHJhbnNwb3J0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZW1pdChldmVudCwgZXJyLCB0cmFuc3BvcnQpO1xuICAgIH1cblxuICAgIGlmICghdHJhbnNwb3J0WydfX3dpbnN0b24nICsgZXZlbnRdKSB7XG4gICAgICB0cmFuc3BvcnRbJ19fd2luc3RvbicgKyBldmVudF0gPSB0cmFuc3BvcnRFdmVudC5iaW5kKHRoaXMpO1xuICAgICAgdHJhbnNwb3J0Lm9uKGV2ZW50LCB0cmFuc3BvcnRbJ19fd2luc3RvbicgKyBldmVudF0pO1xuICAgIH1cbiAgfVxuXG4gIF9hZGREZWZhdWx0TWV0YShtc2cpIHtcbiAgICBpZiAodGhpcy5kZWZhdWx0TWV0YSkge1xuICAgICAgT2JqZWN0LmFzc2lnbihtc2csIHRoaXMuZGVmYXVsdE1ldGEpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRMZXZlbFZhbHVlKGxldmVscywgbGV2ZWwpIHtcbiAgY29uc3QgdmFsdWUgPSBsZXZlbHNbbGV2ZWxdO1xuICBpZiAoIXZhbHVlICYmIHZhbHVlICE9PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGN1cnJlbnQgcmVhZGFibGVTdGF0ZSBwaXBlIHRhcmdldHMgZm9yIHRoaXMgTG9nZ2VyIGluc3RhbmNlLlxuICogQHR5cGUge0FycmF5fE9iamVjdH1cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KExvZ2dlci5wcm90b3R5cGUsICd0cmFuc3BvcnRzJywge1xuICBjb25maWd1cmFibGU6IGZhbHNlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQoKSB7XG4gICAgY29uc3QgeyBwaXBlcyB9ID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgICByZXR1cm4gIUFycmF5LmlzQXJyYXkocGlwZXMpID8gW3BpcGVzXS5maWx0ZXIoQm9vbGVhbikgOiBwaXBlcztcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTG9nZ2VyO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/logger.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/profiler.js":
/*!******************************************************!*\
  !*** ./node_modules/winston/lib/winston/profiler.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * profiler.js: TODO: add file header description.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n/**\n * TODO: add class description.\n * @type {Profiler}\n * @private\n */\nclass Profiler {\n  /**\n   * Constructor function for the Profiler instance used by\n   * `Logger.prototype.startTimer`. When done is called the timer will finish\n   * and log the duration.\n   * @param {!Logger} logger - TODO: add param description.\n   * @private\n   */\n  constructor(logger) {\n    const Logger = __webpack_require__(/*! ./logger */ \"(action-browser)/./node_modules/winston/lib/winston/logger.js\");\n    if (typeof logger !== 'object' || Array.isArray(logger) || !(logger instanceof Logger)) {\n      throw new Error('Logger is required for profiling');\n    } else {\n      this.logger = logger;\n      this.start = Date.now();\n    }\n  }\n\n  /**\n   * Ends the current timer (i.e. Profiler) instance and logs the `msg` along\n   * with the duration since creation.\n   * @returns {mixed} - TODO: add return description.\n   * @private\n   */\n  done(...args) {\n    if (typeof args[args.length - 1] === 'function') {\n      // eslint-disable-next-line no-console\n      console.warn('Callback function no longer supported as of winston@3.0.0');\n      args.pop();\n    }\n\n    const info = typeof args[args.length - 1] === 'object' ? args.pop() : {};\n    info.level = info.level || 'info';\n    info.durationMs = (Date.now()) - this.start;\n\n    return this.logger.write(info);\n  }\n};\n\nmodule.exports = Profiler;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL3Byb2ZpbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTtBQUNiO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1CQUFPLENBQUMsK0VBQVU7QUFDckM7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJDOlxccmVwb1xcTnV0cmlXaXNlQUlcXG5vZGVfbW9kdWxlc1xcd2luc3RvblxcbGliXFx3aW5zdG9uXFxwcm9maWxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIHByb2ZpbGVyLmpzOiBUT0RPOiBhZGQgZmlsZSBoZWFkZXIgZGVzY3JpcHRpb24uXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0Jztcbi8qKlxuICogVE9ETzogYWRkIGNsYXNzIGRlc2NyaXB0aW9uLlxuICogQHR5cGUge1Byb2ZpbGVyfVxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgUHJvZmlsZXIge1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIHRoZSBQcm9maWxlciBpbnN0YW5jZSB1c2VkIGJ5XG4gICAqIGBMb2dnZXIucHJvdG90eXBlLnN0YXJ0VGltZXJgLiBXaGVuIGRvbmUgaXMgY2FsbGVkIHRoZSB0aW1lciB3aWxsIGZpbmlzaFxuICAgKiBhbmQgbG9nIHRoZSBkdXJhdGlvbi5cbiAgICogQHBhcmFtIHshTG9nZ2VyfSBsb2dnZXIgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihsb2dnZXIpIHtcbiAgICBjb25zdCBMb2dnZXIgPSByZXF1aXJlKCcuL2xvZ2dlcicpO1xuICAgIGlmICh0eXBlb2YgbG9nZ2VyICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KGxvZ2dlcikgfHwgIShsb2dnZXIgaW5zdGFuY2VvZiBMb2dnZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xvZ2dlciBpcyByZXF1aXJlZCBmb3IgcHJvZmlsaW5nJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgdGhpcy5zdGFydCA9IERhdGUubm93KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVuZHMgdGhlIGN1cnJlbnQgdGltZXIgKGkuZS4gUHJvZmlsZXIpIGluc3RhbmNlIGFuZCBsb2dzIHRoZSBgbXNnYCBhbG9uZ1xuICAgKiB3aXRoIHRoZSBkdXJhdGlvbiBzaW5jZSBjcmVhdGlvbi5cbiAgICogQHJldHVybnMge21peGVkfSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkb25lKC4uLmFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybignQ2FsbGJhY2sgZnVuY3Rpb24gbm8gbG9uZ2VyIHN1cHBvcnRlZCBhcyBvZiB3aW5zdG9uQDMuMC4wJyk7XG4gICAgICBhcmdzLnBvcCgpO1xuICAgIH1cblxuICAgIGNvbnN0IGluZm8gPSB0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAnb2JqZWN0JyA/IGFyZ3MucG9wKCkgOiB7fTtcbiAgICBpbmZvLmxldmVsID0gaW5mby5sZXZlbCB8fCAnaW5mbyc7XG4gICAgaW5mby5kdXJhdGlvbk1zID0gKERhdGUubm93KCkpIC0gdGhpcy5zdGFydDtcblxuICAgIHJldHVybiB0aGlzLmxvZ2dlci53cml0ZShpbmZvKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcm9maWxlcjtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/profiler.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/rejection-handler.js":
/*!***************************************************************!*\
  !*** ./node_modules/winston/lib/winston/rejection-handler.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * exception-handler.js: Object for handling uncaughtException events.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst os = __webpack_require__(/*! os */ \"os\");\nconst asyncForEach = __webpack_require__(/*! async/forEach */ \"(action-browser)/./node_modules/async/forEach.js\");\nconst debug = __webpack_require__(/*! @dabh/diagnostics */ \"(action-browser)/./node_modules/@dabh/diagnostics/node/index.js\")('winston:rejection');\nconst once = __webpack_require__(/*! one-time */ \"(action-browser)/./node_modules/one-time/index.js\");\nconst stackTrace = __webpack_require__(/*! stack-trace */ \"(action-browser)/./node_modules/stack-trace/lib/stack-trace.js\");\nconst RejectionStream = __webpack_require__(/*! ./rejection-stream */ \"(action-browser)/./node_modules/winston/lib/winston/rejection-stream.js\");\n\n/**\n * Object for handling unhandledRejection events.\n * @type {RejectionHandler}\n */\nmodule.exports = class RejectionHandler {\n  /**\n   * TODO: add contructor description\n   * @param {!Logger} logger - TODO: add param description\n   */\n  constructor(logger) {\n    if (!logger) {\n      throw new Error('Logger is required to handle rejections');\n    }\n\n    this.logger = logger;\n    this.handlers = new Map();\n  }\n\n  /**\n   * Handles `unhandledRejection` events for the current process by adding any\n   * handlers passed in.\n   * @returns {undefined}\n   */\n  handle(...args) {\n    args.forEach(arg => {\n      if (Array.isArray(arg)) {\n        return arg.forEach(handler => this._addHandler(handler));\n      }\n\n      this._addHandler(arg);\n    });\n\n    if (!this.catcher) {\n      this.catcher = this._unhandledRejection.bind(this);\n      process.on('unhandledRejection', this.catcher);\n    }\n  }\n\n  /**\n   * Removes any handlers to `unhandledRejection` events for the current\n   * process. This does not modify the state of the `this.handlers` set.\n   * @returns {undefined}\n   */\n  unhandle() {\n    if (this.catcher) {\n      process.removeListener('unhandledRejection', this.catcher);\n      this.catcher = false;\n\n      Array.from(this.handlers.values()).forEach(wrapper =>\n        this.logger.unpipe(wrapper)\n      );\n    }\n  }\n\n  /**\n   * TODO: add method description\n   * @param {Error} err - Error to get information about.\n   * @returns {mixed} - TODO: add return description.\n   */\n  getAllInfo(err) {\n    let message = null;\n    if (err) {\n      message = typeof err === 'string' ? err : err.message;\n    }\n\n    return {\n      error: err,\n      // TODO (indexzero): how do we configure this?\n      level: 'error',\n      message: [\n        `unhandledRejection: ${message || '(no error message)'}`,\n        err && err.stack || '  No stack trace'\n      ].join('\\n'),\n      stack: err && err.stack,\n      rejection: true,\n      date: new Date().toString(),\n      process: this.getProcessInfo(),\n      os: this.getOsInfo(),\n      trace: this.getTrace(err)\n    };\n  }\n\n  /**\n   * Gets all relevant process information for the currently running process.\n   * @returns {mixed} - TODO: add return description.\n   */\n  getProcessInfo() {\n    return {\n      pid: process.pid,\n      uid: process.getuid ? process.getuid() : null,\n      gid: process.getgid ? process.getgid() : null,\n      cwd: process.cwd(),\n      execPath: process.execPath,\n      version: process.version,\n      argv: process.argv,\n      memoryUsage: process.memoryUsage()\n    };\n  }\n\n  /**\n   * Gets all relevant OS information for the currently running process.\n   * @returns {mixed} - TODO: add return description.\n   */\n  getOsInfo() {\n    return {\n      loadavg: os.loadavg(),\n      uptime: os.uptime()\n    };\n  }\n\n  /**\n   * Gets a stack trace for the specified error.\n   * @param {mixed} err - TODO: add param description.\n   * @returns {mixed} - TODO: add return description.\n   */\n  getTrace(err) {\n    const trace = err ? stackTrace.parse(err) : stackTrace.get();\n    return trace.map(site => {\n      return {\n        column: site.getColumnNumber(),\n        file: site.getFileName(),\n        function: site.getFunctionName(),\n        line: site.getLineNumber(),\n        method: site.getMethodName(),\n        native: site.isNative()\n      };\n    });\n  }\n\n  /**\n   * Helper method to add a transport as an exception handler.\n   * @param {Transport} handler - The transport to add as an exception handler.\n   * @returns {void}\n   */\n  _addHandler(handler) {\n    if (!this.handlers.has(handler)) {\n      handler.handleRejections = true;\n      const wrapper = new RejectionStream(handler);\n      this.handlers.set(handler, wrapper);\n      this.logger.pipe(wrapper);\n    }\n  }\n\n  /**\n   * Logs all relevant information around the `err` and exits the current\n   * process.\n   * @param {Error} err - Error to handle\n   * @returns {mixed} - TODO: add return description.\n   * @private\n   */\n  _unhandledRejection(err) {\n    const info = this.getAllInfo(err);\n    const handlers = this._getRejectionHandlers();\n    // Calculate if we should exit on this error\n    let doExit =\n      typeof this.logger.exitOnError === 'function'\n        ? this.logger.exitOnError(err)\n        : this.logger.exitOnError;\n    let timeout;\n\n    if (!handlers.length && doExit) {\n      // eslint-disable-next-line no-console\n      console.warn('winston: exitOnError cannot be true with no rejection handlers.');\n      // eslint-disable-next-line no-console\n      console.warn('winston: not exiting process.');\n      doExit = false;\n    }\n\n    function gracefulExit() {\n      debug('doExit', doExit);\n      debug('process._exiting', process._exiting);\n\n      if (doExit && !process._exiting) {\n        // Remark: Currently ignoring any rejections from transports when\n        // catching unhandled rejections.\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n        // eslint-disable-next-line no-process-exit\n        process.exit(1);\n      }\n    }\n\n    if (!handlers || handlers.length === 0) {\n      return process.nextTick(gracefulExit);\n    }\n\n    // Log to all transports attempting to listen for when they are completed.\n    asyncForEach(\n      handlers,\n      (handler, next) => {\n        const done = once(next);\n        const transport = handler.transport || handler;\n\n        // Debug wrapping so that we can inspect what's going on under the covers.\n        function onDone(event) {\n          return () => {\n            debug(event);\n            done();\n          };\n        }\n\n        transport._ending = true;\n        transport.once('finish', onDone('finished'));\n        transport.once('error', onDone('error'));\n      },\n      () => doExit && gracefulExit()\n    );\n\n    this.logger.log(info);\n\n    // If exitOnError is true, then only allow the logging of exceptions to\n    // take up to `3000ms`.\n    if (doExit) {\n      timeout = setTimeout(gracefulExit, 3000);\n    }\n  }\n\n  /**\n   * Returns the list of transports and exceptionHandlers for this instance.\n   * @returns {Array} - List of transports and exceptionHandlers for this\n   * instance.\n   * @private\n   */\n  _getRejectionHandlers() {\n    // Remark (indexzero): since `logger.transports` returns all of the pipes\n    // from the _readableState of the stream we actually get the join of the\n    // explicit handlers and the implicit transports with\n    // `handleRejections: true`\n    return this.logger.transports.filter(wrap => {\n      const transport = wrap.transport || wrap;\n      return transport.handleRejections;\n    });\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL3JlamVjdGlvbi1oYW5kbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixXQUFXLG1CQUFPLENBQUMsY0FBSTtBQUN2QixxQkFBcUIsbUJBQU8sQ0FBQyx1RUFBZTtBQUM1QyxjQUFjLG1CQUFPLENBQUMsMEZBQW1CO0FBQ3pDLGFBQWEsbUJBQU8sQ0FBQyxtRUFBVTtBQUMvQixtQkFBbUIsbUJBQU8sQ0FBQyxtRkFBYTtBQUN4Qyx3QkFBd0IsbUJBQU8sQ0FBQyxtR0FBb0I7O0FBRXBEO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdDQUFnQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFdBQVc7QUFDeEIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJDOlxccmVwb1xcTnV0cmlXaXNlQUlcXG5vZGVfbW9kdWxlc1xcd2luc3RvblxcbGliXFx3aW5zdG9uXFxyZWplY3Rpb24taGFuZGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGV4Y2VwdGlvbi1oYW5kbGVyLmpzOiBPYmplY3QgZm9yIGhhbmRsaW5nIHVuY2F1Z2h0RXhjZXB0aW9uIGV2ZW50cy5cbiAqXG4gKiAoQykgMjAxMCBDaGFybGllIFJvYmJpbnNcbiAqIE1JVCBMSUNFTkNFXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBvcyA9IHJlcXVpcmUoJ29zJyk7XG5jb25zdCBhc3luY0ZvckVhY2ggPSByZXF1aXJlKCdhc3luYy9mb3JFYWNoJyk7XG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ0BkYWJoL2RpYWdub3N0aWNzJykoJ3dpbnN0b246cmVqZWN0aW9uJyk7XG5jb25zdCBvbmNlID0gcmVxdWlyZSgnb25lLXRpbWUnKTtcbmNvbnN0IHN0YWNrVHJhY2UgPSByZXF1aXJlKCdzdGFjay10cmFjZScpO1xuY29uc3QgUmVqZWN0aW9uU3RyZWFtID0gcmVxdWlyZSgnLi9yZWplY3Rpb24tc3RyZWFtJyk7XG5cbi8qKlxuICogT2JqZWN0IGZvciBoYW5kbGluZyB1bmhhbmRsZWRSZWplY3Rpb24gZXZlbnRzLlxuICogQHR5cGUge1JlamVjdGlvbkhhbmRsZXJ9XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgUmVqZWN0aW9uSGFuZGxlciB7XG4gIC8qKlxuICAgKiBUT0RPOiBhZGQgY29udHJ1Y3RvciBkZXNjcmlwdGlvblxuICAgKiBAcGFyYW0geyFMb2dnZXJ9IGxvZ2dlciAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IobG9nZ2VyKSB7XG4gICAgaWYgKCFsb2dnZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTG9nZ2VyIGlzIHJlcXVpcmVkIHRvIGhhbmRsZSByZWplY3Rpb25zJyk7XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgdGhpcy5oYW5kbGVycyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGB1bmhhbmRsZWRSZWplY3Rpb25gIGV2ZW50cyBmb3IgdGhlIGN1cnJlbnQgcHJvY2VzcyBieSBhZGRpbmcgYW55XG4gICAqIGhhbmRsZXJzIHBhc3NlZCBpbi5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIGhhbmRsZSguLi5hcmdzKSB7XG4gICAgYXJncy5mb3JFYWNoKGFyZyA9PiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgIHJldHVybiBhcmcuZm9yRWFjaChoYW5kbGVyID0+IHRoaXMuX2FkZEhhbmRsZXIoaGFuZGxlcikpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9hZGRIYW5kbGVyKGFyZyk7XG4gICAgfSk7XG5cbiAgICBpZiAoIXRoaXMuY2F0Y2hlcikge1xuICAgICAgdGhpcy5jYXRjaGVyID0gdGhpcy5fdW5oYW5kbGVkUmVqZWN0aW9uLmJpbmQodGhpcyk7XG4gICAgICBwcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCB0aGlzLmNhdGNoZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFueSBoYW5kbGVycyB0byBgdW5oYW5kbGVkUmVqZWN0aW9uYCBldmVudHMgZm9yIHRoZSBjdXJyZW50XG4gICAqIHByb2Nlc3MuIFRoaXMgZG9lcyBub3QgbW9kaWZ5IHRoZSBzdGF0ZSBvZiB0aGUgYHRoaXMuaGFuZGxlcnNgIHNldC5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIHVuaGFuZGxlKCkge1xuICAgIGlmICh0aGlzLmNhdGNoZXIpIHtcbiAgICAgIHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHRoaXMuY2F0Y2hlcik7XG4gICAgICB0aGlzLmNhdGNoZXIgPSBmYWxzZTtcblxuICAgICAgQXJyYXkuZnJvbSh0aGlzLmhhbmRsZXJzLnZhbHVlcygpKS5mb3JFYWNoKHdyYXBwZXIgPT5cbiAgICAgICAgdGhpcy5sb2dnZXIudW5waXBlKHdyYXBwZXIpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBhZGQgbWV0aG9kIGRlc2NyaXB0aW9uXG4gICAqIEBwYXJhbSB7RXJyb3J9IGVyciAtIEVycm9yIHRvIGdldCBpbmZvcm1hdGlvbiBhYm91dC5cbiAgICogQHJldHVybnMge21peGVkfSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAqL1xuICBnZXRBbGxJbmZvKGVycikge1xuICAgIGxldCBtZXNzYWdlID0gbnVsbDtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBtZXNzYWdlID0gdHlwZW9mIGVyciA9PT0gJ3N0cmluZycgPyBlcnIgOiBlcnIubWVzc2FnZTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IGVycixcbiAgICAgIC8vIFRPRE8gKGluZGV4emVybyk6IGhvdyBkbyB3ZSBjb25maWd1cmUgdGhpcz9cbiAgICAgIGxldmVsOiAnZXJyb3InLFxuICAgICAgbWVzc2FnZTogW1xuICAgICAgICBgdW5oYW5kbGVkUmVqZWN0aW9uOiAke21lc3NhZ2UgfHwgJyhubyBlcnJvciBtZXNzYWdlKSd9YCxcbiAgICAgICAgZXJyICYmIGVyci5zdGFjayB8fCAnICBObyBzdGFjayB0cmFjZSdcbiAgICAgIF0uam9pbignXFxuJyksXG4gICAgICBzdGFjazogZXJyICYmIGVyci5zdGFjayxcbiAgICAgIHJlamVjdGlvbjogdHJ1ZSxcbiAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9TdHJpbmcoKSxcbiAgICAgIHByb2Nlc3M6IHRoaXMuZ2V0UHJvY2Vzc0luZm8oKSxcbiAgICAgIG9zOiB0aGlzLmdldE9zSW5mbygpLFxuICAgICAgdHJhY2U6IHRoaXMuZ2V0VHJhY2UoZXJyKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbGwgcmVsZXZhbnQgcHJvY2VzcyBpbmZvcm1hdGlvbiBmb3IgdGhlIGN1cnJlbnRseSBydW5uaW5nIHByb2Nlc3MuXG4gICAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgZ2V0UHJvY2Vzc0luZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBpZDogcHJvY2Vzcy5waWQsXG4gICAgICB1aWQ6IHByb2Nlc3MuZ2V0dWlkID8gcHJvY2Vzcy5nZXR1aWQoKSA6IG51bGwsXG4gICAgICBnaWQ6IHByb2Nlc3MuZ2V0Z2lkID8gcHJvY2Vzcy5nZXRnaWQoKSA6IG51bGwsXG4gICAgICBjd2Q6IHByb2Nlc3MuY3dkKCksXG4gICAgICBleGVjUGF0aDogcHJvY2Vzcy5leGVjUGF0aCxcbiAgICAgIHZlcnNpb246IHByb2Nlc3MudmVyc2lvbixcbiAgICAgIGFyZ3Y6IHByb2Nlc3MuYXJndixcbiAgICAgIG1lbW9yeVVzYWdlOiBwcm9jZXNzLm1lbW9yeVVzYWdlKClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYWxsIHJlbGV2YW50IE9TIGluZm9ybWF0aW9uIGZvciB0aGUgY3VycmVudGx5IHJ1bm5pbmcgcHJvY2Vzcy5cbiAgICogQHJldHVybnMge21peGVkfSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAqL1xuICBnZXRPc0luZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvYWRhdmc6IG9zLmxvYWRhdmcoKSxcbiAgICAgIHVwdGltZTogb3MudXB0aW1lKClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBzdGFjayB0cmFjZSBmb3IgdGhlIHNwZWNpZmllZCBlcnJvci5cbiAgICogQHBhcmFtIHttaXhlZH0gZXJyIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICovXG4gIGdldFRyYWNlKGVycikge1xuICAgIGNvbnN0IHRyYWNlID0gZXJyID8gc3RhY2tUcmFjZS5wYXJzZShlcnIpIDogc3RhY2tUcmFjZS5nZXQoKTtcbiAgICByZXR1cm4gdHJhY2UubWFwKHNpdGUgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sdW1uOiBzaXRlLmdldENvbHVtbk51bWJlcigpLFxuICAgICAgICBmaWxlOiBzaXRlLmdldEZpbGVOYW1lKCksXG4gICAgICAgIGZ1bmN0aW9uOiBzaXRlLmdldEZ1bmN0aW9uTmFtZSgpLFxuICAgICAgICBsaW5lOiBzaXRlLmdldExpbmVOdW1iZXIoKSxcbiAgICAgICAgbWV0aG9kOiBzaXRlLmdldE1ldGhvZE5hbWUoKSxcbiAgICAgICAgbmF0aXZlOiBzaXRlLmlzTmF0aXZlKClcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIG1ldGhvZCB0byBhZGQgYSB0cmFuc3BvcnQgYXMgYW4gZXhjZXB0aW9uIGhhbmRsZXIuXG4gICAqIEBwYXJhbSB7VHJhbnNwb3J0fSBoYW5kbGVyIC0gVGhlIHRyYW5zcG9ydCB0byBhZGQgYXMgYW4gZXhjZXB0aW9uIGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgX2FkZEhhbmRsZXIoaGFuZGxlcikge1xuICAgIGlmICghdGhpcy5oYW5kbGVycy5oYXMoaGFuZGxlcikpIHtcbiAgICAgIGhhbmRsZXIuaGFuZGxlUmVqZWN0aW9ucyA9IHRydWU7XG4gICAgICBjb25zdCB3cmFwcGVyID0gbmV3IFJlamVjdGlvblN0cmVhbShoYW5kbGVyKTtcbiAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGhhbmRsZXIsIHdyYXBwZXIpO1xuICAgICAgdGhpcy5sb2dnZXIucGlwZSh3cmFwcGVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9ncyBhbGwgcmVsZXZhbnQgaW5mb3JtYXRpb24gYXJvdW5kIHRoZSBgZXJyYCBhbmQgZXhpdHMgdGhlIGN1cnJlbnRcbiAgICogcHJvY2Vzcy5cbiAgICogQHBhcmFtIHtFcnJvcn0gZXJyIC0gRXJyb3IgdG8gaGFuZGxlXG4gICAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VuaGFuZGxlZFJlamVjdGlvbihlcnIpIHtcbiAgICBjb25zdCBpbmZvID0gdGhpcy5nZXRBbGxJbmZvKGVycik7XG4gICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLl9nZXRSZWplY3Rpb25IYW5kbGVycygpO1xuICAgIC8vIENhbGN1bGF0ZSBpZiB3ZSBzaG91bGQgZXhpdCBvbiB0aGlzIGVycm9yXG4gICAgbGV0IGRvRXhpdCA9XG4gICAgICB0eXBlb2YgdGhpcy5sb2dnZXIuZXhpdE9uRXJyb3IgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyB0aGlzLmxvZ2dlci5leGl0T25FcnJvcihlcnIpXG4gICAgICAgIDogdGhpcy5sb2dnZXIuZXhpdE9uRXJyb3I7XG4gICAgbGV0IHRpbWVvdXQ7XG5cbiAgICBpZiAoIWhhbmRsZXJzLmxlbmd0aCAmJiBkb0V4aXQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oJ3dpbnN0b246IGV4aXRPbkVycm9yIGNhbm5vdCBiZSB0cnVlIHdpdGggbm8gcmVqZWN0aW9uIGhhbmRsZXJzLicpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2Fybignd2luc3Rvbjogbm90IGV4aXRpbmcgcHJvY2Vzcy4nKTtcbiAgICAgIGRvRXhpdCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdyYWNlZnVsRXhpdCgpIHtcbiAgICAgIGRlYnVnKCdkb0V4aXQnLCBkb0V4aXQpO1xuICAgICAgZGVidWcoJ3Byb2Nlc3MuX2V4aXRpbmcnLCBwcm9jZXNzLl9leGl0aW5nKTtcblxuICAgICAgaWYgKGRvRXhpdCAmJiAhcHJvY2Vzcy5fZXhpdGluZykge1xuICAgICAgICAvLyBSZW1hcms6IEN1cnJlbnRseSBpZ25vcmluZyBhbnkgcmVqZWN0aW9ucyBmcm9tIHRyYW5zcG9ydHMgd2hlblxuICAgICAgICAvLyBjYXRjaGluZyB1bmhhbmRsZWQgcmVqZWN0aW9ucy5cbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb2Nlc3MtZXhpdFxuICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFoYW5kbGVycyB8fCBoYW5kbGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGdyYWNlZnVsRXhpdCk7XG4gICAgfVxuXG4gICAgLy8gTG9nIHRvIGFsbCB0cmFuc3BvcnRzIGF0dGVtcHRpbmcgdG8gbGlzdGVuIGZvciB3aGVuIHRoZXkgYXJlIGNvbXBsZXRlZC5cbiAgICBhc3luY0ZvckVhY2goXG4gICAgICBoYW5kbGVycyxcbiAgICAgIChoYW5kbGVyLCBuZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IGRvbmUgPSBvbmNlKG5leHQpO1xuICAgICAgICBjb25zdCB0cmFuc3BvcnQgPSBoYW5kbGVyLnRyYW5zcG9ydCB8fCBoYW5kbGVyO1xuXG4gICAgICAgIC8vIERlYnVnIHdyYXBwaW5nIHNvIHRoYXQgd2UgY2FuIGluc3BlY3Qgd2hhdCdzIGdvaW5nIG9uIHVuZGVyIHRoZSBjb3ZlcnMuXG4gICAgICAgIGZ1bmN0aW9uIG9uRG9uZShldmVudCkge1xuICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBkZWJ1ZyhldmVudCk7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYW5zcG9ydC5fZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoJ2ZpbmlzaCcsIG9uRG9uZSgnZmluaXNoZWQnKSk7XG4gICAgICAgIHRyYW5zcG9ydC5vbmNlKCdlcnJvcicsIG9uRG9uZSgnZXJyb3InKSk7XG4gICAgICB9LFxuICAgICAgKCkgPT4gZG9FeGl0ICYmIGdyYWNlZnVsRXhpdCgpXG4gICAgKTtcblxuICAgIHRoaXMubG9nZ2VyLmxvZyhpbmZvKTtcblxuICAgIC8vIElmIGV4aXRPbkVycm9yIGlzIHRydWUsIHRoZW4gb25seSBhbGxvdyB0aGUgbG9nZ2luZyBvZiBleGNlcHRpb25zIHRvXG4gICAgLy8gdGFrZSB1cCB0byBgMzAwMG1zYC5cbiAgICBpZiAoZG9FeGl0KSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChncmFjZWZ1bEV4aXQsIDMwMDApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHRyYW5zcG9ydHMgYW5kIGV4Y2VwdGlvbkhhbmRsZXJzIGZvciB0aGlzIGluc3RhbmNlLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IC0gTGlzdCBvZiB0cmFuc3BvcnRzIGFuZCBleGNlcHRpb25IYW5kbGVycyBmb3IgdGhpc1xuICAgKiBpbnN0YW5jZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRSZWplY3Rpb25IYW5kbGVycygpIHtcbiAgICAvLyBSZW1hcmsgKGluZGV4emVybyk6IHNpbmNlIGBsb2dnZXIudHJhbnNwb3J0c2AgcmV0dXJucyBhbGwgb2YgdGhlIHBpcGVzXG4gICAgLy8gZnJvbSB0aGUgX3JlYWRhYmxlU3RhdGUgb2YgdGhlIHN0cmVhbSB3ZSBhY3R1YWxseSBnZXQgdGhlIGpvaW4gb2YgdGhlXG4gICAgLy8gZXhwbGljaXQgaGFuZGxlcnMgYW5kIHRoZSBpbXBsaWNpdCB0cmFuc3BvcnRzIHdpdGhcbiAgICAvLyBgaGFuZGxlUmVqZWN0aW9uczogdHJ1ZWBcbiAgICByZXR1cm4gdGhpcy5sb2dnZXIudHJhbnNwb3J0cy5maWx0ZXIod3JhcCA9PiB7XG4gICAgICBjb25zdCB0cmFuc3BvcnQgPSB3cmFwLnRyYW5zcG9ydCB8fCB3cmFwO1xuICAgICAgcmV0dXJuIHRyYW5zcG9ydC5oYW5kbGVSZWplY3Rpb25zO1xuICAgIH0pO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/rejection-handler.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/rejection-stream.js":
/*!**************************************************************!*\
  !*** ./node_modules/winston/lib/winston/rejection-stream.js ***!
  \**************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * rejection-stream.js: TODO: add file header handler.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst { Writable } = __webpack_require__(/*! readable-stream */ \"(action-browser)/./node_modules/readable-stream/readable.js\");\n\n/**\n * TODO: add class description.\n * @type {RejectionStream}\n * @extends {Writable}\n */\nmodule.exports = class RejectionStream extends Writable {\n  /**\n   * Constructor function for the RejectionStream responsible for wrapping a\n   * TransportStream; only allowing writes of `info` objects with\n   * `info.rejection` set to true.\n   * @param {!TransportStream} transport - Stream to filter to rejections\n   */\n  constructor(transport) {\n    super({ objectMode: true });\n\n    if (!transport) {\n      throw new Error('RejectionStream requires a TransportStream instance.');\n    }\n\n    this.handleRejections = true;\n    this.transport = transport;\n  }\n\n  /**\n   * Writes the info object to our transport instance if (and only if) the\n   * `rejection` property is set on the info.\n   * @param {mixed} info - TODO: add param description.\n   * @param {mixed} enc - TODO: add param description.\n   * @param {mixed} callback - TODO: add param description.\n   * @returns {mixed} - TODO: add return description.\n   * @private\n   */\n  _write(info, enc, callback) {\n    if (info.rejection) {\n      return this.transport.log(info, callback);\n    }\n\n    callback();\n    return true;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL3JlamVjdGlvbi1zdHJlYW0uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLFFBQVEsV0FBVyxFQUFFLG1CQUFPLENBQUMsb0ZBQWlCOztBQUU5QztBQUNBO0FBQ0EsVUFBVTtBQUNWLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLGFBQWEsa0JBQWtCO0FBQy9CO0FBQ0E7QUFDQSxZQUFZLGtCQUFrQjs7QUFFOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxccmVwb1xcTnV0cmlXaXNlQUlcXG5vZGVfbW9kdWxlc1xcd2luc3RvblxcbGliXFx3aW5zdG9uXFxyZWplY3Rpb24tc3RyZWFtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogcmVqZWN0aW9uLXN0cmVhbS5qczogVE9ETzogYWRkIGZpbGUgaGVhZGVyIGhhbmRsZXIuXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgeyBXcml0YWJsZSB9ID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtJyk7XG5cbi8qKlxuICogVE9ETzogYWRkIGNsYXNzIGRlc2NyaXB0aW9uLlxuICogQHR5cGUge1JlamVjdGlvblN0cmVhbX1cbiAqIEBleHRlbmRzIHtXcml0YWJsZX1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBSZWplY3Rpb25TdHJlYW0gZXh0ZW5kcyBXcml0YWJsZSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIFJlamVjdGlvblN0cmVhbSByZXNwb25zaWJsZSBmb3Igd3JhcHBpbmcgYVxuICAgKiBUcmFuc3BvcnRTdHJlYW07IG9ubHkgYWxsb3dpbmcgd3JpdGVzIG9mIGBpbmZvYCBvYmplY3RzIHdpdGhcbiAgICogYGluZm8ucmVqZWN0aW9uYCBzZXQgdG8gdHJ1ZS5cbiAgICogQHBhcmFtIHshVHJhbnNwb3J0U3RyZWFtfSB0cmFuc3BvcnQgLSBTdHJlYW0gdG8gZmlsdGVyIHRvIHJlamVjdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRyYW5zcG9ydCkge1xuICAgIHN1cGVyKHsgb2JqZWN0TW9kZTogdHJ1ZSB9KTtcblxuICAgIGlmICghdHJhbnNwb3J0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlamVjdGlvblN0cmVhbSByZXF1aXJlcyBhIFRyYW5zcG9ydFN0cmVhbSBpbnN0YW5jZS4nKTtcbiAgICB9XG5cbiAgICB0aGlzLmhhbmRsZVJlamVjdGlvbnMgPSB0cnVlO1xuICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICB9XG5cbiAgLyoqXG4gICAqIFdyaXRlcyB0aGUgaW5mbyBvYmplY3QgdG8gb3VyIHRyYW5zcG9ydCBpbnN0YW5jZSBpZiAoYW5kIG9ubHkgaWYpIHRoZVxuICAgKiBgcmVqZWN0aW9uYCBwcm9wZXJ0eSBpcyBzZXQgb24gdGhlIGluZm8uXG4gICAqIEBwYXJhbSB7bWl4ZWR9IGluZm8gLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7bWl4ZWR9IGVuYyAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHttaXhlZH0gY2FsbGJhY2sgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3dyaXRlKGluZm8sIGVuYywgY2FsbGJhY2spIHtcbiAgICBpZiAoaW5mby5yZWplY3Rpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5sb2coaW5mbywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGNhbGxiYWNrKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/rejection-stream.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/tail-file.js":
/*!*******************************************************!*\
  !*** ./node_modules/winston/lib/winston/tail-file.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * tail-file.js: TODO: add file header description.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst { StringDecoder } = __webpack_require__(/*! string_decoder */ \"string_decoder\");\nconst { Stream } = __webpack_require__(/*! readable-stream */ \"(action-browser)/./node_modules/readable-stream/readable.js\");\n\n/**\n * Simple no-op function.\n * @returns {undefined}\n */\nfunction noop() {}\n\n/**\n * TODO: add function description.\n * @param {Object} options - Options for tail.\n * @param {function} iter - Iterator function to execute on every line.\n* `tail -f` a file. Options must include file.\n * @returns {mixed} - TODO: add return description.\n */\nmodule.exports = (options, iter) => {\n  const buffer = Buffer.alloc(64 * 1024);\n  const decode = new StringDecoder('utf8');\n  const stream = new Stream();\n  let buff = '';\n  let pos = 0;\n  let row = 0;\n\n  if (options.start === -1) {\n    delete options.start;\n  }\n\n  stream.readable = true;\n  stream.destroy = () => {\n    stream.destroyed = true;\n    stream.emit('end');\n    stream.emit('close');\n  };\n\n  fs.open(options.file, 'a+', '0644', (err, fd) => {\n    if (err) {\n      if (!iter) {\n        stream.emit('error', err);\n      } else {\n        iter(err);\n      }\n      stream.destroy();\n      return;\n    }\n\n    (function read() {\n      if (stream.destroyed) {\n        fs.close(fd, noop);\n        return;\n      }\n\n      return fs.read(fd, buffer, 0, buffer.length, pos, (error, bytes) => {\n        if (error) {\n          if (!iter) {\n            stream.emit('error', error);\n          } else {\n            iter(error);\n          }\n          stream.destroy();\n          return;\n        }\n\n        if (!bytes) {\n          if (buff) {\n            // eslint-disable-next-line eqeqeq\n            if (options.start == null || row > options.start) {\n              if (!iter) {\n                stream.emit('line', buff);\n              } else {\n                iter(null, buff);\n              }\n            }\n            row++;\n            buff = '';\n          }\n          return setTimeout(read, 1000);\n        }\n\n        let data = decode.write(buffer.slice(0, bytes));\n        if (!iter) {\n          stream.emit('data', data);\n        }\n\n        data = (buff + data).split(/\\n+/);\n\n        const l = data.length - 1;\n        let i = 0;\n\n        for (; i < l; i++) {\n          // eslint-disable-next-line eqeqeq\n          if (options.start == null || row > options.start) {\n            if (!iter) {\n              stream.emit('line', data[i]);\n            } else {\n              iter(null, data[i]);\n            }\n          }\n          row++;\n        }\n\n        buff = data[l];\n        pos += bytes;\n        return read();\n      });\n    }());\n  });\n\n  if (!iter) {\n    return stream;\n  }\n\n  return stream.destroy;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL3RhaWwtZmlsZS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsV0FBVyxtQkFBTyxDQUFDLGNBQUk7QUFDdkIsUUFBUSxnQkFBZ0IsRUFBRSxtQkFBTyxDQUFDLHNDQUFnQjtBQUNsRCxRQUFRLFNBQVMsRUFBRSxtQkFBTyxDQUFDLG9GQUFpQjs7QUFFNUM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsiQzpcXHJlcG9cXE51dHJpV2lzZUFJXFxub2RlX21vZHVsZXNcXHdpbnN0b25cXGxpYlxcd2luc3RvblxcdGFpbC1maWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogdGFpbC1maWxlLmpzOiBUT0RPOiBhZGQgZmlsZSBoZWFkZXIgZGVzY3JpcHRpb24uXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3QgeyBTdHJpbmdEZWNvZGVyIH0gPSByZXF1aXJlKCdzdHJpbmdfZGVjb2RlcicpO1xuY29uc3QgeyBTdHJlYW0gfSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbScpO1xuXG4vKipcbiAqIFNpbXBsZSBuby1vcCBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vKipcbiAqIFRPRE86IGFkZCBmdW5jdGlvbiBkZXNjcmlwdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGFpbC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGl0ZXIgLSBJdGVyYXRvciBmdW5jdGlvbiB0byBleGVjdXRlIG9uIGV2ZXJ5IGxpbmUuXG4qIGB0YWlsIC1mYCBhIGZpbGUuIE9wdGlvbnMgbXVzdCBpbmNsdWRlIGZpbGUuXG4gKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAob3B0aW9ucywgaXRlcikgPT4ge1xuICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2MoNjQgKiAxMDI0KTtcbiAgY29uc3QgZGVjb2RlID0gbmV3IFN0cmluZ0RlY29kZXIoJ3V0ZjgnKTtcbiAgY29uc3Qgc3RyZWFtID0gbmV3IFN0cmVhbSgpO1xuICBsZXQgYnVmZiA9ICcnO1xuICBsZXQgcG9zID0gMDtcbiAgbGV0IHJvdyA9IDA7XG5cbiAgaWYgKG9wdGlvbnMuc3RhcnQgPT09IC0xKSB7XG4gICAgZGVsZXRlIG9wdGlvbnMuc3RhcnQ7XG4gIH1cblxuICBzdHJlYW0ucmVhZGFibGUgPSB0cnVlO1xuICBzdHJlYW0uZGVzdHJveSA9ICgpID0+IHtcbiAgICBzdHJlYW0uZGVzdHJveWVkID0gdHJ1ZTtcbiAgICBzdHJlYW0uZW1pdCgnZW5kJyk7XG4gICAgc3RyZWFtLmVtaXQoJ2Nsb3NlJyk7XG4gIH07XG5cbiAgZnMub3BlbihvcHRpb25zLmZpbGUsICdhKycsICcwNjQ0JywgKGVyciwgZmQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBpZiAoIWl0ZXIpIHtcbiAgICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZXIoZXJyKTtcbiAgICAgIH1cbiAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgKGZ1bmN0aW9uIHJlYWQoKSB7XG4gICAgICBpZiAoc3RyZWFtLmRlc3Ryb3llZCkge1xuICAgICAgICBmcy5jbG9zZShmZCwgbm9vcCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZzLnJlYWQoZmQsIGJ1ZmZlciwgMCwgYnVmZmVyLmxlbmd0aCwgcG9zLCAoZXJyb3IsIGJ5dGVzKSA9PiB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGlmICghaXRlcikge1xuICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVyKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWJ5dGVzKSB7XG4gICAgICAgICAgaWYgKGJ1ZmYpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0YXJ0ID09IG51bGwgfHwgcm93ID4gb3B0aW9ucy5zdGFydCkge1xuICAgICAgICAgICAgICBpZiAoIWl0ZXIpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnbGluZScsIGJ1ZmYpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZXIobnVsbCwgYnVmZik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvdysrO1xuICAgICAgICAgICAgYnVmZiA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChyZWFkLCAxMDAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkYXRhID0gZGVjb2RlLndyaXRlKGJ1ZmZlci5zbGljZSgwLCBieXRlcykpO1xuICAgICAgICBpZiAoIWl0ZXIpIHtcbiAgICAgICAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YSA9IChidWZmICsgZGF0YSkuc3BsaXQoL1xcbisvKTtcblxuICAgICAgICBjb25zdCBsID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgaSA9IDA7XG5cbiAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnQgPT0gbnVsbCB8fCByb3cgPiBvcHRpb25zLnN0YXJ0KSB7XG4gICAgICAgICAgICBpZiAoIWl0ZXIpIHtcbiAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ2xpbmUnLCBkYXRhW2ldKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl0ZXIobnVsbCwgZGF0YVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJvdysrO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVmZiA9IGRhdGFbbF07XG4gICAgICAgIHBvcyArPSBieXRlcztcbiAgICAgICAgcmV0dXJuIHJlYWQoKTtcbiAgICAgIH0pO1xuICAgIH0oKSk7XG4gIH0pO1xuXG4gIGlmICghaXRlcikge1xuICAgIHJldHVybiBzdHJlYW07XG4gIH1cblxuICByZXR1cm4gc3RyZWFtLmRlc3Ryb3k7XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/tail-file.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/transports/console.js":
/*!****************************************************************!*\
  !*** ./node_modules/winston/lib/winston/transports/console.js ***!
  \****************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/* eslint-disable no-console */\n/*\n * console.js: Transport for outputting to the console.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst os = __webpack_require__(/*! os */ \"os\");\nconst { LEVEL, MESSAGE } = __webpack_require__(/*! triple-beam */ \"(action-browser)/./node_modules/triple-beam/index.js\");\nconst TransportStream = __webpack_require__(/*! winston-transport */ \"(action-browser)/./node_modules/winston-transport/index.js\");\n\n/**\n * Transport for outputting to the console.\n * @type {Console}\n * @extends {TransportStream}\n */\nmodule.exports = class Console extends TransportStream {\n  /**\n   * Constructor function for the Console transport object responsible for\n   * persisting log messages and metadata to a terminal or TTY.\n   * @param {!Object} [options={}] - Options for this instance.\n   */\n  constructor(options = {}) {\n    super(options);\n\n    // Expose the name of this Transport on the prototype\n    this.name = options.name || 'console';\n    this.stderrLevels = this._stringArrayToSet(options.stderrLevels);\n    this.consoleWarnLevels = this._stringArrayToSet(options.consoleWarnLevels);\n    this.eol = typeof options.eol === 'string' ? options.eol : os.EOL;\n    this.forceConsole = options.forceConsole || false;\n\n    // Keep a reference to the log, warn, and error console methods\n    // in case they get redirected to this transport after the logger is\n    // instantiated. This prevents a circular reference issue.\n    this._consoleLog = console.log.bind(console);\n    this._consoleWarn = console.warn.bind(console);\n    this._consoleError = console.error.bind(console);\n\n    this.setMaxListeners(30);\n  }\n\n  /**\n   * Core logging method exposed to Winston.\n   * @param {Object} info - TODO: add param description.\n   * @param {Function} callback - TODO: add param description.\n   * @returns {undefined}\n   */\n  log(info, callback) {\n    setImmediate(() => this.emit('logged', info));\n\n    // Remark: what if there is no raw...?\n    if (this.stderrLevels[info[LEVEL]]) {\n      if (console._stderr && !this.forceConsole) {\n        // Node.js maps `process.stderr` to `console._stderr`.\n        console._stderr.write(`${info[MESSAGE]}${this.eol}`);\n      } else {\n        // console.error adds a newline\n        this._consoleError(info[MESSAGE]);\n      }\n\n      if (callback) {\n        callback(); // eslint-disable-line callback-return\n      }\n      return;\n    } else if (this.consoleWarnLevels[info[LEVEL]]) {\n      if (console._stderr && !this.forceConsole) {\n        // Node.js maps `process.stderr` to `console._stderr`.\n        // in Node.js console.warn is an alias for console.error\n        console._stderr.write(`${info[MESSAGE]}${this.eol}`);\n      } else {\n        // console.warn adds a newline\n        this._consoleWarn(info[MESSAGE]);\n      }\n\n      if (callback) {\n        callback(); // eslint-disable-line callback-return\n      }\n      return;\n    }\n\n    if (console._stdout && !this.forceConsole) {\n      // Node.js maps `process.stdout` to `console._stdout`.\n      console._stdout.write(`${info[MESSAGE]}${this.eol}`);\n    } else {\n      // console.log adds a newline.\n      this._consoleLog(info[MESSAGE]);\n    }\n\n    if (callback) {\n      callback(); // eslint-disable-line callback-return\n    }\n  }\n\n  /**\n   * Returns a Set-like object with strArray's elements as keys (each with the\n   * value true).\n   * @param {Array} strArray - Array of Set-elements as strings.\n   * @param {?string} [errMsg] - Custom error message thrown on invalid input.\n   * @returns {Object} - TODO: add return description.\n   * @private\n   */\n  _stringArrayToSet(strArray, errMsg) {\n    if (!strArray) return {};\n\n    errMsg =\n      errMsg || 'Cannot make set from type other than Array of string elements';\n\n    if (!Array.isArray(strArray)) {\n      throw new Error(errMsg);\n    }\n\n    return strArray.reduce((set, el) => {\n      if (typeof el !== 'string') {\n        throw new Error(errMsg);\n      }\n      set[el] = true;\n\n      return set;\n    }, {});\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL3RyYW5zcG9ydHMvY29uc29sZS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixXQUFXLG1CQUFPLENBQUMsY0FBSTtBQUN2QixRQUFRLGlCQUFpQixFQUFFLG1CQUFPLENBQUMseUVBQWE7QUFDaEQsd0JBQXdCLG1CQUFPLENBQUMscUZBQW1COztBQUVuRDtBQUNBO0FBQ0EsVUFBVTtBQUNWLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTLFdBQVc7QUFDakM7QUFDQSwwQkFBMEI7QUFDMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsY0FBYyxFQUFFLFNBQVM7QUFDMUQsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxjQUFjLEVBQUUsU0FBUztBQUMxRCxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCLGNBQWMsRUFBRSxTQUFTO0FBQ3hELE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxTQUFTO0FBQ3RCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQSIsInNvdXJjZXMiOlsiQzpcXHJlcG9cXE51dHJpV2lzZUFJXFxub2RlX21vZHVsZXNcXHdpbnN0b25cXGxpYlxcd2luc3RvblxcdHJhbnNwb3J0c1xcY29uc29sZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4vKlxuICogY29uc29sZS5qczogVHJhbnNwb3J0IGZvciBvdXRwdXR0aW5nIHRvIHRoZSBjb25zb2xlLlxuICpcbiAqIChDKSAyMDEwIENoYXJsaWUgUm9iYmluc1xuICogTUlUIExJQ0VOQ0VcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKTtcbmNvbnN0IHsgTEVWRUwsIE1FU1NBR0UgfSA9IHJlcXVpcmUoJ3RyaXBsZS1iZWFtJyk7XG5jb25zdCBUcmFuc3BvcnRTdHJlYW0gPSByZXF1aXJlKCd3aW5zdG9uLXRyYW5zcG9ydCcpO1xuXG4vKipcbiAqIFRyYW5zcG9ydCBmb3Igb3V0cHV0dGluZyB0byB0aGUgY29uc29sZS5cbiAqIEB0eXBlIHtDb25zb2xlfVxuICogQGV4dGVuZHMge1RyYW5zcG9ydFN0cmVhbX1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBDb25zb2xlIGV4dGVuZHMgVHJhbnNwb3J0U3RyZWFtIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgQ29uc29sZSB0cmFuc3BvcnQgb2JqZWN0IHJlc3BvbnNpYmxlIGZvclxuICAgKiBwZXJzaXN0aW5nIGxvZyBtZXNzYWdlcyBhbmQgbWV0YWRhdGEgdG8gYSB0ZXJtaW5hbCBvciBUVFkuXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gW29wdGlvbnM9e31dIC0gT3B0aW9ucyBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLy8gRXhwb3NlIHRoZSBuYW1lIG9mIHRoaXMgVHJhbnNwb3J0IG9uIHRoZSBwcm90b3R5cGVcbiAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWUgfHwgJ2NvbnNvbGUnO1xuICAgIHRoaXMuc3RkZXJyTGV2ZWxzID0gdGhpcy5fc3RyaW5nQXJyYXlUb1NldChvcHRpb25zLnN0ZGVyckxldmVscyk7XG4gICAgdGhpcy5jb25zb2xlV2FybkxldmVscyA9IHRoaXMuX3N0cmluZ0FycmF5VG9TZXQob3B0aW9ucy5jb25zb2xlV2FybkxldmVscyk7XG4gICAgdGhpcy5lb2wgPSB0eXBlb2Ygb3B0aW9ucy5lb2wgPT09ICdzdHJpbmcnID8gb3B0aW9ucy5lb2wgOiBvcy5FT0w7XG4gICAgdGhpcy5mb3JjZUNvbnNvbGUgPSBvcHRpb25zLmZvcmNlQ29uc29sZSB8fCBmYWxzZTtcblxuICAgIC8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIGxvZywgd2FybiwgYW5kIGVycm9yIGNvbnNvbGUgbWV0aG9kc1xuICAgIC8vIGluIGNhc2UgdGhleSBnZXQgcmVkaXJlY3RlZCB0byB0aGlzIHRyYW5zcG9ydCBhZnRlciB0aGUgbG9nZ2VyIGlzXG4gICAgLy8gaW5zdGFudGlhdGVkLiBUaGlzIHByZXZlbnRzIGEgY2lyY3VsYXIgcmVmZXJlbmNlIGlzc3VlLlxuICAgIHRoaXMuX2NvbnNvbGVMb2cgPSBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO1xuICAgIHRoaXMuX2NvbnNvbGVXYXJuID0gY29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7XG4gICAgdGhpcy5fY29uc29sZUVycm9yID0gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpO1xuXG4gICAgdGhpcy5zZXRNYXhMaXN0ZW5lcnMoMzApO1xuICB9XG5cbiAgLyoqXG4gICAqIENvcmUgbG9nZ2luZyBtZXRob2QgZXhwb3NlZCB0byBXaW5zdG9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBsb2coaW5mbywgY2FsbGJhY2spIHtcbiAgICBzZXRJbW1lZGlhdGUoKCkgPT4gdGhpcy5lbWl0KCdsb2dnZWQnLCBpbmZvKSk7XG5cbiAgICAvLyBSZW1hcms6IHdoYXQgaWYgdGhlcmUgaXMgbm8gcmF3Li4uP1xuICAgIGlmICh0aGlzLnN0ZGVyckxldmVsc1tpbmZvW0xFVkVMXV0pIHtcbiAgICAgIGlmIChjb25zb2xlLl9zdGRlcnIgJiYgIXRoaXMuZm9yY2VDb25zb2xlKSB7XG4gICAgICAgIC8vIE5vZGUuanMgbWFwcyBgcHJvY2Vzcy5zdGRlcnJgIHRvIGBjb25zb2xlLl9zdGRlcnJgLlxuICAgICAgICBjb25zb2xlLl9zdGRlcnIud3JpdGUoYCR7aW5mb1tNRVNTQUdFXX0ke3RoaXMuZW9sfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5lcnJvciBhZGRzIGEgbmV3bGluZVxuICAgICAgICB0aGlzLl9jb25zb2xlRXJyb3IoaW5mb1tNRVNTQUdFXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjaygpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb25zb2xlV2FybkxldmVsc1tpbmZvW0xFVkVMXV0pIHtcbiAgICAgIGlmIChjb25zb2xlLl9zdGRlcnIgJiYgIXRoaXMuZm9yY2VDb25zb2xlKSB7XG4gICAgICAgIC8vIE5vZGUuanMgbWFwcyBgcHJvY2Vzcy5zdGRlcnJgIHRvIGBjb25zb2xlLl9zdGRlcnJgLlxuICAgICAgICAvLyBpbiBOb2RlLmpzIGNvbnNvbGUud2FybiBpcyBhbiBhbGlhcyBmb3IgY29uc29sZS5lcnJvclxuICAgICAgICBjb25zb2xlLl9zdGRlcnIud3JpdGUoYCR7aW5mb1tNRVNTQUdFXX0ke3RoaXMuZW9sfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS53YXJuIGFkZHMgYSBuZXdsaW5lXG4gICAgICAgIHRoaXMuX2NvbnNvbGVXYXJuKGluZm9bTUVTU0FHRV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYWxsYmFjay1yZXR1cm5cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY29uc29sZS5fc3Rkb3V0ICYmICF0aGlzLmZvcmNlQ29uc29sZSkge1xuICAgICAgLy8gTm9kZS5qcyBtYXBzIGBwcm9jZXNzLnN0ZG91dGAgdG8gYGNvbnNvbGUuX3N0ZG91dGAuXG4gICAgICBjb25zb2xlLl9zdGRvdXQud3JpdGUoYCR7aW5mb1tNRVNTQUdFXX0ke3RoaXMuZW9sfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyBhZGRzIGEgbmV3bGluZS5cbiAgICAgIHRoaXMuX2NvbnNvbGVMb2coaW5mb1tNRVNTQUdFXSk7XG4gICAgfVxuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgU2V0LWxpa2Ugb2JqZWN0IHdpdGggc3RyQXJyYXkncyBlbGVtZW50cyBhcyBrZXlzIChlYWNoIHdpdGggdGhlXG4gICAqIHZhbHVlIHRydWUpLlxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJBcnJheSAtIEFycmF5IG9mIFNldC1lbGVtZW50cyBhcyBzdHJpbmdzLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IFtlcnJNc2ddIC0gQ3VzdG9tIGVycm9yIG1lc3NhZ2UgdGhyb3duIG9uIGludmFsaWQgaW5wdXQuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zdHJpbmdBcnJheVRvU2V0KHN0ckFycmF5LCBlcnJNc2cpIHtcbiAgICBpZiAoIXN0ckFycmF5KSByZXR1cm4ge307XG5cbiAgICBlcnJNc2cgPVxuICAgICAgZXJyTXNnIHx8ICdDYW5ub3QgbWFrZSBzZXQgZnJvbSB0eXBlIG90aGVyIHRoYW4gQXJyYXkgb2Ygc3RyaW5nIGVsZW1lbnRzJztcblxuICAgIGlmICghQXJyYXkuaXNBcnJheShzdHJBcnJheSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJBcnJheS5yZWR1Y2UoKHNldCwgZWwpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgZWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgfVxuICAgICAgc2V0W2VsXSA9IHRydWU7XG5cbiAgICAgIHJldHVybiBzZXQ7XG4gICAgfSwge30pO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/transports/console.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/transports/file.js":
/*!*************************************************************!*\
  !*** ./node_modules/winston/lib/winston/transports/file.js ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/* eslint-disable complexity,max-statements */\n/**\n * file.js: Transport for outputting to a local log file.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst path = __webpack_require__(/*! path */ \"path\");\nconst asyncSeries = __webpack_require__(/*! async/series */ \"(action-browser)/./node_modules/async/series.js\");\nconst zlib = __webpack_require__(/*! zlib */ \"zlib\");\nconst { MESSAGE } = __webpack_require__(/*! triple-beam */ \"(action-browser)/./node_modules/triple-beam/index.js\");\nconst { Stream, PassThrough } = __webpack_require__(/*! readable-stream */ \"(action-browser)/./node_modules/readable-stream/readable.js\");\nconst TransportStream = __webpack_require__(/*! winston-transport */ \"(action-browser)/./node_modules/winston-transport/index.js\");\nconst debug = __webpack_require__(/*! @dabh/diagnostics */ \"(action-browser)/./node_modules/@dabh/diagnostics/node/index.js\")('winston:file');\nconst os = __webpack_require__(/*! os */ \"os\");\nconst tailFile = __webpack_require__(/*! ../tail-file */ \"(action-browser)/./node_modules/winston/lib/winston/tail-file.js\");\n\n/**\n * Transport for outputting to a local log file.\n * @type {File}\n * @extends {TransportStream}\n */\nmodule.exports = class File extends TransportStream {\n  /**\n   * Constructor function for the File transport object responsible for\n   * persisting log messages and metadata to one or more files.\n   * @param {Object} options - Options for this instance.\n   */\n  constructor(options = {}) {\n    super(options);\n\n    // Expose the name of this Transport on the prototype.\n    this.name = options.name || 'file';\n\n    // Helper function which throws an `Error` in the event that any of the\n    // rest of the arguments is present in `options`.\n    function throwIf(target, ...args) {\n      args.slice(1).forEach(name => {\n        if (options[name]) {\n          throw new Error(`Cannot set ${name} and ${target} together`);\n        }\n      });\n    }\n\n    // Setup the base stream that always gets piped to to handle buffering.\n    this._stream = new PassThrough();\n    this._stream.setMaxListeners(30);\n\n    // Bind this context for listener methods.\n    this._onError = this._onError.bind(this);\n\n    if (options.filename || options.dirname) {\n      throwIf('filename or dirname', 'stream');\n      this._basename = this.filename = options.filename\n        ? path.basename(options.filename)\n        : 'winston.log';\n\n      this.dirname = options.dirname || path.dirname(options.filename);\n      this.options = options.options || { flags: 'a' };\n    } else if (options.stream) {\n      // eslint-disable-next-line no-console\n      console.warn('options.stream will be removed in winston@4. Use winston.transports.Stream');\n      throwIf('stream', 'filename', 'maxsize');\n      this._dest = this._stream.pipe(this._setupStream(options.stream));\n      this.dirname = path.dirname(this._dest.path);\n      // We need to listen for drain events when write() returns false. This\n      // can make node mad at times.\n    } else {\n      throw new Error('Cannot log to file without filename or stream.');\n    }\n\n    this.maxsize = options.maxsize || null;\n    this.rotationFormat = options.rotationFormat || false;\n    this.zippedArchive = options.zippedArchive || false;\n    this.maxFiles = options.maxFiles || null;\n    this.eol = (typeof options.eol === 'string') ? options.eol : os.EOL;\n    this.tailable = options.tailable || false;\n    this.lazy = options.lazy || false;\n\n    // Internal state variables representing the number of files this instance\n    // has created and the current size (in bytes) of the current logfile.\n    this._size = 0;\n    this._pendingSize = 0;\n    this._created = 0;\n    this._drain = false;\n    this._opening = false;\n    this._ending = false;\n    this._fileExist = false;\n\n    if (this.dirname) this._createLogDirIfNotExist(this.dirname);\n    if (!this.lazy) this.open();\n  }\n\n  finishIfEnding() {\n    if (this._ending) {\n      if (this._opening) {\n        this.once('open', () => {\n          this._stream.once('finish', () => this.emit('finish'));\n          setImmediate(() => this._stream.end());\n        });\n      } else {\n        this._stream.once('finish', () => this.emit('finish'));\n        setImmediate(() => this._stream.end());\n      }\n    }\n  }\n\n  /**\n   * Core logging method exposed to Winston. Metadata is optional.\n   * @param {Object} info - TODO: add param description.\n   * @param {Function} callback - TODO: add param description.\n   * @returns {undefined}\n   */\n  log(info, callback = () => { }) {\n    // Remark: (jcrugzz) What is necessary about this callback(null, true) now\n    // when thinking about 3.x? Should silent be handled in the base\n    // TransportStream _write method?\n    if (this.silent) {\n      callback();\n      return true;\n    }\n\n\n    // Output stream buffer is full and has asked us to wait for the drain event\n    if (this._drain) {\n      this._stream.once('drain', () => {\n        this._drain = false;\n        this.log(info, callback);\n      });\n      return;\n    }\n    if (this._rotate) {\n      this._stream.once('rotate', () => {\n        this._rotate = false;\n        this.log(info, callback);\n      });\n      return;\n    }\n    if (this.lazy) {\n      if (!this._fileExist) {\n        if (!this._opening) {\n          this.open();\n        }\n        this.once('open', () => {\n          this._fileExist = true;\n          this.log(info, callback);\n          return;\n        });\n        return;\n      }\n      if (this._needsNewFile(this._pendingSize)) {\n        this._dest.once('close', () => {\n          if (!this._opening) {\n            this.open();\n          }\n          this.once('open', () => {\n            this.log(info, callback);\n            return;\n          });\n          return;\n        });\n        return;\n      }\n    }\n\n    // Grab the raw string and append the expected EOL.\n    const output = `${info[MESSAGE]}${this.eol}`;\n    const bytes = Buffer.byteLength(output);\n\n    // After we have written to the PassThrough check to see if we need\n    // to rotate to the next file.\n    //\n    // Remark: This gets called too early and does not depict when data\n    // has been actually flushed to disk.\n    function logged() {\n      this._size += bytes;\n      this._pendingSize -= bytes;\n\n      debug('logged %s %s', this._size, output);\n      this.emit('logged', info);\n\n      // Do not attempt to rotate files while rotating\n      if (this._rotate) {\n        return;\n      }\n\n      // Do not attempt to rotate files while opening\n      if (this._opening) {\n        return;\n      }\n\n      // Check to see if we need to end the stream and create a new one.\n      if (!this._needsNewFile()) {\n        return;\n      }\n      if (this.lazy) {\n        this._endStream(() => {this.emit('fileclosed');});\n        return;\n      }\n\n      // End the current stream, ensure it flushes and create a new one.\n      // This could potentially be optimized to not run a stat call but its\n      // the safest way since we are supporting `maxFiles`.\n      this._rotate = true;\n      this._endStream(() => this._rotateFile());\n    }\n\n    // Keep track of the pending bytes being written while files are opening\n    // in order to properly rotate the PassThrough this._stream when the file\n    // eventually does open.\n    this._pendingSize += bytes;\n    if (this._opening\n      && !this.rotatedWhileOpening\n      && this._needsNewFile(this._size + this._pendingSize)) {\n      this.rotatedWhileOpening = true;\n    }\n\n    const written = this._stream.write(output, logged.bind(this));\n    if (!written) {\n      this._drain = true;\n      this._stream.once('drain', () => {\n        this._drain = false;\n        callback();\n      });\n    } else {\n      callback(); // eslint-disable-line callback-return\n    }\n\n    debug('written', written, this._drain);\n\n    this.finishIfEnding();\n\n    return written;\n  }\n\n  /**\n   * Query the transport. Options object is optional.\n   * @param {Object} options - Loggly-like query options for this instance.\n   * @param {function} callback - Continuation to respond to when complete.\n   * TODO: Refactor me.\n   */\n  query(options, callback) {\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    options = normalizeQuery(options);\n    const file = path.join(this.dirname, this.filename);\n    let buff = '';\n    let results = [];\n    let row = 0;\n\n    const stream = fs.createReadStream(file, {\n      encoding: 'utf8'\n    });\n\n    stream.on('error', err => {\n      if (stream.readable) {\n        stream.destroy();\n      }\n      if (!callback) {\n        return;\n      }\n\n      return err.code !== 'ENOENT' ? callback(err) : callback(null, results);\n    });\n\n    stream.on('data', data => {\n      data = (buff + data).split(/\\n+/);\n      const l = data.length - 1;\n      let i = 0;\n\n      for (; i < l; i++) {\n        if (!options.start || row >= options.start) {\n          add(data[i]);\n        }\n        row++;\n      }\n\n      buff = data[l];\n    });\n\n    stream.on('close', () => {\n      if (buff) {\n        add(buff, true);\n      }\n      if (options.order === 'desc') {\n        results = results.reverse();\n      }\n\n      // eslint-disable-next-line callback-return\n      if (callback) callback(null, results);\n    });\n\n    function add(buff, attempt) {\n      try {\n        const log = JSON.parse(buff);\n        if (check(log)) {\n          push(log);\n        }\n      } catch (e) {\n        if (!attempt) {\n          stream.emit('error', e);\n        }\n      }\n    }\n\n    function push(log) {\n      if (\n        options.rows &&\n        results.length >= options.rows &&\n        options.order !== 'desc'\n      ) {\n        if (stream.readable) {\n          stream.destroy();\n        }\n        return;\n      }\n\n      if (options.fields) {\n        log = options.fields.reduce((obj, key) => {\n          obj[key] = log[key];\n          return obj;\n        }, {});\n      }\n\n      if (options.order === 'desc') {\n        if (results.length >= options.rows) {\n          results.shift();\n        }\n      }\n      results.push(log);\n    }\n\n    function check(log) {\n      if (!log) {\n        return;\n      }\n\n      if (typeof log !== 'object') {\n        return;\n      }\n\n      const time = new Date(log.timestamp);\n      if (\n        (options.from && time < options.from) ||\n        (options.until && time > options.until) ||\n        (options.level && options.level !== log.level)\n      ) {\n        return;\n      }\n\n      return true;\n    }\n\n    function normalizeQuery(options) {\n      options = options || {};\n\n      // limit\n      options.rows = options.rows || options.limit || 10;\n\n      // starting row offset\n      options.start = options.start || 0;\n\n      // now\n      options.until = options.until || new Date();\n      if (typeof options.until !== 'object') {\n        options.until = new Date(options.until);\n      }\n\n      // now - 24\n      options.from = options.from || (options.until - (24 * 60 * 60 * 1000));\n      if (typeof options.from !== 'object') {\n        options.from = new Date(options.from);\n      }\n\n      // 'asc' or 'desc'\n      options.order = options.order || 'desc';\n\n      return options;\n    }\n  }\n\n  /**\n   * Returns a log stream for this transport. Options object is optional.\n   * @param {Object} options - Stream options for this instance.\n   * @returns {Stream} - TODO: add return description.\n   * TODO: Refactor me.\n   */\n  stream(options = {}) {\n    const file = path.join(this.dirname, this.filename);\n    const stream = new Stream();\n    const tail = {\n      file,\n      start: options.start\n    };\n\n    stream.destroy = tailFile(tail, (err, line) => {\n      if (err) {\n        return stream.emit('error', err);\n      }\n\n      try {\n        stream.emit('data', line);\n        line = JSON.parse(line);\n        stream.emit('log', line);\n      } catch (e) {\n        stream.emit('error', e);\n      }\n    });\n\n    return stream;\n  }\n\n  /**\n   * Checks to see the filesize of.\n   * @returns {undefined}\n   */\n  open() {\n    // If we do not have a filename then we were passed a stream and\n    // don't need to keep track of size.\n    if (!this.filename) return;\n    if (this._opening) return;\n\n    this._opening = true;\n\n    // Stat the target file to get the size and create the stream.\n    this.stat((err, size) => {\n      if (err) {\n        return this.emit('error', err);\n      }\n      debug('stat done: %s { size: %s }', this.filename, size);\n      this._size = size;\n      this._dest = this._createStream(this._stream);\n      this._opening = false;\n      this.once('open', () => {\n        if (!this._stream.emit('rotate')) {\n          this._rotate = false;\n        }\n      });\n    });\n  }\n\n  /**\n   * Stat the file and assess information in order to create the proper stream.\n   * @param {function} callback - TODO: add param description.\n   * @returns {undefined}\n   */\n  stat(callback) {\n    const target = this._getFile();\n    const fullpath = path.join(this.dirname, target);\n\n    fs.stat(fullpath, (err, stat) => {\n      if (err && err.code === 'ENOENT') {\n        debug('ENOENTok', fullpath);\n        // Update internally tracked filename with the new target name.\n        this.filename = target;\n        return callback(null, 0);\n      }\n\n      if (err) {\n        debug(`err ${err.code} ${fullpath}`);\n        return callback(err);\n      }\n\n      if (!stat || this._needsNewFile(stat.size)) {\n        // If `stats.size` is greater than the `maxsize` for this\n        // instance then try again.\n        return this._incFile(() => this.stat(callback));\n      }\n\n      // Once we have figured out what the filename is, set it\n      // and return the size.\n      this.filename = target;\n      callback(null, stat.size);\n    });\n  }\n\n  /**\n   * Closes the stream associated with this instance.\n   * @param {function} cb - TODO: add param description.\n   * @returns {undefined}\n   */\n  close(cb) {\n    if (!this._stream) {\n      return;\n    }\n\n    this._stream.end(() => {\n      if (cb) {\n        cb(); // eslint-disable-line callback-return\n      }\n      this.emit('flush');\n      this.emit('closed');\n    });\n  }\n\n  /**\n   * TODO: add method description.\n   * @param {number} size - TODO: add param description.\n   * @returns {undefined}\n   */\n  _needsNewFile(size) {\n    size = size || this._size;\n    return this.maxsize && size >= this.maxsize;\n  }\n\n  /**\n   * TODO: add method description.\n   * @param {Error} err - TODO: add param description.\n   * @returns {undefined}\n   */\n  _onError(err) {\n    this.emit('error', err);\n  }\n\n  /**\n   * TODO: add method description.\n   * @param {Stream} stream - TODO: add param description.\n   * @returns {mixed} - TODO: add return description.\n   */\n  _setupStream(stream) {\n    stream.on('error', this._onError);\n\n    return stream;\n  }\n\n  /**\n   * TODO: add method description.\n   * @param {Stream} stream - TODO: add param description.\n   * @returns {mixed} - TODO: add return description.\n   */\n  _cleanupStream(stream) {\n    stream.removeListener('error', this._onError);\n    stream.destroy();\n    return stream;\n  }\n\n  /**\n   * TODO: add method description.\n   */\n  _rotateFile() {\n    this._incFile(() => this.open());\n  }\n\n  /**\n   * Unpipe from the stream that has been marked as full and end it so it\n   * flushes to disk.\n   *\n   * @param {function} callback - Callback for when the current file has closed.\n   * @private\n   */\n  _endStream(callback = () => { }) {\n    if (this._dest) {\n      this._stream.unpipe(this._dest);\n      this._dest.end(() => {\n        this._cleanupStream(this._dest);\n        callback();\n      });\n    } else {\n      callback(); // eslint-disable-line callback-return\n    }\n  }\n\n  /**\n   * Returns the WritableStream for the active file on this instance. If we\n   * should gzip the file then a zlib stream is returned.\n   *\n   * @param {ReadableStream} source PassThrough to pipe to the file when open.\n   * @returns {WritableStream} Stream that writes to disk for the active file.\n   */\n  _createStream(source) {\n    const fullpath = path.join(this.dirname, this.filename);\n\n    debug('create stream start', fullpath, this.options);\n    const dest = fs.createWriteStream(fullpath, this.options)\n      // TODO: What should we do with errors here?\n      .on('error', err => debug(err))\n      .on('close', () => debug('close', dest.path, dest.bytesWritten))\n      .on('open', () => {\n        debug('file open ok', fullpath);\n        this.emit('open', fullpath);\n        source.pipe(dest);\n\n        // If rotation occured during the open operation then we immediately\n        // start writing to a new PassThrough, begin opening the next file\n        // and cleanup the previous source and dest once the source has drained.\n        if (this.rotatedWhileOpening) {\n          this._stream = new PassThrough();\n          this._stream.setMaxListeners(30);\n          this._rotateFile();\n          this.rotatedWhileOpening = false;\n          this._cleanupStream(dest);\n          source.end();\n        }\n      });\n\n    debug('create stream ok', fullpath);\n    return dest;\n  }\n\n  /**\n   * TODO: add method description.\n   * @param {function} callback - TODO: add param description.\n   * @returns {undefined}\n   */\n  _incFile(callback) {\n    debug('_incFile', this.filename);\n    const ext = path.extname(this._basename);\n    const basename = path.basename(this._basename, ext);\n    const tasks = [];\n\n    if (this.zippedArchive) {\n      tasks.push(\n        function (cb) {\n          const num = this._created > 0 && !this.tailable ? this._created : '';\n          this._compressFile(\n            path.join(this.dirname, `${basename}${num}${ext}`),\n            path.join(this.dirname, `${basename}${num}${ext}.gz`),\n            cb\n          );\n        }.bind(this)\n      );\n    }\n\n    tasks.push(\n      function (cb) {\n        if (!this.tailable) {\n          this._created += 1;\n          this._checkMaxFilesIncrementing(ext, basename, cb);\n        } else {\n          this._checkMaxFilesTailable(ext, basename, cb);\n        }\n      }.bind(this)\n    );\n\n    asyncSeries(tasks, callback);\n  }\n\n  /**\n   * Gets the next filename to use for this instance in the case that log\n   * filesizes are being capped.\n   * @returns {string} - TODO: add return description.\n   * @private\n   */\n  _getFile() {\n    const ext = path.extname(this._basename);\n    const basename = path.basename(this._basename, ext);\n    const isRotation = this.rotationFormat\n      ? this.rotationFormat()\n      : this._created;\n\n    // Caveat emptor (indexzero): rotationFormat() was broken by design When\n    // combined with max files because the set of files to unlink is never\n    // stored.\n    return !this.tailable && this._created\n      ? `${basename}${isRotation}${ext}`\n      : `${basename}${ext}`;\n  }\n\n  /**\n   * Increment the number of files created or checked by this instance.\n   * @param {mixed} ext - TODO: add param description.\n   * @param {mixed} basename - TODO: add param description.\n   * @param {mixed} callback - TODO: add param description.\n   * @returns {undefined}\n   * @private\n   */\n  _checkMaxFilesIncrementing(ext, basename, callback) {\n    // Check for maxFiles option and delete file.\n    if (!this.maxFiles || this._created < this.maxFiles) {\n      return setImmediate(callback);\n    }\n\n    const oldest = this._created - this.maxFiles;\n    const isOldest = oldest !== 0 ? oldest : '';\n    const isZipped = this.zippedArchive ? '.gz' : '';\n    const filePath = `${basename}${isOldest}${ext}${isZipped}`;\n    const target = path.join(this.dirname, filePath);\n\n    fs.unlink(target, callback);\n  }\n\n  /**\n   * Roll files forward based on integer, up to maxFiles. e.g. if base if\n   * file.log and it becomes oversized, roll to file1.log, and allow file.log\n   * to be re-used. If file is oversized again, roll file1.log to file2.log,\n   * roll file.log to file1.log, and so on.\n   * @param {mixed} ext - TODO: add param description.\n   * @param {mixed} basename - TODO: add param description.\n   * @param {mixed} callback - TODO: add param description.\n   * @returns {undefined}\n   * @private\n   */\n  _checkMaxFilesTailable(ext, basename, callback) {\n    const tasks = [];\n    if (!this.maxFiles) {\n      return;\n    }\n\n    // const isZipped = this.zippedArchive ? '.gz' : '';\n    const isZipped = this.zippedArchive ? '.gz' : '';\n    for (let x = this.maxFiles - 1; x > 1; x--) {\n      tasks.push(function (i, cb) {\n        let fileName = `${basename}${(i - 1)}${ext}${isZipped}`;\n        const tmppath = path.join(this.dirname, fileName);\n\n        fs.exists(tmppath, exists => {\n          if (!exists) {\n            return cb(null);\n          }\n\n          fileName = `${basename}${i}${ext}${isZipped}`;\n          fs.rename(tmppath, path.join(this.dirname, fileName), cb);\n        });\n      }.bind(this, x));\n    }\n\n    asyncSeries(tasks, () => {\n      fs.rename(\n        path.join(this.dirname, `${basename}${ext}${isZipped}`),\n        path.join(this.dirname, `${basename}1${ext}${isZipped}`),\n        callback\n      );\n    });\n  }\n\n  /**\n   * Compresses src to dest with gzip and unlinks src\n   * @param {string} src - path to source file.\n   * @param {string} dest - path to zipped destination file.\n   * @param {Function} callback - callback called after file has been compressed.\n   * @returns {undefined}\n   * @private\n   */\n  _compressFile(src, dest, callback) {\n    fs.access(src, fs.F_OK, (err) => {\n      if (err) {\n        return callback();\n      }\n      var gzip = zlib.createGzip();\n      var inp = fs.createReadStream(src);\n      var out = fs.createWriteStream(dest);\n      out.on('finish', () => {\n        fs.unlink(src, callback);\n      });\n      inp.pipe(gzip).pipe(out);\n    });\n  }\n\n  _createLogDirIfNotExist(dirPath) {\n    /* eslint-disable no-sync */\n    if (!fs.existsSync(dirPath)) {\n      fs.mkdirSync(dirPath, { recursive: true });\n    }\n    /* eslint-enable no-sync */\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL3RyYW5zcG9ydHMvZmlsZS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixXQUFXLG1CQUFPLENBQUMsY0FBSTtBQUN2QixhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0Isb0JBQW9CLG1CQUFPLENBQUMscUVBQWM7QUFDMUMsYUFBYSxtQkFBTyxDQUFDLGtCQUFNO0FBQzNCLFFBQVEsVUFBVSxFQUFFLG1CQUFPLENBQUMseUVBQWE7QUFDekMsUUFBUSxzQkFBc0IsRUFBRSxtQkFBTyxDQUFDLG9GQUFpQjtBQUN6RCx3QkFBd0IsbUJBQU8sQ0FBQyxxRkFBbUI7QUFDbkQsY0FBYyxtQkFBTyxDQUFDLDBGQUFtQjtBQUN6QyxXQUFXLG1CQUFPLENBQUMsY0FBSTtBQUN2QixpQkFBaUIsbUJBQU8sQ0FBQyxzRkFBYzs7QUFFdkM7QUFDQTtBQUNBLFVBQVU7QUFDVixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBLDBCQUEwQjtBQUMxQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsTUFBTSxNQUFNLFFBQVE7QUFDNUQ7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBDQUEwQztBQUMxQyxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QixlQUFlO0FBQ2Y7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLGNBQWMsRUFBRSxTQUFTO0FBQy9DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHlCQUF5QjtBQUN4RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTixrQkFBa0I7QUFDbEI7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixVQUFVO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixVQUFVLEVBQUUsU0FBUztBQUMxQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTixrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0JBQWdCO0FBQzdCLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSTtBQUM1RCx1Q0FBdUMsU0FBUyxFQUFFLElBQUksRUFBRSxJQUFJO0FBQzVEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUyxFQUFFLFdBQVcsRUFBRSxJQUFJO0FBQ3ZDLFdBQVcsU0FBUyxFQUFFLElBQUk7QUFDMUI7O0FBRUE7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsU0FBUztBQUM3RDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQyxPQUFPO0FBQzNDO0FBQ0EsMEJBQTBCLFNBQVMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFNBQVM7QUFDOUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCLFNBQVMsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLFNBQVM7QUFDdEQ7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxtQ0FBbUMsU0FBUyxFQUFFLElBQUksRUFBRSxTQUFTO0FBQzdELG1DQUFtQyxTQUFTLEdBQUcsSUFBSSxFQUFFLFNBQVM7QUFDOUQ7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsaUJBQWlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxccmVwb1xcTnV0cmlXaXNlQUlcXG5vZGVfbW9kdWxlc1xcd2luc3RvblxcbGliXFx3aW5zdG9uXFx0cmFuc3BvcnRzXFxmaWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGNvbXBsZXhpdHksbWF4LXN0YXRlbWVudHMgKi9cbi8qKlxuICogZmlsZS5qczogVHJhbnNwb3J0IGZvciBvdXRwdXR0aW5nIHRvIGEgbG9jYWwgbG9nIGZpbGUuXG4gKlxuICogKEMpIDIwMTAgQ2hhcmxpZSBSb2JiaW5zXG4gKiBNSVQgTElDRU5DRVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IGFzeW5jU2VyaWVzID0gcmVxdWlyZSgnYXN5bmMvc2VyaWVzJyk7XG5jb25zdCB6bGliID0gcmVxdWlyZSgnemxpYicpO1xuY29uc3QgeyBNRVNTQUdFIH0gPSByZXF1aXJlKCd0cmlwbGUtYmVhbScpO1xuY29uc3QgeyBTdHJlYW0sIFBhc3NUaHJvdWdoIH0gPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0nKTtcbmNvbnN0IFRyYW5zcG9ydFN0cmVhbSA9IHJlcXVpcmUoJ3dpbnN0b24tdHJhbnNwb3J0Jyk7XG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ0BkYWJoL2RpYWdub3N0aWNzJykoJ3dpbnN0b246ZmlsZScpO1xuY29uc3Qgb3MgPSByZXF1aXJlKCdvcycpO1xuY29uc3QgdGFpbEZpbGUgPSByZXF1aXJlKCcuLi90YWlsLWZpbGUnKTtcblxuLyoqXG4gKiBUcmFuc3BvcnQgZm9yIG91dHB1dHRpbmcgdG8gYSBsb2NhbCBsb2cgZmlsZS5cbiAqIEB0eXBlIHtGaWxlfVxuICogQGV4dGVuZHMge1RyYW5zcG9ydFN0cmVhbX1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBGaWxlIGV4dGVuZHMgVHJhbnNwb3J0U3RyZWFtIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgRmlsZSB0cmFuc3BvcnQgb2JqZWN0IHJlc3BvbnNpYmxlIGZvclxuICAgKiBwZXJzaXN0aW5nIGxvZyBtZXNzYWdlcyBhbmQgbWV0YWRhdGEgdG8gb25lIG9yIG1vcmUgZmlsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLy8gRXhwb3NlIHRoZSBuYW1lIG9mIHRoaXMgVHJhbnNwb3J0IG9uIHRoZSBwcm90b3R5cGUuXG4gICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lIHx8ICdmaWxlJztcblxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB3aGljaCB0aHJvd3MgYW4gYEVycm9yYCBpbiB0aGUgZXZlbnQgdGhhdCBhbnkgb2YgdGhlXG4gICAgLy8gcmVzdCBvZiB0aGUgYXJndW1lbnRzIGlzIHByZXNlbnQgaW4gYG9wdGlvbnNgLlxuICAgIGZ1bmN0aW9uIHRocm93SWYodGFyZ2V0LCAuLi5hcmdzKSB7XG4gICAgICBhcmdzLnNsaWNlKDEpLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgIGlmIChvcHRpb25zW25hbWVdKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgc2V0ICR7bmFtZX0gYW5kICR7dGFyZ2V0fSB0b2dldGhlcmApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCB0aGUgYmFzZSBzdHJlYW0gdGhhdCBhbHdheXMgZ2V0cyBwaXBlZCB0byB0byBoYW5kbGUgYnVmZmVyaW5nLlxuICAgIHRoaXMuX3N0cmVhbSA9IG5ldyBQYXNzVGhyb3VnaCgpO1xuICAgIHRoaXMuX3N0cmVhbS5zZXRNYXhMaXN0ZW5lcnMoMzApO1xuXG4gICAgLy8gQmluZCB0aGlzIGNvbnRleHQgZm9yIGxpc3RlbmVyIG1ldGhvZHMuXG4gICAgdGhpcy5fb25FcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcblxuICAgIGlmIChvcHRpb25zLmZpbGVuYW1lIHx8IG9wdGlvbnMuZGlybmFtZSkge1xuICAgICAgdGhyb3dJZignZmlsZW5hbWUgb3IgZGlybmFtZScsICdzdHJlYW0nKTtcbiAgICAgIHRoaXMuX2Jhc2VuYW1lID0gdGhpcy5maWxlbmFtZSA9IG9wdGlvbnMuZmlsZW5hbWVcbiAgICAgICAgPyBwYXRoLmJhc2VuYW1lKG9wdGlvbnMuZmlsZW5hbWUpXG4gICAgICAgIDogJ3dpbnN0b24ubG9nJztcblxuICAgICAgdGhpcy5kaXJuYW1lID0gb3B0aW9ucy5kaXJuYW1lIHx8IHBhdGguZGlybmFtZShvcHRpb25zLmZpbGVuYW1lKTtcbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMub3B0aW9ucyB8fCB7IGZsYWdzOiAnYScgfTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuc3RyZWFtKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKCdvcHRpb25zLnN0cmVhbSB3aWxsIGJlIHJlbW92ZWQgaW4gd2luc3RvbkA0LiBVc2Ugd2luc3Rvbi50cmFuc3BvcnRzLlN0cmVhbScpO1xuICAgICAgdGhyb3dJZignc3RyZWFtJywgJ2ZpbGVuYW1lJywgJ21heHNpemUnKTtcbiAgICAgIHRoaXMuX2Rlc3QgPSB0aGlzLl9zdHJlYW0ucGlwZSh0aGlzLl9zZXR1cFN0cmVhbShvcHRpb25zLnN0cmVhbSkpO1xuICAgICAgdGhpcy5kaXJuYW1lID0gcGF0aC5kaXJuYW1lKHRoaXMuX2Rlc3QucGF0aCk7XG4gICAgICAvLyBXZSBuZWVkIHRvIGxpc3RlbiBmb3IgZHJhaW4gZXZlbnRzIHdoZW4gd3JpdGUoKSByZXR1cm5zIGZhbHNlLiBUaGlzXG4gICAgICAvLyBjYW4gbWFrZSBub2RlIG1hZCBhdCB0aW1lcy5cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbG9nIHRvIGZpbGUgd2l0aG91dCBmaWxlbmFtZSBvciBzdHJlYW0uJyk7XG4gICAgfVxuXG4gICAgdGhpcy5tYXhzaXplID0gb3B0aW9ucy5tYXhzaXplIHx8IG51bGw7XG4gICAgdGhpcy5yb3RhdGlvbkZvcm1hdCA9IG9wdGlvbnMucm90YXRpb25Gb3JtYXQgfHwgZmFsc2U7XG4gICAgdGhpcy56aXBwZWRBcmNoaXZlID0gb3B0aW9ucy56aXBwZWRBcmNoaXZlIHx8IGZhbHNlO1xuICAgIHRoaXMubWF4RmlsZXMgPSBvcHRpb25zLm1heEZpbGVzIHx8IG51bGw7XG4gICAgdGhpcy5lb2wgPSAodHlwZW9mIG9wdGlvbnMuZW9sID09PSAnc3RyaW5nJykgPyBvcHRpb25zLmVvbCA6IG9zLkVPTDtcbiAgICB0aGlzLnRhaWxhYmxlID0gb3B0aW9ucy50YWlsYWJsZSB8fCBmYWxzZTtcbiAgICB0aGlzLmxhenkgPSBvcHRpb25zLmxhenkgfHwgZmFsc2U7XG5cbiAgICAvLyBJbnRlcm5hbCBzdGF0ZSB2YXJpYWJsZXMgcmVwcmVzZW50aW5nIHRoZSBudW1iZXIgb2YgZmlsZXMgdGhpcyBpbnN0YW5jZVxuICAgIC8vIGhhcyBjcmVhdGVkIGFuZCB0aGUgY3VycmVudCBzaXplIChpbiBieXRlcykgb2YgdGhlIGN1cnJlbnQgbG9nZmlsZS5cbiAgICB0aGlzLl9zaXplID0gMDtcbiAgICB0aGlzLl9wZW5kaW5nU2l6ZSA9IDA7XG4gICAgdGhpcy5fY3JlYXRlZCA9IDA7XG4gICAgdGhpcy5fZHJhaW4gPSBmYWxzZTtcbiAgICB0aGlzLl9vcGVuaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fZW5kaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fZmlsZUV4aXN0ID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5kaXJuYW1lKSB0aGlzLl9jcmVhdGVMb2dEaXJJZk5vdEV4aXN0KHRoaXMuZGlybmFtZSk7XG4gICAgaWYgKCF0aGlzLmxhenkpIHRoaXMub3BlbigpO1xuICB9XG5cbiAgZmluaXNoSWZFbmRpbmcoKSB7XG4gICAgaWYgKHRoaXMuX2VuZGluZykge1xuICAgICAgaWYgKHRoaXMuX29wZW5pbmcpIHtcbiAgICAgICAgdGhpcy5vbmNlKCdvcGVuJywgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX3N0cmVhbS5vbmNlKCdmaW5pc2gnLCAoKSA9PiB0aGlzLmVtaXQoJ2ZpbmlzaCcpKTtcbiAgICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4gdGhpcy5fc3RyZWFtLmVuZCgpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zdHJlYW0ub25jZSgnZmluaXNoJywgKCkgPT4gdGhpcy5lbWl0KCdmaW5pc2gnKSk7XG4gICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB0aGlzLl9zdHJlYW0uZW5kKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb3JlIGxvZ2dpbmcgbWV0aG9kIGV4cG9zZWQgdG8gV2luc3Rvbi4gTWV0YWRhdGEgaXMgb3B0aW9uYWwuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIGxvZyhpbmZvLCBjYWxsYmFjayA9ICgpID0+IHsgfSkge1xuICAgIC8vIFJlbWFyazogKGpjcnVnenopIFdoYXQgaXMgbmVjZXNzYXJ5IGFib3V0IHRoaXMgY2FsbGJhY2sobnVsbCwgdHJ1ZSkgbm93XG4gICAgLy8gd2hlbiB0aGlua2luZyBhYm91dCAzLng/IFNob3VsZCBzaWxlbnQgYmUgaGFuZGxlZCBpbiB0aGUgYmFzZVxuICAgIC8vIFRyYW5zcG9ydFN0cmVhbSBfd3JpdGUgbWV0aG9kP1xuICAgIGlmICh0aGlzLnNpbGVudCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG4gICAgLy8gT3V0cHV0IHN0cmVhbSBidWZmZXIgaXMgZnVsbCBhbmQgaGFzIGFza2VkIHVzIHRvIHdhaXQgZm9yIHRoZSBkcmFpbiBldmVudFxuICAgIGlmICh0aGlzLl9kcmFpbikge1xuICAgICAgdGhpcy5fc3RyZWFtLm9uY2UoJ2RyYWluJywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9kcmFpbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvZyhpbmZvLCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3JvdGF0ZSkge1xuICAgICAgdGhpcy5fc3RyZWFtLm9uY2UoJ3JvdGF0ZScsICgpID0+IHtcbiAgICAgICAgdGhpcy5fcm90YXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9nKGluZm8sIGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5sYXp5KSB7XG4gICAgICBpZiAoIXRoaXMuX2ZpbGVFeGlzdCkge1xuICAgICAgICBpZiAoIXRoaXMuX29wZW5pbmcpIHtcbiAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uY2UoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5fZmlsZUV4aXN0ID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmxvZyhpbmZvLCBjYWxsYmFjayk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX25lZWRzTmV3RmlsZSh0aGlzLl9wZW5kaW5nU2l6ZSkpIHtcbiAgICAgICAgdGhpcy5fZGVzdC5vbmNlKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuX29wZW5pbmcpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLm9uY2UoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZyhpbmZvLCBjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEdyYWIgdGhlIHJhdyBzdHJpbmcgYW5kIGFwcGVuZCB0aGUgZXhwZWN0ZWQgRU9MLlxuICAgIGNvbnN0IG91dHB1dCA9IGAke2luZm9bTUVTU0FHRV19JHt0aGlzLmVvbH1gO1xuICAgIGNvbnN0IGJ5dGVzID0gQnVmZmVyLmJ5dGVMZW5ndGgob3V0cHV0KTtcblxuICAgIC8vIEFmdGVyIHdlIGhhdmUgd3JpdHRlbiB0byB0aGUgUGFzc1Rocm91Z2ggY2hlY2sgdG8gc2VlIGlmIHdlIG5lZWRcbiAgICAvLyB0byByb3RhdGUgdG8gdGhlIG5leHQgZmlsZS5cbiAgICAvL1xuICAgIC8vIFJlbWFyazogVGhpcyBnZXRzIGNhbGxlZCB0b28gZWFybHkgYW5kIGRvZXMgbm90IGRlcGljdCB3aGVuIGRhdGFcbiAgICAvLyBoYXMgYmVlbiBhY3R1YWxseSBmbHVzaGVkIHRvIGRpc2suXG4gICAgZnVuY3Rpb24gbG9nZ2VkKCkge1xuICAgICAgdGhpcy5fc2l6ZSArPSBieXRlcztcbiAgICAgIHRoaXMuX3BlbmRpbmdTaXplIC09IGJ5dGVzO1xuXG4gICAgICBkZWJ1ZygnbG9nZ2VkICVzICVzJywgdGhpcy5fc2l6ZSwgb3V0cHV0KTtcbiAgICAgIHRoaXMuZW1pdCgnbG9nZ2VkJywgaW5mbyk7XG5cbiAgICAgIC8vIERvIG5vdCBhdHRlbXB0IHRvIHJvdGF0ZSBmaWxlcyB3aGlsZSByb3RhdGluZ1xuICAgICAgaWYgKHRoaXMuX3JvdGF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIERvIG5vdCBhdHRlbXB0IHRvIHJvdGF0ZSBmaWxlcyB3aGlsZSBvcGVuaW5nXG4gICAgICBpZiAodGhpcy5fb3BlbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBuZWVkIHRvIGVuZCB0aGUgc3RyZWFtIGFuZCBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAgaWYgKCF0aGlzLl9uZWVkc05ld0ZpbGUoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5sYXp5KSB7XG4gICAgICAgIHRoaXMuX2VuZFN0cmVhbSgoKSA9PiB7dGhpcy5lbWl0KCdmaWxlY2xvc2VkJyk7fSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRW5kIHRoZSBjdXJyZW50IHN0cmVhbSwgZW5zdXJlIGl0IGZsdXNoZXMgYW5kIGNyZWF0ZSBhIG5ldyBvbmUuXG4gICAgICAvLyBUaGlzIGNvdWxkIHBvdGVudGlhbGx5IGJlIG9wdGltaXplZCB0byBub3QgcnVuIGEgc3RhdCBjYWxsIGJ1dCBpdHNcbiAgICAgIC8vIHRoZSBzYWZlc3Qgd2F5IHNpbmNlIHdlIGFyZSBzdXBwb3J0aW5nIGBtYXhGaWxlc2AuXG4gICAgICB0aGlzLl9yb3RhdGUgPSB0cnVlO1xuICAgICAgdGhpcy5fZW5kU3RyZWFtKCgpID0+IHRoaXMuX3JvdGF0ZUZpbGUoKSk7XG4gICAgfVxuXG4gICAgLy8gS2VlcCB0cmFjayBvZiB0aGUgcGVuZGluZyBieXRlcyBiZWluZyB3cml0dGVuIHdoaWxlIGZpbGVzIGFyZSBvcGVuaW5nXG4gICAgLy8gaW4gb3JkZXIgdG8gcHJvcGVybHkgcm90YXRlIHRoZSBQYXNzVGhyb3VnaCB0aGlzLl9zdHJlYW0gd2hlbiB0aGUgZmlsZVxuICAgIC8vIGV2ZW50dWFsbHkgZG9lcyBvcGVuLlxuICAgIHRoaXMuX3BlbmRpbmdTaXplICs9IGJ5dGVzO1xuICAgIGlmICh0aGlzLl9vcGVuaW5nXG4gICAgICAmJiAhdGhpcy5yb3RhdGVkV2hpbGVPcGVuaW5nXG4gICAgICAmJiB0aGlzLl9uZWVkc05ld0ZpbGUodGhpcy5fc2l6ZSArIHRoaXMuX3BlbmRpbmdTaXplKSkge1xuICAgICAgdGhpcy5yb3RhdGVkV2hpbGVPcGVuaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCB3cml0dGVuID0gdGhpcy5fc3RyZWFtLndyaXRlKG91dHB1dCwgbG9nZ2VkLmJpbmQodGhpcykpO1xuICAgIGlmICghd3JpdHRlbikge1xuICAgICAgdGhpcy5fZHJhaW4gPSB0cnVlO1xuICAgICAgdGhpcy5fc3RyZWFtLm9uY2UoJ2RyYWluJywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9kcmFpbiA9IGZhbHNlO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FsbGJhY2stcmV0dXJuXG4gICAgfVxuXG4gICAgZGVidWcoJ3dyaXR0ZW4nLCB3cml0dGVuLCB0aGlzLl9kcmFpbik7XG5cbiAgICB0aGlzLmZpbmlzaElmRW5kaW5nKCk7XG5cbiAgICByZXR1cm4gd3JpdHRlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWVyeSB0aGUgdHJhbnNwb3J0LiBPcHRpb25zIG9iamVjdCBpcyBvcHRpb25hbC5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBMb2dnbHktbGlrZSBxdWVyeSBvcHRpb25zIGZvciB0aGlzIGluc3RhbmNlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENvbnRpbnVhdGlvbiB0byByZXNwb25kIHRvIHdoZW4gY29tcGxldGUuXG4gICAqIFRPRE86IFJlZmFjdG9yIG1lLlxuICAgKi9cbiAgcXVlcnkob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBvcHRpb25zID0gbm9ybWFsaXplUXVlcnkob3B0aW9ucyk7XG4gICAgY29uc3QgZmlsZSA9IHBhdGguam9pbih0aGlzLmRpcm5hbWUsIHRoaXMuZmlsZW5hbWUpO1xuICAgIGxldCBidWZmID0gJyc7XG4gICAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgICBsZXQgcm93ID0gMDtcblxuICAgIGNvbnN0IHN0cmVhbSA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0oZmlsZSwge1xuICAgICAgZW5jb2Rpbmc6ICd1dGY4J1xuICAgIH0pO1xuXG4gICAgc3RyZWFtLm9uKCdlcnJvcicsIGVyciA9PiB7XG4gICAgICBpZiAoc3RyZWFtLnJlYWRhYmxlKSB7XG4gICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVyci5jb2RlICE9PSAnRU5PRU5UJyA/IGNhbGxiYWNrKGVycikgOiBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgICB9KTtcblxuICAgIHN0cmVhbS5vbignZGF0YScsIGRhdGEgPT4ge1xuICAgICAgZGF0YSA9IChidWZmICsgZGF0YSkuc3BsaXQoL1xcbisvKTtcbiAgICAgIGNvbnN0IGwgPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBsZXQgaSA9IDA7XG5cbiAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmICghb3B0aW9ucy5zdGFydCB8fCByb3cgPj0gb3B0aW9ucy5zdGFydCkge1xuICAgICAgICAgIGFkZChkYXRhW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByb3crKztcbiAgICAgIH1cblxuICAgICAgYnVmZiA9IGRhdGFbbF07XG4gICAgfSk7XG5cbiAgICBzdHJlYW0ub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgaWYgKGJ1ZmYpIHtcbiAgICAgICAgYWRkKGJ1ZmYsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMub3JkZXIgPT09ICdkZXNjJykge1xuICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5yZXZlcnNlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYWxsYmFjay1yZXR1cm5cbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBhZGQoYnVmZiwgYXR0ZW1wdCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9nID0gSlNPTi5wYXJzZShidWZmKTtcbiAgICAgICAgaWYgKGNoZWNrKGxvZykpIHtcbiAgICAgICAgICBwdXNoKGxvZyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKCFhdHRlbXB0KSB7XG4gICAgICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwdXNoKGxvZykge1xuICAgICAgaWYgKFxuICAgICAgICBvcHRpb25zLnJvd3MgJiZcbiAgICAgICAgcmVzdWx0cy5sZW5ndGggPj0gb3B0aW9ucy5yb3dzICYmXG4gICAgICAgIG9wdGlvbnMub3JkZXIgIT09ICdkZXNjJ1xuICAgICAgKSB7XG4gICAgICAgIGlmIChzdHJlYW0ucmVhZGFibGUpIHtcbiAgICAgICAgICBzdHJlYW0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuZmllbGRzKSB7XG4gICAgICAgIGxvZyA9IG9wdGlvbnMuZmllbGRzLnJlZHVjZSgob2JqLCBrZXkpID0+IHtcbiAgICAgICAgICBvYmpba2V5XSA9IGxvZ1trZXldO1xuICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMub3JkZXIgPT09ICdkZXNjJykge1xuICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPj0gb3B0aW9ucy5yb3dzKSB7XG4gICAgICAgICAgcmVzdWx0cy5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXN1bHRzLnB1c2gobG9nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVjayhsb2cpIHtcbiAgICAgIGlmICghbG9nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBsb2cgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKGxvZy50aW1lc3RhbXApO1xuICAgICAgaWYgKFxuICAgICAgICAob3B0aW9ucy5mcm9tICYmIHRpbWUgPCBvcHRpb25zLmZyb20pIHx8XG4gICAgICAgIChvcHRpb25zLnVudGlsICYmIHRpbWUgPiBvcHRpb25zLnVudGlsKSB8fFxuICAgICAgICAob3B0aW9ucy5sZXZlbCAmJiBvcHRpb25zLmxldmVsICE9PSBsb2cubGV2ZWwpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemVRdWVyeShvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgLy8gbGltaXRcbiAgICAgIG9wdGlvbnMucm93cyA9IG9wdGlvbnMucm93cyB8fCBvcHRpb25zLmxpbWl0IHx8IDEwO1xuXG4gICAgICAvLyBzdGFydGluZyByb3cgb2Zmc2V0XG4gICAgICBvcHRpb25zLnN0YXJ0ID0gb3B0aW9ucy5zdGFydCB8fCAwO1xuXG4gICAgICAvLyBub3dcbiAgICAgIG9wdGlvbnMudW50aWwgPSBvcHRpb25zLnVudGlsIHx8IG5ldyBEYXRlKCk7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMudW50aWwgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIG9wdGlvbnMudW50aWwgPSBuZXcgRGF0ZShvcHRpb25zLnVudGlsKTtcbiAgICAgIH1cblxuICAgICAgLy8gbm93IC0gMjRcbiAgICAgIG9wdGlvbnMuZnJvbSA9IG9wdGlvbnMuZnJvbSB8fCAob3B0aW9ucy51bnRpbCAtICgyNCAqIDYwICogNjAgKiAxMDAwKSk7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZnJvbSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgb3B0aW9ucy5mcm9tID0gbmV3IERhdGUob3B0aW9ucy5mcm9tKTtcbiAgICAgIH1cblxuICAgICAgLy8gJ2FzYycgb3IgJ2Rlc2MnXG4gICAgICBvcHRpb25zLm9yZGVyID0gb3B0aW9ucy5vcmRlciB8fCAnZGVzYyc7XG5cbiAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbG9nIHN0cmVhbSBmb3IgdGhpcyB0cmFuc3BvcnQuIE9wdGlvbnMgb2JqZWN0IGlzIG9wdGlvbmFsLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFN0cmVhbSBvcHRpb25zIGZvciB0aGlzIGluc3RhbmNlLlxuICAgKiBAcmV0dXJucyB7U3RyZWFtfSAtIFRPRE86IGFkZCByZXR1cm4gZGVzY3JpcHRpb24uXG4gICAqIFRPRE86IFJlZmFjdG9yIG1lLlxuICAgKi9cbiAgc3RyZWFtKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGZpbGUgPSBwYXRoLmpvaW4odGhpcy5kaXJuYW1lLCB0aGlzLmZpbGVuYW1lKTtcbiAgICBjb25zdCBzdHJlYW0gPSBuZXcgU3RyZWFtKCk7XG4gICAgY29uc3QgdGFpbCA9IHtcbiAgICAgIGZpbGUsXG4gICAgICBzdGFydDogb3B0aW9ucy5zdGFydFxuICAgIH07XG5cbiAgICBzdHJlYW0uZGVzdHJveSA9IHRhaWxGaWxlKHRhaWwsIChlcnIsIGxpbmUpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHN0cmVhbS5lbWl0KCdkYXRhJywgbGluZSk7XG4gICAgICAgIGxpbmUgPSBKU09OLnBhcnNlKGxpbmUpO1xuICAgICAgICBzdHJlYW0uZW1pdCgnbG9nJywgbGluZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHN0cmVhbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIHRoZSBmaWxlc2l6ZSBvZi5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIG9wZW4oKSB7XG4gICAgLy8gSWYgd2UgZG8gbm90IGhhdmUgYSBmaWxlbmFtZSB0aGVuIHdlIHdlcmUgcGFzc2VkIGEgc3RyZWFtIGFuZFxuICAgIC8vIGRvbid0IG5lZWQgdG8ga2VlcCB0cmFjayBvZiBzaXplLlxuICAgIGlmICghdGhpcy5maWxlbmFtZSkgcmV0dXJuO1xuICAgIGlmICh0aGlzLl9vcGVuaW5nKSByZXR1cm47XG5cbiAgICB0aGlzLl9vcGVuaW5nID0gdHJ1ZTtcblxuICAgIC8vIFN0YXQgdGhlIHRhcmdldCBmaWxlIHRvIGdldCB0aGUgc2l6ZSBhbmQgY3JlYXRlIHRoZSBzdHJlYW0uXG4gICAgdGhpcy5zdGF0KChlcnIsIHNpemUpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgICAgZGVidWcoJ3N0YXQgZG9uZTogJXMgeyBzaXplOiAlcyB9JywgdGhpcy5maWxlbmFtZSwgc2l6ZSk7XG4gICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgIHRoaXMuX2Rlc3QgPSB0aGlzLl9jcmVhdGVTdHJlYW0odGhpcy5fc3RyZWFtKTtcbiAgICAgIHRoaXMuX29wZW5pbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMub25jZSgnb3BlbicsICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9zdHJlYW0uZW1pdCgncm90YXRlJykpIHtcbiAgICAgICAgICB0aGlzLl9yb3RhdGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhdCB0aGUgZmlsZSBhbmQgYXNzZXNzIGluZm9ybWF0aW9uIGluIG9yZGVyIHRvIGNyZWF0ZSB0aGUgcHJvcGVyIHN0cmVhbS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBzdGF0KGNhbGxiYWNrKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fZ2V0RmlsZSgpO1xuICAgIGNvbnN0IGZ1bGxwYXRoID0gcGF0aC5qb2luKHRoaXMuZGlybmFtZSwgdGFyZ2V0KTtcblxuICAgIGZzLnN0YXQoZnVsbHBhdGgsIChlcnIsIHN0YXQpID0+IHtcbiAgICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgPT09ICdFTk9FTlQnKSB7XG4gICAgICAgIGRlYnVnKCdFTk9FTlTCoG9rJywgZnVsbHBhdGgpO1xuICAgICAgICAvLyBVcGRhdGUgaW50ZXJuYWxseSB0cmFja2VkIGZpbGVuYW1lIHdpdGggdGhlIG5ldyB0YXJnZXQgbmFtZS5cbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IHRhcmdldDtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIDApO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGRlYnVnKGBlcnIgJHtlcnIuY29kZX0gJHtmdWxscGF0aH1gKTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG5cbiAgICAgIGlmICghc3RhdCB8fCB0aGlzLl9uZWVkc05ld0ZpbGUoc3RhdC5zaXplKSkge1xuICAgICAgICAvLyBJZiBgc3RhdHMuc2l6ZWAgaXMgZ3JlYXRlciB0aGFuIHRoZSBgbWF4c2l6ZWAgZm9yIHRoaXNcbiAgICAgICAgLy8gaW5zdGFuY2UgdGhlbiB0cnkgYWdhaW4uXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmNGaWxlKCgpID0+IHRoaXMuc3RhdChjYWxsYmFjaykpO1xuICAgICAgfVxuXG4gICAgICAvLyBPbmNlIHdlIGhhdmUgZmlndXJlZCBvdXQgd2hhdCB0aGUgZmlsZW5hbWUgaXMsIHNldCBpdFxuICAgICAgLy8gYW5kIHJldHVybiB0aGUgc2l6ZS5cbiAgICAgIHRoaXMuZmlsZW5hbWUgPSB0YXJnZXQ7XG4gICAgICBjYWxsYmFjayhudWxsLCBzdGF0LnNpemUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgc3RyZWFtIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGluc3RhbmNlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIGNsb3NlKGNiKSB7XG4gICAgaWYgKCF0aGlzLl9zdHJlYW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zdHJlYW0uZW5kKCgpID0+IHtcbiAgICAgIGlmIChjYikge1xuICAgICAgICBjYigpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgICAgfVxuICAgICAgdGhpcy5lbWl0KCdmbHVzaCcpO1xuICAgICAgdGhpcy5lbWl0KCdjbG9zZWQnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBhZGQgbWV0aG9kIGRlc2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIF9uZWVkc05ld0ZpbGUoc2l6ZSkge1xuICAgIHNpemUgPSBzaXplIHx8IHRoaXMuX3NpemU7XG4gICAgcmV0dXJuIHRoaXMubWF4c2l6ZSAmJiBzaXplID49IHRoaXMubWF4c2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBhZGQgbWV0aG9kIGRlc2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge0Vycm9yfSBlcnIgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBfb25FcnJvcihlcnIpIHtcbiAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBhZGQgbWV0aG9kIGRlc2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge1N0cmVhbX0gc3RyZWFtIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcmV0dXJucyB7bWl4ZWR9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICovXG4gIF9zZXR1cFN0cmVhbShzdHJlYW0pIHtcbiAgICBzdHJlYW0ub24oJ2Vycm9yJywgdGhpcy5fb25FcnJvcik7XG5cbiAgICByZXR1cm4gc3RyZWFtO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGFkZCBtZXRob2QgZGVzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7U3RyZWFtfSBzdHJlYW0gLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHttaXhlZH0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgX2NsZWFudXBTdHJlYW0oc3RyZWFtKSB7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IpO1xuICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgcmV0dXJuIHN0cmVhbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBhZGQgbWV0aG9kIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgX3JvdGF0ZUZpbGUoKSB7XG4gICAgdGhpcy5faW5jRmlsZSgoKSA9PiB0aGlzLm9wZW4oKSk7XG4gIH1cblxuICAvKipcbiAgICogVW5waXBlIGZyb20gdGhlIHN0cmVhbSB0aGF0IGhhcyBiZWVuIG1hcmtlZCBhcyBmdWxsIGFuZCBlbmQgaXQgc28gaXRcbiAgICogZmx1c2hlcyB0byBkaXNrLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIGZvciB3aGVuIHRoZSBjdXJyZW50IGZpbGUgaGFzIGNsb3NlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9lbmRTdHJlYW0oY2FsbGJhY2sgPSAoKSA9PiB7IH0pIHtcbiAgICBpZiAodGhpcy5fZGVzdCkge1xuICAgICAgdGhpcy5fc3RyZWFtLnVucGlwZSh0aGlzLl9kZXN0KTtcbiAgICAgIHRoaXMuX2Rlc3QuZW5kKCgpID0+IHtcbiAgICAgICAgdGhpcy5fY2xlYW51cFN0cmVhbSh0aGlzLl9kZXN0KTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjaygpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBXcml0YWJsZVN0cmVhbSBmb3IgdGhlIGFjdGl2ZSBmaWxlIG9uIHRoaXMgaW5zdGFuY2UuIElmIHdlXG4gICAqIHNob3VsZCBnemlwIHRoZSBmaWxlIHRoZW4gYSB6bGliIHN0cmVhbSBpcyByZXR1cm5lZC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFkYWJsZVN0cmVhbX0gc291cmNlIOKAk1Bhc3NUaHJvdWdoIHRvIHBpcGUgdG8gdGhlIGZpbGUgd2hlbiBvcGVuLlxuICAgKiBAcmV0dXJucyB7V3JpdGFibGVTdHJlYW19IFN0cmVhbSB0aGF0IHdyaXRlcyB0byBkaXNrIGZvciB0aGUgYWN0aXZlIGZpbGUuXG4gICAqL1xuICBfY3JlYXRlU3RyZWFtKHNvdXJjZSkge1xuICAgIGNvbnN0IGZ1bGxwYXRoID0gcGF0aC5qb2luKHRoaXMuZGlybmFtZSwgdGhpcy5maWxlbmFtZSk7XG5cbiAgICBkZWJ1ZygnY3JlYXRlIHN0cmVhbSBzdGFydCcsIGZ1bGxwYXRoLCB0aGlzLm9wdGlvbnMpO1xuICAgIGNvbnN0IGRlc3QgPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShmdWxscGF0aCwgdGhpcy5vcHRpb25zKVxuICAgICAgLy8gVE9ETzogV2hhdCBzaG91bGQgd2UgZG8gd2l0aCBlcnJvcnMgaGVyZT9cbiAgICAgIC5vbignZXJyb3InLCBlcnIgPT4gZGVidWcoZXJyKSlcbiAgICAgIC5vbignY2xvc2UnLCAoKSA9PiBkZWJ1ZygnY2xvc2UnLCBkZXN0LnBhdGgsIGRlc3QuYnl0ZXNXcml0dGVuKSlcbiAgICAgIC5vbignb3BlbicsICgpID0+IHtcbiAgICAgICAgZGVidWcoJ2ZpbGUgb3BlbiBvaycsIGZ1bGxwYXRoKTtcbiAgICAgICAgdGhpcy5lbWl0KCdvcGVuJywgZnVsbHBhdGgpO1xuICAgICAgICBzb3VyY2UucGlwZShkZXN0KTtcblxuICAgICAgICAvLyBJZiByb3RhdGlvbiBvY2N1cmVkIGR1cmluZyB0aGUgb3BlbiBvcGVyYXRpb24gdGhlbiB3ZSBpbW1lZGlhdGVseVxuICAgICAgICAvLyBzdGFydCB3cml0aW5nIHRvIGEgbmV3IFBhc3NUaHJvdWdoLCBiZWdpbiBvcGVuaW5nIHRoZSBuZXh0IGZpbGVcbiAgICAgICAgLy8gYW5kIGNsZWFudXAgdGhlIHByZXZpb3VzIHNvdXJjZSBhbmQgZGVzdCBvbmNlIHRoZSBzb3VyY2UgaGFzIGRyYWluZWQuXG4gICAgICAgIGlmICh0aGlzLnJvdGF0ZWRXaGlsZU9wZW5pbmcpIHtcbiAgICAgICAgICB0aGlzLl9zdHJlYW0gPSBuZXcgUGFzc1Rocm91Z2goKTtcbiAgICAgICAgICB0aGlzLl9zdHJlYW0uc2V0TWF4TGlzdGVuZXJzKDMwKTtcbiAgICAgICAgICB0aGlzLl9yb3RhdGVGaWxlKCk7XG4gICAgICAgICAgdGhpcy5yb3RhdGVkV2hpbGVPcGVuaW5nID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5fY2xlYW51cFN0cmVhbShkZXN0KTtcbiAgICAgICAgICBzb3VyY2UuZW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgZGVidWcoJ2NyZWF0ZSBzdHJlYW0gb2snLCBmdWxscGF0aCk7XG4gICAgcmV0dXJuIGRlc3Q7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogYWRkIG1ldGhvZCBkZXNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBfaW5jRmlsZShjYWxsYmFjaykge1xuICAgIGRlYnVnKCdfaW5jRmlsZScsIHRoaXMuZmlsZW5hbWUpO1xuICAgIGNvbnN0IGV4dCA9IHBhdGguZXh0bmFtZSh0aGlzLl9iYXNlbmFtZSk7XG4gICAgY29uc3QgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lKHRoaXMuX2Jhc2VuYW1lLCBleHQpO1xuICAgIGNvbnN0IHRhc2tzID0gW107XG5cbiAgICBpZiAodGhpcy56aXBwZWRBcmNoaXZlKSB7XG4gICAgICB0YXNrcy5wdXNoKFxuICAgICAgICBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICBjb25zdCBudW0gPSB0aGlzLl9jcmVhdGVkID4gMCAmJiAhdGhpcy50YWlsYWJsZSA/IHRoaXMuX2NyZWF0ZWQgOiAnJztcbiAgICAgICAgICB0aGlzLl9jb21wcmVzc0ZpbGUoXG4gICAgICAgICAgICBwYXRoLmpvaW4odGhpcy5kaXJuYW1lLCBgJHtiYXNlbmFtZX0ke251bX0ke2V4dH1gKSxcbiAgICAgICAgICAgIHBhdGguam9pbih0aGlzLmRpcm5hbWUsIGAke2Jhc2VuYW1lfSR7bnVtfSR7ZXh0fS5nemApLFxuICAgICAgICAgICAgY2JcbiAgICAgICAgICApO1xuICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGFza3MucHVzaChcbiAgICAgIGZ1bmN0aW9uIChjYikge1xuICAgICAgICBpZiAoIXRoaXMudGFpbGFibGUpIHtcbiAgICAgICAgICB0aGlzLl9jcmVhdGVkICs9IDE7XG4gICAgICAgICAgdGhpcy5fY2hlY2tNYXhGaWxlc0luY3JlbWVudGluZyhleHQsIGJhc2VuYW1lLCBjYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fY2hlY2tNYXhGaWxlc1RhaWxhYmxlKGV4dCwgYmFzZW5hbWUsIGNiKTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpXG4gICAgKTtcblxuICAgIGFzeW5jU2VyaWVzKHRhc2tzLCBjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbmV4dCBmaWxlbmFtZSB0byB1c2UgZm9yIHRoaXMgaW5zdGFuY2UgaW4gdGhlIGNhc2UgdGhhdCBsb2dcbiAgICogZmlsZXNpemVzIGFyZSBiZWluZyBjYXBwZWQuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVE9ETzogYWRkIHJldHVybiBkZXNjcmlwdGlvbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRGaWxlKCkge1xuICAgIGNvbnN0IGV4dCA9IHBhdGguZXh0bmFtZSh0aGlzLl9iYXNlbmFtZSk7XG4gICAgY29uc3QgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lKHRoaXMuX2Jhc2VuYW1lLCBleHQpO1xuICAgIGNvbnN0IGlzUm90YXRpb24gPSB0aGlzLnJvdGF0aW9uRm9ybWF0XG4gICAgICA/IHRoaXMucm90YXRpb25Gb3JtYXQoKVxuICAgICAgOiB0aGlzLl9jcmVhdGVkO1xuXG4gICAgLy8gQ2F2ZWF0IGVtcHRvciAoaW5kZXh6ZXJvKTogcm90YXRpb25Gb3JtYXQoKSB3YXMgYnJva2VuIGJ5IGRlc2lnbiBXaGVuXG4gICAgLy8gY29tYmluZWQgd2l0aCBtYXggZmlsZXMgYmVjYXVzZSB0aGUgc2V0IG9mIGZpbGVzIHRvIHVubGluayBpcyBuZXZlclxuICAgIC8vIHN0b3JlZC5cbiAgICByZXR1cm4gIXRoaXMudGFpbGFibGUgJiYgdGhpcy5fY3JlYXRlZFxuICAgICAgPyBgJHtiYXNlbmFtZX0ke2lzUm90YXRpb259JHtleHR9YFxuICAgICAgOiBgJHtiYXNlbmFtZX0ke2V4dH1gO1xuICB9XG5cbiAgLyoqXG4gICAqIEluY3JlbWVudCB0aGUgbnVtYmVyIG9mIGZpbGVzIGNyZWF0ZWQgb3IgY2hlY2tlZCBieSB0aGlzIGluc3RhbmNlLlxuICAgKiBAcGFyYW0ge21peGVkfSBleHQgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7bWl4ZWR9IGJhc2VuYW1lIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge21peGVkfSBjYWxsYmFjayAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jaGVja01heEZpbGVzSW5jcmVtZW50aW5nKGV4dCwgYmFzZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgLy8gQ2hlY2sgZm9yIG1heEZpbGVzIG9wdGlvbiBhbmQgZGVsZXRlIGZpbGUuXG4gICAgaWYgKCF0aGlzLm1heEZpbGVzIHx8IHRoaXMuX2NyZWF0ZWQgPCB0aGlzLm1heEZpbGVzKSB7XG4gICAgICByZXR1cm4gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBjb25zdCBvbGRlc3QgPSB0aGlzLl9jcmVhdGVkIC0gdGhpcy5tYXhGaWxlcztcbiAgICBjb25zdCBpc09sZGVzdCA9IG9sZGVzdCAhPT0gMCA/IG9sZGVzdCA6ICcnO1xuICAgIGNvbnN0IGlzWmlwcGVkID0gdGhpcy56aXBwZWRBcmNoaXZlID8gJy5neicgOiAnJztcbiAgICBjb25zdCBmaWxlUGF0aCA9IGAke2Jhc2VuYW1lfSR7aXNPbGRlc3R9JHtleHR9JHtpc1ppcHBlZH1gO1xuICAgIGNvbnN0IHRhcmdldCA9IHBhdGguam9pbih0aGlzLmRpcm5hbWUsIGZpbGVQYXRoKTtcblxuICAgIGZzLnVubGluayh0YXJnZXQsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSb2xsIGZpbGVzIGZvcndhcmQgYmFzZWQgb24gaW50ZWdlciwgdXAgdG8gbWF4RmlsZXMuIGUuZy4gaWYgYmFzZSBpZlxuICAgKiBmaWxlLmxvZyBhbmQgaXQgYmVjb21lcyBvdmVyc2l6ZWQsIHJvbGwgdG8gZmlsZTEubG9nLCBhbmQgYWxsb3cgZmlsZS5sb2dcbiAgICogdG8gYmUgcmUtdXNlZC4gSWYgZmlsZSBpcyBvdmVyc2l6ZWQgYWdhaW4sIHJvbGwgZmlsZTEubG9nIHRvIGZpbGUyLmxvZyxcbiAgICogcm9sbCBmaWxlLmxvZyB0byBmaWxlMS5sb2csIGFuZCBzbyBvbi5cbiAgICogQHBhcmFtIHttaXhlZH0gZXh0IC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge21peGVkfSBiYXNlbmFtZSAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHttaXhlZH0gY2FsbGJhY2sgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2hlY2tNYXhGaWxlc1RhaWxhYmxlKGV4dCwgYmFzZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgdGFza3MgPSBbXTtcbiAgICBpZiAoIXRoaXMubWF4RmlsZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBjb25zdCBpc1ppcHBlZCA9IHRoaXMuemlwcGVkQXJjaGl2ZSA/ICcuZ3onIDogJyc7XG4gICAgY29uc3QgaXNaaXBwZWQgPSB0aGlzLnppcHBlZEFyY2hpdmUgPyAnLmd6JyA6ICcnO1xuICAgIGZvciAobGV0IHggPSB0aGlzLm1heEZpbGVzIC0gMTsgeCA+IDE7IHgtLSkge1xuICAgICAgdGFza3MucHVzaChmdW5jdGlvbiAoaSwgY2IpIHtcbiAgICAgICAgbGV0IGZpbGVOYW1lID0gYCR7YmFzZW5hbWV9JHsoaSAtIDEpfSR7ZXh0fSR7aXNaaXBwZWR9YDtcbiAgICAgICAgY29uc3QgdG1wcGF0aCA9IHBhdGguam9pbih0aGlzLmRpcm5hbWUsIGZpbGVOYW1lKTtcblxuICAgICAgICBmcy5leGlzdHModG1wcGF0aCwgZXhpc3RzID0+IHtcbiAgICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZpbGVOYW1lID0gYCR7YmFzZW5hbWV9JHtpfSR7ZXh0fSR7aXNaaXBwZWR9YDtcbiAgICAgICAgICBmcy5yZW5hbWUodG1wcGF0aCwgcGF0aC5qb2luKHRoaXMuZGlybmFtZSwgZmlsZU5hbWUpLCBjYik7XG4gICAgICAgIH0pO1xuICAgICAgfS5iaW5kKHRoaXMsIHgpKTtcbiAgICB9XG5cbiAgICBhc3luY1Nlcmllcyh0YXNrcywgKCkgPT4ge1xuICAgICAgZnMucmVuYW1lKFxuICAgICAgICBwYXRoLmpvaW4odGhpcy5kaXJuYW1lLCBgJHtiYXNlbmFtZX0ke2V4dH0ke2lzWmlwcGVkfWApLFxuICAgICAgICBwYXRoLmpvaW4odGhpcy5kaXJuYW1lLCBgJHtiYXNlbmFtZX0xJHtleHR9JHtpc1ppcHBlZH1gKSxcbiAgICAgICAgY2FsbGJhY2tcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29tcHJlc3NlcyBzcmMgdG8gZGVzdCB3aXRoIGd6aXAgYW5kIHVubGlua3Mgc3JjXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgLSBwYXRoIHRvIHNvdXJjZSBmaWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGVzdCAtIHBhdGggdG8gemlwcGVkIGRlc3RpbmF0aW9uIGZpbGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gY2FsbGJhY2sgY2FsbGVkIGFmdGVyIGZpbGUgaGFzIGJlZW4gY29tcHJlc3NlZC5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jb21wcmVzc0ZpbGUoc3JjLCBkZXN0LCBjYWxsYmFjaykge1xuICAgIGZzLmFjY2VzcyhzcmMsIGZzLkZfT0ssIChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgICB2YXIgZ3ppcCA9IHpsaWIuY3JlYXRlR3ppcCgpO1xuICAgICAgdmFyIGlucCA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0oc3JjKTtcbiAgICAgIHZhciBvdXQgPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShkZXN0KTtcbiAgICAgIG91dC5vbignZmluaXNoJywgKCkgPT4ge1xuICAgICAgICBmcy51bmxpbmsoc3JjLCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICAgIGlucC5waXBlKGd6aXApLnBpcGUob3V0KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVMb2dEaXJJZk5vdEV4aXN0KGRpclBhdGgpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1zeW5jICovXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKGRpclBhdGgpKSB7XG4gICAgICBmcy5ta2RpclN5bmMoZGlyUGF0aCwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tc3luYyAqL1xuICB9XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/transports/file.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/transports/http.js":
/*!*************************************************************!*\
  !*** ./node_modules/winston/lib/winston/transports/http.js ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * http.js: Transport for outputting to a json-rpcserver.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst http = __webpack_require__(/*! http */ \"http\");\nconst https = __webpack_require__(/*! https */ \"https\");\nconst { Stream } = __webpack_require__(/*! readable-stream */ \"(action-browser)/./node_modules/readable-stream/readable.js\");\nconst TransportStream = __webpack_require__(/*! winston-transport */ \"(action-browser)/./node_modules/winston-transport/index.js\");\nconst { configure } = __webpack_require__(/*! safe-stable-stringify */ \"(action-browser)/./node_modules/safe-stable-stringify/index.js\");\n\n/**\n * Transport for outputting to a json-rpc server.\n * @type {Stream}\n * @extends {TransportStream}\n */\nmodule.exports = class Http extends TransportStream {\n  /**\n   * Constructor function for the Http transport object responsible for\n   * persisting log messages and metadata to a terminal or TTY.\n   * @param {!Object} [options={}] - Options for this instance.\n   */\n  // eslint-disable-next-line max-statements\n  constructor(options = {}) {\n    super(options);\n\n    this.options = options;\n    this.name = options.name || 'http';\n    this.ssl = !!options.ssl;\n    this.host = options.host || 'localhost';\n    this.port = options.port;\n    this.auth = options.auth;\n    this.path = options.path || '';\n    this.maximumDepth = options.maximumDepth;\n    this.agent = options.agent;\n    this.headers = options.headers || {};\n    this.headers['content-type'] = 'application/json';\n    this.batch = options.batch || false;\n    this.batchInterval = options.batchInterval || 5000;\n    this.batchCount = options.batchCount || 10;\n    this.batchOptions = [];\n    this.batchTimeoutID = -1;\n    this.batchCallback = {};\n\n    if (!this.port) {\n      this.port = this.ssl ? 443 : 80;\n    }\n  }\n\n  /**\n   * Core logging method exposed to Winston.\n   * @param {Object} info - TODO: add param description.\n   * @param {function} callback - TODO: add param description.\n   * @returns {undefined}\n   */\n  log(info, callback) {\n    this._request(info, null, null, (err, res) => {\n      if (res && res.statusCode !== 200) {\n        err = new Error(`Invalid HTTP Status Code: ${res.statusCode}`);\n      }\n\n      if (err) {\n        this.emit('warn', err);\n      } else {\n        this.emit('logged', info);\n      }\n    });\n\n    // Remark: (jcrugzz) Fire and forget here so requests dont cause buffering\n    // and block more requests from happening?\n    if (callback) {\n      setImmediate(callback);\n    }\n  }\n\n  /**\n   * Query the transport. Options object is optional.\n   * @param {Object} options -  Loggly-like query options for this instance.\n   * @param {function} callback - Continuation to respond to when complete.\n   * @returns {undefined}\n   */\n  query(options, callback) {\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    options = {\n      method: 'query',\n      params: this.normalizeQuery(options)\n    };\n\n    const auth = options.params.auth || null;\n    delete options.params.auth;\n\n    const path = options.params.path || null;\n    delete options.params.path;\n\n    this._request(options, auth, path, (err, res, body) => {\n      if (res && res.statusCode !== 200) {\n        err = new Error(`Invalid HTTP Status Code: ${res.statusCode}`);\n      }\n\n      if (err) {\n        return callback(err);\n      }\n\n      if (typeof body === 'string') {\n        try {\n          body = JSON.parse(body);\n        } catch (e) {\n          return callback(e);\n        }\n      }\n\n      callback(null, body);\n    });\n  }\n\n  /**\n   * Returns a log stream for this transport. Options object is optional.\n   * @param {Object} options - Stream options for this instance.\n   * @returns {Stream} - TODO: add return description\n   */\n  stream(options = {}) {\n    const stream = new Stream();\n    options = {\n      method: 'stream',\n      params: options\n    };\n\n    const path = options.params.path || null;\n    delete options.params.path;\n\n    const auth = options.params.auth || null;\n    delete options.params.auth;\n\n    let buff = '';\n    const req = this._request(options, auth, path);\n\n    stream.destroy = () => req.destroy();\n    req.on('data', data => {\n      data = (buff + data).split(/\\n+/);\n      const l = data.length - 1;\n\n      let i = 0;\n      for (; i < l; i++) {\n        try {\n          stream.emit('log', JSON.parse(data[i]));\n        } catch (e) {\n          stream.emit('error', e);\n        }\n      }\n\n      buff = data[l];\n    });\n    req.on('error', err => stream.emit('error', err));\n\n    return stream;\n  }\n\n  /**\n   * Make a request to a winstond server or any http server which can\n   * handle json-rpc.\n   * @param {function} options - Options to sent the request.\n   * @param {Object?} auth - authentication options\n   * @param {string} path - request path\n   * @param {function} callback - Continuation to respond to when complete.\n   */\n  _request(options, auth, path, callback) {\n    options = options || {};\n\n    auth = auth || this.auth;\n    path = path || this.path || '';\n\n    if (this.batch) {\n      this._doBatch(options, callback, auth, path);\n    } else {\n      this._doRequest(options, callback, auth, path);\n    }\n  }\n\n  /**\n   * Send or memorize the options according to batch configuration\n   * @param {function} options - Options to sent the request.\n   * @param {function} callback - Continuation to respond to when complete.\n   * @param {Object?} auth - authentication options\n   * @param {string} path - request path\n   */\n  _doBatch(options, callback, auth, path) {\n    this.batchOptions.push(options);\n    if (this.batchOptions.length === 1) {\n      // First message stored, it's time to start the timeout!\n      const me = this;\n      this.batchCallback = callback;\n      this.batchTimeoutID = setTimeout(function () {\n        // timeout is reached, send all messages to endpoint\n        me.batchTimeoutID = -1;\n        me._doBatchRequest(me.batchCallback, auth, path);\n      }, this.batchInterval);\n    }\n    if (this.batchOptions.length === this.batchCount) {\n      // max batch count is reached, send all messages to endpoint\n      this._doBatchRequest(this.batchCallback, auth, path);\n    }\n  }\n\n  /**\n   * Initiate a request with the memorized batch options, stop the batch timeout\n   * @param {function} callback - Continuation to respond to when complete.\n   * @param {Object?} auth - authentication options\n   * @param {string} path - request path\n   */\n  _doBatchRequest(callback, auth, path) {\n    if (this.batchTimeoutID > 0) {\n      clearTimeout(this.batchTimeoutID);\n      this.batchTimeoutID = -1;\n    }\n    const batchOptionsCopy = this.batchOptions.slice();\n    this.batchOptions = [];\n    this._doRequest(batchOptionsCopy, callback, auth, path);\n  }\n\n  /**\n   * Make a request to a winstond server or any http server which can\n   * handle json-rpc.\n   * @param {function} options - Options to sent the request.\n   * @param {function} callback - Continuation to respond to when complete.\n   * @param {Object?} auth - authentication options\n   * @param {string} path - request path\n   */\n  _doRequest(options, callback, auth, path) {\n    // Prepare options for outgoing HTTP request\n    const headers = Object.assign({}, this.headers);\n    if (auth && auth.bearer) {\n      headers.Authorization = `Bearer ${auth.bearer}`;\n    }\n    const req = (this.ssl ? https : http).request({\n      ...this.options,\n      method: 'POST',\n      host: this.host,\n      port: this.port,\n      path: `/${path.replace(/^\\//, '')}`,\n      headers: headers,\n      auth: (auth && auth.username && auth.password) ? (`${auth.username}:${auth.password}`) : '',\n      agent: this.agent\n    });\n\n    req.on('error', callback);\n    req.on('response', res => (\n      res.on('end', () => callback(null, res)).resume()\n    ));\n    const jsonStringify = configure({\n      ...(this.maximumDepth && { maximumDepth: this.maximumDepth })\n    });\n    req.end(Buffer.from(jsonStringify(options, this.options.replacer), 'utf8'));\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL3RyYW5zcG9ydHMvaHR0cC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsYUFBYSxtQkFBTyxDQUFDLGtCQUFNO0FBQzNCLGNBQWMsbUJBQU8sQ0FBQyxvQkFBTztBQUM3QixRQUFRLFNBQVMsRUFBRSxtQkFBTyxDQUFDLG9GQUFpQjtBQUM1Qyx3QkFBd0IsbUJBQU8sQ0FBQyxxRkFBbUI7QUFDbkQsUUFBUSxZQUFZLEVBQUUsbUJBQU8sQ0FBQyw2RkFBdUI7O0FBRXJEO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVMsV0FBVztBQUNqQztBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELGVBQWU7QUFDcEU7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFEQUFxRCxlQUFlO0FBQ3BFOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QixhQUFhLFVBQVU7QUFDdkIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsU0FBUztBQUN0QixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsVUFBVTtBQUN2QixhQUFhLFNBQVM7QUFDdEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLHdDQUF3QyxZQUFZO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3QkFBd0I7QUFDeEM7QUFDQSwyREFBMkQsY0FBYyxHQUFHLGNBQWM7QUFDMUY7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsaUNBQWlDO0FBQ2xFLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxyZXBvXFxOdXRyaVdpc2VBSVxcbm9kZV9tb2R1bGVzXFx3aW5zdG9uXFxsaWJcXHdpbnN0b25cXHRyYW5zcG9ydHNcXGh0dHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBodHRwLmpzOiBUcmFuc3BvcnQgZm9yIG91dHB1dHRpbmcgdG8gYSBqc29uLXJwY3NlcnZlci5cbiAqXG4gKiAoQykgMjAxMCBDaGFybGllIFJvYmJpbnNcbiAqIE1JVCBMSUNFTkNFXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBodHRwID0gcmVxdWlyZSgnaHR0cCcpO1xuY29uc3QgaHR0cHMgPSByZXF1aXJlKCdodHRwcycpO1xuY29uc3QgeyBTdHJlYW0gfSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbScpO1xuY29uc3QgVHJhbnNwb3J0U3RyZWFtID0gcmVxdWlyZSgnd2luc3Rvbi10cmFuc3BvcnQnKTtcbmNvbnN0IHsgY29uZmlndXJlIH0gPSByZXF1aXJlKCdzYWZlLXN0YWJsZS1zdHJpbmdpZnknKTtcblxuLyoqXG4gKiBUcmFuc3BvcnQgZm9yIG91dHB1dHRpbmcgdG8gYSBqc29uLXJwYyBzZXJ2ZXIuXG4gKiBAdHlwZSB7U3RyZWFtfVxuICogQGV4dGVuZHMge1RyYW5zcG9ydFN0cmVhbX1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBIdHRwIGV4dGVuZHMgVHJhbnNwb3J0U3RyZWFtIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgSHR0cCB0cmFuc3BvcnQgb2JqZWN0IHJlc3BvbnNpYmxlIGZvclxuICAgKiBwZXJzaXN0aW5nIGxvZyBtZXNzYWdlcyBhbmQgbWV0YWRhdGEgdG8gYSB0ZXJtaW5hbCBvciBUVFkuXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gW29wdGlvbnM9e31dIC0gT3B0aW9ucyBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtc3RhdGVtZW50c1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lIHx8ICdodHRwJztcbiAgICB0aGlzLnNzbCA9ICEhb3B0aW9ucy5zc2w7XG4gICAgdGhpcy5ob3N0ID0gb3B0aW9ucy5ob3N0IHx8ICdsb2NhbGhvc3QnO1xuICAgIHRoaXMucG9ydCA9IG9wdGlvbnMucG9ydDtcbiAgICB0aGlzLmF1dGggPSBvcHRpb25zLmF1dGg7XG4gICAgdGhpcy5wYXRoID0gb3B0aW9ucy5wYXRoIHx8ICcnO1xuICAgIHRoaXMubWF4aW11bURlcHRoID0gb3B0aW9ucy5tYXhpbXVtRGVwdGg7XG4gICAgdGhpcy5hZ2VudCA9IG9wdGlvbnMuYWdlbnQ7XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xuICAgIHRoaXMuaGVhZGVyc1snY29udGVudC10eXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgdGhpcy5iYXRjaCA9IG9wdGlvbnMuYmF0Y2ggfHwgZmFsc2U7XG4gICAgdGhpcy5iYXRjaEludGVydmFsID0gb3B0aW9ucy5iYXRjaEludGVydmFsIHx8IDUwMDA7XG4gICAgdGhpcy5iYXRjaENvdW50ID0gb3B0aW9ucy5iYXRjaENvdW50IHx8IDEwO1xuICAgIHRoaXMuYmF0Y2hPcHRpb25zID0gW107XG4gICAgdGhpcy5iYXRjaFRpbWVvdXRJRCA9IC0xO1xuICAgIHRoaXMuYmF0Y2hDYWxsYmFjayA9IHt9O1xuXG4gICAgaWYgKCF0aGlzLnBvcnQpIHtcbiAgICAgIHRoaXMucG9ydCA9IHRoaXMuc3NsID8gNDQzIDogODA7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvcmUgbG9nZ2luZyBtZXRob2QgZXhwb3NlZCB0byBXaW5zdG9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBUT0RPOiBhZGQgcGFyYW0gZGVzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBsb2coaW5mbywgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9yZXF1ZXN0KGluZm8sIG51bGwsIG51bGwsIChlcnIsIHJlcykgPT4ge1xuICAgICAgaWYgKHJlcyAmJiByZXMuc3RhdHVzQ29kZSAhPT0gMjAwKSB7XG4gICAgICAgIGVyciA9IG5ldyBFcnJvcihgSW52YWxpZCBIVFRQIFN0YXR1cyBDb2RlOiAke3Jlcy5zdGF0dXNDb2RlfWApO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnd2FybicsIGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVtaXQoJ2xvZ2dlZCcsIGluZm8pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUmVtYXJrOiAoamNydWd6eikgRmlyZSBhbmQgZm9yZ2V0IGhlcmUgc28gcmVxdWVzdHMgZG9udCBjYXVzZSBidWZmZXJpbmdcbiAgICAvLyBhbmQgYmxvY2sgbW9yZSByZXF1ZXN0cyBmcm9tIGhhcHBlbmluZz9cbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHNldEltbWVkaWF0ZShjYWxsYmFjayk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFF1ZXJ5IHRoZSB0cmFuc3BvcnQuIE9wdGlvbnMgb2JqZWN0IGlzIG9wdGlvbmFsLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtICBMb2dnbHktbGlrZSBxdWVyeSBvcHRpb25zIGZvciB0aGlzIGluc3RhbmNlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENvbnRpbnVhdGlvbiB0byByZXNwb25kIHRvIHdoZW4gY29tcGxldGUuXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBxdWVyeShvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSB7XG4gICAgICBtZXRob2Q6ICdxdWVyeScsXG4gICAgICBwYXJhbXM6IHRoaXMubm9ybWFsaXplUXVlcnkob3B0aW9ucylcbiAgICB9O1xuXG4gICAgY29uc3QgYXV0aCA9IG9wdGlvbnMucGFyYW1zLmF1dGggfHwgbnVsbDtcbiAgICBkZWxldGUgb3B0aW9ucy5wYXJhbXMuYXV0aDtcblxuICAgIGNvbnN0IHBhdGggPSBvcHRpb25zLnBhcmFtcy5wYXRoIHx8IG51bGw7XG4gICAgZGVsZXRlIG9wdGlvbnMucGFyYW1zLnBhdGg7XG5cbiAgICB0aGlzLl9yZXF1ZXN0KG9wdGlvbnMsIGF1dGgsIHBhdGgsIChlcnIsIHJlcywgYm9keSkgPT4ge1xuICAgICAgaWYgKHJlcyAmJiByZXMuc3RhdHVzQ29kZSAhPT0gMjAwKSB7XG4gICAgICAgIGVyciA9IG5ldyBFcnJvcihgSW52YWxpZCBIVFRQIFN0YXR1cyBDb2RlOiAke3Jlcy5zdGF0dXNDb2RlfWApO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2sobnVsbCwgYm9keSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxvZyBzdHJlYW0gZm9yIHRoaXMgdHJhbnNwb3J0LiBPcHRpb25zIG9iamVjdCBpcyBvcHRpb25hbC5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBTdHJlYW0gb3B0aW9ucyBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICogQHJldHVybnMge1N0cmVhbX0gLSBUT0RPOiBhZGQgcmV0dXJuIGRlc2NyaXB0aW9uXG4gICAqL1xuICBzdHJlYW0ob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qgc3RyZWFtID0gbmV3IFN0cmVhbSgpO1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBtZXRob2Q6ICdzdHJlYW0nLFxuICAgICAgcGFyYW1zOiBvcHRpb25zXG4gICAgfTtcblxuICAgIGNvbnN0IHBhdGggPSBvcHRpb25zLnBhcmFtcy5wYXRoIHx8IG51bGw7XG4gICAgZGVsZXRlIG9wdGlvbnMucGFyYW1zLnBhdGg7XG5cbiAgICBjb25zdCBhdXRoID0gb3B0aW9ucy5wYXJhbXMuYXV0aCB8fCBudWxsO1xuICAgIGRlbGV0ZSBvcHRpb25zLnBhcmFtcy5hdXRoO1xuXG4gICAgbGV0IGJ1ZmYgPSAnJztcbiAgICBjb25zdCByZXEgPSB0aGlzLl9yZXF1ZXN0KG9wdGlvbnMsIGF1dGgsIHBhdGgpO1xuXG4gICAgc3RyZWFtLmRlc3Ryb3kgPSAoKSA9PiByZXEuZGVzdHJveSgpO1xuICAgIHJlcS5vbignZGF0YScsIGRhdGEgPT4ge1xuICAgICAgZGF0YSA9IChidWZmICsgZGF0YSkuc3BsaXQoL1xcbisvKTtcbiAgICAgIGNvbnN0IGwgPSBkYXRhLmxlbmd0aCAtIDE7XG5cbiAgICAgIGxldCBpID0gMDtcbiAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc3RyZWFtLmVtaXQoJ2xvZycsIEpTT04ucGFyc2UoZGF0YVtpXSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYnVmZiA9IGRhdGFbbF07XG4gICAgfSk7XG4gICAgcmVxLm9uKCdlcnJvcicsIGVyciA9PiBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcnIpKTtcblxuICAgIHJldHVybiBzdHJlYW07XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIHJlcXVlc3QgdG8gYSB3aW5zdG9uZCBzZXJ2ZXIgb3IgYW55IGh0dHAgc2VydmVyIHdoaWNoIGNhblxuICAgKiBoYW5kbGUganNvbi1ycGMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMgLSBPcHRpb25zIHRvIHNlbnQgdGhlIHJlcXVlc3QuXG4gICAqIEBwYXJhbSB7T2JqZWN0P30gYXV0aCAtIGF1dGhlbnRpY2F0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSByZXF1ZXN0IHBhdGhcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDb250aW51YXRpb24gdG8gcmVzcG9uZCB0byB3aGVuIGNvbXBsZXRlLlxuICAgKi9cbiAgX3JlcXVlc3Qob3B0aW9ucywgYXV0aCwgcGF0aCwgY2FsbGJhY2spIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGF1dGggPSBhdXRoIHx8IHRoaXMuYXV0aDtcbiAgICBwYXRoID0gcGF0aCB8fCB0aGlzLnBhdGggfHwgJyc7XG5cbiAgICBpZiAodGhpcy5iYXRjaCkge1xuICAgICAgdGhpcy5fZG9CYXRjaChvcHRpb25zLCBjYWxsYmFjaywgYXV0aCwgcGF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2RvUmVxdWVzdChvcHRpb25zLCBjYWxsYmFjaywgYXV0aCwgcGF0aCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgb3IgbWVtb3JpemUgdGhlIG9wdGlvbnMgYWNjb3JkaW5nIHRvIGJhdGNoIGNvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucyAtIE9wdGlvbnMgdG8gc2VudCB0aGUgcmVxdWVzdC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDb250aW51YXRpb24gdG8gcmVzcG9uZCB0byB3aGVuIGNvbXBsZXRlLlxuICAgKiBAcGFyYW0ge09iamVjdD99IGF1dGggLSBhdXRoZW50aWNhdGlvbiBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gcmVxdWVzdCBwYXRoXG4gICAqL1xuICBfZG9CYXRjaChvcHRpb25zLCBjYWxsYmFjaywgYXV0aCwgcGF0aCkge1xuICAgIHRoaXMuYmF0Y2hPcHRpb25zLnB1c2gob3B0aW9ucyk7XG4gICAgaWYgKHRoaXMuYmF0Y2hPcHRpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gRmlyc3QgbWVzc2FnZSBzdG9yZWQsIGl0J3MgdGltZSB0byBzdGFydCB0aGUgdGltZW91dCFcbiAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgIHRoaXMuYmF0Y2hDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgdGhpcy5iYXRjaFRpbWVvdXRJRCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB0aW1lb3V0IGlzIHJlYWNoZWQsIHNlbmQgYWxsIG1lc3NhZ2VzIHRvIGVuZHBvaW50XG4gICAgICAgIG1lLmJhdGNoVGltZW91dElEID0gLTE7XG4gICAgICAgIG1lLl9kb0JhdGNoUmVxdWVzdChtZS5iYXRjaENhbGxiYWNrLCBhdXRoLCBwYXRoKTtcbiAgICAgIH0sIHRoaXMuYmF0Y2hJbnRlcnZhbCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmJhdGNoT3B0aW9ucy5sZW5ndGggPT09IHRoaXMuYmF0Y2hDb3VudCkge1xuICAgICAgLy8gbWF4IGJhdGNoIGNvdW50IGlzIHJlYWNoZWQsIHNlbmQgYWxsIG1lc3NhZ2VzIHRvIGVuZHBvaW50XG4gICAgICB0aGlzLl9kb0JhdGNoUmVxdWVzdCh0aGlzLmJhdGNoQ2FsbGJhY2ssIGF1dGgsIHBhdGgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWF0ZSBhIHJlcXVlc3Qgd2l0aCB0aGUgbWVtb3JpemVkIGJhdGNoIG9wdGlvbnMsIHN0b3AgdGhlIGJhdGNoIHRpbWVvdXRcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDb250aW51YXRpb24gdG8gcmVzcG9uZCB0byB3aGVuIGNvbXBsZXRlLlxuICAgKiBAcGFyYW0ge09iamVjdD99IGF1dGggLSBhdXRoZW50aWNhdGlvbiBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gcmVxdWVzdCBwYXRoXG4gICAqL1xuICBfZG9CYXRjaFJlcXVlc3QoY2FsbGJhY2ssIGF1dGgsIHBhdGgpIHtcbiAgICBpZiAodGhpcy5iYXRjaFRpbWVvdXRJRCA+IDApIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmJhdGNoVGltZW91dElEKTtcbiAgICAgIHRoaXMuYmF0Y2hUaW1lb3V0SUQgPSAtMTtcbiAgICB9XG4gICAgY29uc3QgYmF0Y2hPcHRpb25zQ29weSA9IHRoaXMuYmF0Y2hPcHRpb25zLnNsaWNlKCk7XG4gICAgdGhpcy5iYXRjaE9wdGlvbnMgPSBbXTtcbiAgICB0aGlzLl9kb1JlcXVlc3QoYmF0Y2hPcHRpb25zQ29weSwgY2FsbGJhY2ssIGF1dGgsIHBhdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgYSByZXF1ZXN0IHRvIGEgd2luc3RvbmQgc2VydmVyIG9yIGFueSBodHRwIHNlcnZlciB3aGljaCBjYW5cbiAgICogaGFuZGxlIGpzb24tcnBjLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zIC0gT3B0aW9ucyB0byBzZW50IHRoZSByZXF1ZXN0LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENvbnRpbnVhdGlvbiB0byByZXNwb25kIHRvIHdoZW4gY29tcGxldGUuXG4gICAqIEBwYXJhbSB7T2JqZWN0P30gYXV0aCAtIGF1dGhlbnRpY2F0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSByZXF1ZXN0IHBhdGhcbiAgICovXG4gIF9kb1JlcXVlc3Qob3B0aW9ucywgY2FsbGJhY2ssIGF1dGgsIHBhdGgpIHtcbiAgICAvLyBQcmVwYXJlIG9wdGlvbnMgZm9yIG91dGdvaW5nIEhUVFAgcmVxdWVzdFxuICAgIGNvbnN0IGhlYWRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmhlYWRlcnMpO1xuICAgIGlmIChhdXRoICYmIGF1dGguYmVhcmVyKSB7XG4gICAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7YXV0aC5iZWFyZXJ9YDtcbiAgICB9XG4gICAgY29uc3QgcmVxID0gKHRoaXMuc3NsID8gaHR0cHMgOiBodHRwKS5yZXF1ZXN0KHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaG9zdDogdGhpcy5ob3N0LFxuICAgICAgcG9ydDogdGhpcy5wb3J0LFxuICAgICAgcGF0aDogYC8ke3BhdGgucmVwbGFjZSgvXlxcLy8sICcnKX1gLFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIGF1dGg6IChhdXRoICYmIGF1dGgudXNlcm5hbWUgJiYgYXV0aC5wYXNzd29yZCkgPyAoYCR7YXV0aC51c2VybmFtZX06JHthdXRoLnBhc3N3b3JkfWApIDogJycsXG4gICAgICBhZ2VudDogdGhpcy5hZ2VudFxuICAgIH0pO1xuXG4gICAgcmVxLm9uKCdlcnJvcicsIGNhbGxiYWNrKTtcbiAgICByZXEub24oJ3Jlc3BvbnNlJywgcmVzID0+IChcbiAgICAgIHJlcy5vbignZW5kJywgKCkgPT4gY2FsbGJhY2sobnVsbCwgcmVzKSkucmVzdW1lKClcbiAgICApKTtcbiAgICBjb25zdCBqc29uU3RyaW5naWZ5ID0gY29uZmlndXJlKHtcbiAgICAgIC4uLih0aGlzLm1heGltdW1EZXB0aCAmJiB7IG1heGltdW1EZXB0aDogdGhpcy5tYXhpbXVtRGVwdGggfSlcbiAgICB9KTtcbiAgICByZXEuZW5kKEJ1ZmZlci5mcm9tKGpzb25TdHJpbmdpZnkob3B0aW9ucywgdGhpcy5vcHRpb25zLnJlcGxhY2VyKSwgJ3V0ZjgnKSk7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/transports/http.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/transports/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/winston/lib/winston/transports/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("/**\n * transports.js: Set of all transports Winston knows about.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\n/**\n * TODO: add property description.\n * @type {Console}\n */\nObject.defineProperty(exports, \"Console\", ({\n  configurable: true,\n  enumerable: true,\n  get() {\n    return __webpack_require__(/*! ./console */ \"(action-browser)/./node_modules/winston/lib/winston/transports/console.js\");\n  }\n}));\n\n/**\n * TODO: add property description.\n * @type {File}\n */\nObject.defineProperty(exports, \"File\", ({\n  configurable: true,\n  enumerable: true,\n  get() {\n    return __webpack_require__(/*! ./file */ \"(action-browser)/./node_modules/winston/lib/winston/transports/file.js\");\n  }\n}));\n\n/**\n * TODO: add property description.\n * @type {Http}\n */\nObject.defineProperty(exports, \"Http\", ({\n  configurable: true,\n  enumerable: true,\n  get() {\n    return __webpack_require__(/*! ./http */ \"(action-browser)/./node_modules/winston/lib/winston/transports/http.js\");\n  }\n}));\n\n/**\n * TODO: add property description.\n * @type {Stream}\n */\nObject.defineProperty(exports, \"Stream\", ({\n  configurable: true,\n  enumerable: true,\n  get() {\n    return __webpack_require__(/*! ./stream */ \"(action-browser)/./node_modules/winston/lib/winston/transports/stream.js\");\n  }\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL3RyYW5zcG9ydHMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSwyQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBTyxDQUFDLDRGQUFXO0FBQzlCO0FBQ0EsQ0FBQyxFQUFDOztBQUVGO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSx3Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBTyxDQUFDLHNGQUFRO0FBQzNCO0FBQ0EsQ0FBQyxFQUFDOztBQUVGO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSx3Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBTyxDQUFDLHNGQUFRO0FBQzNCO0FBQ0EsQ0FBQyxFQUFDOztBQUVGO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSwwQ0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBTyxDQUFDLDBGQUFVO0FBQzdCO0FBQ0EsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJDOlxccmVwb1xcTnV0cmlXaXNlQUlcXG5vZGVfbW9kdWxlc1xcd2luc3RvblxcbGliXFx3aW5zdG9uXFx0cmFuc3BvcnRzXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIHRyYW5zcG9ydHMuanM6IFNldCBvZiBhbGwgdHJhbnNwb3J0cyBXaW5zdG9uIGtub3dzIGFib3V0LlxuICpcbiAqIChDKSAyMDEwIENoYXJsaWUgUm9iYmluc1xuICogTUlUIExJQ0VOQ0VcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVE9ETzogYWRkIHByb3BlcnR5IGRlc2NyaXB0aW9uLlxuICogQHR5cGUge0NvbnNvbGV9XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ29uc29sZScsIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQoKSB7XG4gICAgcmV0dXJuIHJlcXVpcmUoJy4vY29uc29sZScpO1xuICB9XG59KTtcblxuLyoqXG4gKiBUT0RPOiBhZGQgcHJvcGVydHkgZGVzY3JpcHRpb24uXG4gKiBAdHlwZSB7RmlsZX1cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdGaWxlJywge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldCgpIHtcbiAgICByZXR1cm4gcmVxdWlyZSgnLi9maWxlJyk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFRPRE86IGFkZCBwcm9wZXJ0eSBkZXNjcmlwdGlvbi5cbiAqIEB0eXBlIHtIdHRwfVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0h0dHAnLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0KCkge1xuICAgIHJldHVybiByZXF1aXJlKCcuL2h0dHAnKTtcbiAgfVxufSk7XG5cbi8qKlxuICogVE9ETzogYWRkIHByb3BlcnR5IGRlc2NyaXB0aW9uLlxuICogQHR5cGUge1N0cmVhbX1cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTdHJlYW0nLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0KCkge1xuICAgIHJldHVybiByZXF1aXJlKCcuL3N0cmVhbScpO1xuICB9XG59KTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/transports/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/lib/winston/transports/stream.js":
/*!***************************************************************!*\
  !*** ./node_modules/winston/lib/winston/transports/stream.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * stream.js: Transport for outputting to any arbitrary stream.\n *\n * (C) 2010 Charlie Robbins\n * MIT LICENCE\n */\n\n\n\nconst isStream = __webpack_require__(/*! is-stream */ \"(action-browser)/./node_modules/is-stream/index.js\");\nconst { MESSAGE } = __webpack_require__(/*! triple-beam */ \"(action-browser)/./node_modules/triple-beam/index.js\");\nconst os = __webpack_require__(/*! os */ \"os\");\nconst TransportStream = __webpack_require__(/*! winston-transport */ \"(action-browser)/./node_modules/winston-transport/index.js\");\n\n/**\n * Transport for outputting to any arbitrary stream.\n * @type {Stream}\n * @extends {TransportStream}\n */\nmodule.exports = class Stream extends TransportStream {\n  /**\n   * Constructor function for the Console transport object responsible for\n   * persisting log messages and metadata to a terminal or TTY.\n   * @param {!Object} [options={}] - Options for this instance.\n   */\n  constructor(options = {}) {\n    super(options);\n\n    if (!options.stream || !isStream(options.stream)) {\n      throw new Error('options.stream is required.');\n    }\n\n    // We need to listen for drain events when write() returns false. This can\n    // make node mad at times.\n    this._stream = options.stream;\n    this._stream.setMaxListeners(Infinity);\n    this.isObjectMode = options.stream._writableState.objectMode;\n    this.eol = (typeof options.eol === 'string') ? options.eol : os.EOL;\n  }\n\n  /**\n   * Core logging method exposed to Winston.\n   * @param {Object} info - TODO: add param description.\n   * @param {Function} callback - TODO: add param description.\n   * @returns {undefined}\n   */\n  log(info, callback) {\n    setImmediate(() => this.emit('logged', info));\n    if (this.isObjectMode) {\n      this._stream.write(info);\n      if (callback) {\n        callback(); // eslint-disable-line callback-return\n      }\n      return;\n    }\n\n    this._stream.write(`${info[MESSAGE]}${this.eol}`);\n    if (callback) {\n      callback(); // eslint-disable-line callback-return\n    }\n    return;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy93aW5zdG9uL2xpYi93aW5zdG9uL3RyYW5zcG9ydHMvc3RyZWFtLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixpQkFBaUIsbUJBQU8sQ0FBQyxxRUFBVztBQUNwQyxRQUFRLFVBQVUsRUFBRSxtQkFBTyxDQUFDLHlFQUFhO0FBQ3pDLFdBQVcsbUJBQU8sQ0FBQyxjQUFJO0FBQ3ZCLHdCQUF3QixtQkFBTyxDQUFDLHFGQUFtQjs7QUFFbkQ7QUFDQTtBQUNBLFVBQVU7QUFDVixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUyxXQUFXO0FBQ2pDO0FBQ0EsMEJBQTBCO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEIsY0FBYyxFQUFFLFNBQVM7QUFDbkQ7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxyZXBvXFxOdXRyaVdpc2VBSVxcbm9kZV9tb2R1bGVzXFx3aW5zdG9uXFxsaWJcXHdpbnN0b25cXHRyYW5zcG9ydHNcXHN0cmVhbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIHN0cmVhbS5qczogVHJhbnNwb3J0IGZvciBvdXRwdXR0aW5nIHRvIGFueSBhcmJpdHJhcnkgc3RyZWFtLlxuICpcbiAqIChDKSAyMDEwIENoYXJsaWUgUm9iYmluc1xuICogTUlUIExJQ0VOQ0VcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IGlzU3RyZWFtID0gcmVxdWlyZSgnaXMtc3RyZWFtJyk7XG5jb25zdCB7IE1FU1NBR0UgfSA9IHJlcXVpcmUoJ3RyaXBsZS1iZWFtJyk7XG5jb25zdCBvcyA9IHJlcXVpcmUoJ29zJyk7XG5jb25zdCBUcmFuc3BvcnRTdHJlYW0gPSByZXF1aXJlKCd3aW5zdG9uLXRyYW5zcG9ydCcpO1xuXG4vKipcbiAqIFRyYW5zcG9ydCBmb3Igb3V0cHV0dGluZyB0byBhbnkgYXJiaXRyYXJ5IHN0cmVhbS5cbiAqIEB0eXBlIHtTdHJlYW19XG4gKiBAZXh0ZW5kcyB7VHJhbnNwb3J0U3RyZWFtfVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFN0cmVhbSBleHRlbmRzIFRyYW5zcG9ydFN0cmVhbSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIENvbnNvbGUgdHJhbnNwb3J0IG9iamVjdCByZXNwb25zaWJsZSBmb3JcbiAgICogcGVyc2lzdGluZyBsb2cgbWVzc2FnZXMgYW5kIG1ldGFkYXRhIHRvIGEgdGVybWluYWwgb3IgVFRZLlxuICAgKiBAcGFyYW0geyFPYmplY3R9IFtvcHRpb25zPXt9XSAtIE9wdGlvbnMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIGlmICghb3B0aW9ucy5zdHJlYW0gfHwgIWlzU3RyZWFtKG9wdGlvbnMuc3RyZWFtKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvcHRpb25zLnN0cmVhbSBpcyByZXF1aXJlZC4nKTtcbiAgICB9XG5cbiAgICAvLyBXZSBuZWVkIHRvIGxpc3RlbiBmb3IgZHJhaW4gZXZlbnRzIHdoZW4gd3JpdGUoKSByZXR1cm5zIGZhbHNlLiBUaGlzIGNhblxuICAgIC8vIG1ha2Ugbm9kZSBtYWQgYXQgdGltZXMuXG4gICAgdGhpcy5fc3RyZWFtID0gb3B0aW9ucy5zdHJlYW07XG4gICAgdGhpcy5fc3RyZWFtLnNldE1heExpc3RlbmVycyhJbmZpbml0eSk7XG4gICAgdGhpcy5pc09iamVjdE1vZGUgPSBvcHRpb25zLnN0cmVhbS5fd3JpdGFibGVTdGF0ZS5vYmplY3RNb2RlO1xuICAgIHRoaXMuZW9sID0gKHR5cGVvZiBvcHRpb25zLmVvbCA9PT0gJ3N0cmluZycpID8gb3B0aW9ucy5lb2wgOiBvcy5FT0w7XG4gIH1cblxuICAvKipcbiAgICogQ29yZSBsb2dnaW5nIG1ldGhvZCBleHBvc2VkIHRvIFdpbnN0b24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIC0gVE9ETzogYWRkIHBhcmFtIGRlc2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRPRE86IGFkZCBwYXJhbSBkZXNjcmlwdGlvbi5cbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICovXG4gIGxvZyhpbmZvLCBjYWxsYmFjaykge1xuICAgIHNldEltbWVkaWF0ZSgoKSA9PiB0aGlzLmVtaXQoJ2xvZ2dlZCcsIGluZm8pKTtcbiAgICBpZiAodGhpcy5pc09iamVjdE1vZGUpIHtcbiAgICAgIHRoaXMuX3N0cmVhbS53cml0ZShpbmZvKTtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjaygpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3N0cmVhbS53cml0ZShgJHtpbmZvW01FU1NBR0VdfSR7dGhpcy5lb2x9YCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbGxiYWNrLXJldHVyblxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/winston/lib/winston/transports/stream.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/winston/package.json":
/*!*******************************************!*\
  !*** ./node_modules/winston/package.json ***!
  \*******************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.17.0","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["David Hyde <dabh@alumni.stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0","async":"^3.2.3","is-stream":"^2.0.0","logform":"^2.7.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.9.0"},"devDependencies":{"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1","assume":"^2.2.0","cross-spawn-async":"^2.2.5","eslint":"^8.57.0","hock":"^1.4.1","mocha":"^10.3.0","nyc":"^17.1.0","rimraf":"5.0.1","split2":"^4.1.0","std-mocks":"^2.0.0","through2":"^4.0.2","winston-compat":"^0.1.5"},"main":"./lib/winston.js","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist","test":"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration","build":"rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 12.0.0"},"license":"MIT"}');

/***/ })

};
;