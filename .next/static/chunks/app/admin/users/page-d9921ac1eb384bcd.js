(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{1394:(e,t,r)=>{"use strict";r.d(t,{BK:()=>d,eu:()=>i,q5:()=>c});var s=r(5155),a=r(2115),n=r(4011),l=r(9434);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a})});i.displayName=n.bL.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",r),...a})});d.displayName=n._V.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a})});c.displayName=n.H4.displayName},1414:(e,t,r)=>{"use strict";e.exports=r(2436)},2031:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var s=r(5155),a=r(1320),n=r(285),l=r(6695),i=r(3311),d=r(2919),c=r(7951),o=r(5525),u=r(6874),m=r.n(u),f=r(8856);let x=()=>(0,s.jsxs)("div",{className:"container mx-auto py-12 px-4","data-testid":"loading-spinner",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,s.jsx)(i.A,{className:"w-12 h-12 text-primary animate-pulse"}),(0,s.jsx)("h2",{className:"mt-4 text-2xl font-bold",children:"Verifying Access..."}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Just a moment while we check your credentials."})]}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)(f.E,{className:"h-64 w-full"})})]}),h=e=>{let{icon:t,title:r,message:a,primaryCta:n,secondaryCta:i}=e;return(0,s.jsx)("div",{className:"container mx-auto py-12 px-4",children:(0,s.jsxs)(l.Zp,{className:"max-w-md mx-auto",children:[(0,s.jsxs)(l.aR,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto bg-primary/10 p-4 rounded-full w-fit",children:t}),(0,s.jsx)(l.ZB,{className:"mt-4",children:r}),(0,s.jsx)(l.BT,{children:a})]}),(0,s.jsx)(l.Wu,{className:"text-center",children:(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[n,i]})})]})})};function p(e){let{children:t,gateType:r="auth",previewComponent:l}=e,{user:i,loading:u,profile:f}=(0,a.A)();return u?(0,s.jsx)(x,{}):i?"premium"!==r||(null==f?void 0:f.isPremium)?"admin"!==r||(null==f?void 0:f.isAdmin)?(0,s.jsx)(s.Fragment,{children:t}):l?(0,s.jsx)(s.Fragment,{children:l}):(0,s.jsx)(h,{icon:(0,s.jsx)(o.A,{className:"w-8 h-8 text-destructive"}),title:"Access Denied",message:"You do not have administrative privileges to view this page.",primaryCta:(0,s.jsx)(n.$,{asChild:!0,className:"w-full",children:(0,s.jsx)(m(),{href:"/",children:"Return to Homepage"})})}):l?(0,s.jsx)(s.Fragment,{children:l}):(0,s.jsx)(h,{icon:(0,s.jsx)(c.A,{className:"w-8 h-8 text-yellow-500"}),title:"Premium Membership Required",message:"You need a premium membership to access this exclusive content.",primaryCta:(0,s.jsx)(n.$,{asChild:!0,className:"w-full",variant:"premium",children:(0,s.jsx)(m(),{href:"/subscribe",children:"Upgrade to Premium"})})}):("premium"===r||"admin"===r)&&l?(0,s.jsx)(s.Fragment,{children:l}):(0,s.jsx)(h,{icon:(0,s.jsx)(d.A,{className:"w-8 h-8 text-primary"}),title:"Login to Continue",message:"Please login or create a free account to access this content.",primaryCta:(0,s.jsx)(n.$,{asChild:!0,className:"w-full",children:(0,s.jsx)(m(),{href:"/login",children:"Login"})}),secondaryCta:(0,s.jsx)(n.$,{variant:"outline",asChild:!0,className:"w-full",children:(0,s.jsx)(m(),{href:"/signup",children:"Create Free Account"})})})}},2436:(e,t,r)=>{"use strict";var s=r(2115),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useState,l=s.useEffect,i=s.useLayoutEffect,d=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=n({inst:{value:r,getSnapshot:t}}),a=s[0].inst,o=s[1];return i(function(){a.value=r,a.getSnapshot=t,c(a)&&o({inst:a})},[e,r,t]),l(function(){return c(a)&&o({inst:a}),e(function(){c(a)&&o({inst:a})})},[e]),d(r),r};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:o},2659:(e,t,r)=>{Promise.resolve().then(r.bind(r,2899))},2712:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var s=r(2115),a=globalThis?.document?s.useLayoutEffect:()=>{}},2899:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(5155),a=r(2115),n=r(5317),l=r(6104),i=r(1320),d=r(2031),c=r(8856),o=r(6695),u=r(5127),m=r(6126),f=r(1394),x=r(9434);let h=e=>{let{users:t}=e;return(0,s.jsxs)(o.Zp,{children:[(0,s.jsxs)(o.aR,{children:[(0,s.jsx)(o.ZB,{children:"Registered Users"}),(0,s.jsx)(o.BT,{children:"A list of all users in the system."})]}),(0,s.jsx)(o.Wu,{children:(0,s.jsxs)(u.XI,{children:[(0,s.jsx)(u.A0,{children:(0,s.jsxs)(u.Hj,{children:[(0,s.jsx)(u.nd,{children:"User"}),(0,s.jsx)(u.nd,{children:"Email"}),(0,s.jsx)(u.nd,{children:"Status"}),(0,s.jsx)(u.nd,{children:"Role"}),(0,s.jsx)(u.nd,{children:"Joined Date"})]})}),(0,s.jsx)(u.BF,{children:t.map(e=>(0,s.jsxs)(u.Hj,{children:[(0,s.jsx)(u.nA,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(f.eu,{children:[(0,s.jsx)(f.BK,{src:e.photoURL}),(0,s.jsx)(f.q5,{children:e.displayName.charAt(0).toUpperCase()})]}),(0,s.jsx)("span",{className:"font-medium",children:e.displayName})]})}),(0,s.jsx)(u.nA,{children:e.email}),(0,s.jsx)(u.nA,{children:(0,s.jsx)(m.E,{variant:e.isPremium?"default":"outline",className:(0,x.cn)(e.isPremium&&"bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 text-white border-transparent"),children:e.isPremium?"Premium":"Standard"})}),(0,s.jsx)(u.nA,{children:e.isAdmin?(0,s.jsx)(m.E,{variant:"destructive",children:"Admin"}):(0,s.jsx)(m.E,{variant:"secondary",children:"User"})}),(0,s.jsx)(u.nA,{children:e.createdAt})]},e.id))})]})})]})},p=()=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(c.E,{className:"h-10 w-1/4"}),(0,s.jsx)(c.E,{className:"h-4 w-1/2"}),(0,s.jsxs)(o.Zp,{children:[(0,s.jsxs)(o.aR,{children:[(0,s.jsx)(c.E,{className:"h-8 w-1/3"}),(0,s.jsx)(c.E,{className:"h-4 w-2/3 mt-2"})]}),(0,s.jsx)(o.Wu,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.E,{className:"h-12 w-full"}),(0,s.jsx)(c.E,{className:"h-12 w-full"}),(0,s.jsx)(c.E,{className:"h-12 w-full"})]})})]})]});function j(){let{user:e,profile:t}=(0,i.A)(),[r,c]=(0,a.useState)([]),[o,u]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let r=async()=>{if(e&&(null==t?void 0:t.isAdmin))try{let e=(0,l.ru)(),t=(0,n.rJ)(e,"users"),r=(0,n.P)(t,(0,n.My)("createdAt","desc")),s=(await (0,n.GG)(r)).docs.map(e=>{let t=e.data(),r=t.subscription,s=!!((null==r?void 0:r.status)==="active"&&r.endDate&&new Date(r.endDate)>new Date),a=!0===t.isAdmin;return{id:e.id,displayName:t.displayName||"N/A",email:t.email||"N/A",createdAt:t.createdAt?new Date(1e3*t.createdAt.seconds).toLocaleDateString():"N/A",isPremium:s,isAdmin:a,photoURL:t.photoURL}});c(s)}catch(e){console.error("Error fetching users:",e)}finally{u(!1)}else u(!1)};void 0!==e&&r()},[e,t]),(0,s.jsxs)("div",{className:"container mx-auto py-12 px-4",children:[(0,s.jsx)("h1",{className:"text-4xl font-extrabold font-headline mb-2",children:"Admin Dashboard"}),(0,s.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:"Manage users and view site activity."}),(0,s.jsx)(d.A,{gateType:"admin",children:o?(0,s.jsx)(p,{}):(0,s.jsx)(h,{users:r})})]})}},2919:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3311:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},3655:(e,t,r)=>{"use strict";r.d(t,{hO:()=>d,sG:()=>i});var s=r(2115),a=r(7650),n=r(9708),l=r(5155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,n.TL)(`Primitive.${t}`),a=s.forwardRef((e,s)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(a?r:t,{...n,ref:s})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function d(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},4011:(e,t,r)=>{"use strict";r.d(t,{H4:()=>A,_V:()=>b,bL:()=>g});var s=r(2115),a=r(6081),n=r(9033),l=r(2712),i=r(3655),d=r(1414);function c(){return()=>{}}var o=r(5155),u="Avatar",[m,f]=(0,a.A)(u),[x,h]=m(u),p=s.forwardRef((e,t)=>{let{__scopeAvatar:r,...a}=e,[n,l]=s.useState("idle");return(0,o.jsx)(x,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,o.jsx)(i.sG.span,{...a,ref:t})})});p.displayName=u;var j="AvatarImage",v=s.forwardRef((e,t)=>{let{__scopeAvatar:r,src:a,onLoadingStatusChange:u=()=>{},...m}=e,f=h(j,r),x=function(e,t){let{referrerPolicy:r,crossOrigin:a}=t,n=(0,d.useSyncExternalStore)(c,()=>!0,()=>!1),i=s.useRef(null),o=n?(i.current||(i.current=new window.Image),i.current):null,[u,m]=s.useState(()=>w(o,e));return(0,l.N)(()=>{m(w(o,e))},[o,e]),(0,l.N)(()=>{let e=e=>()=>{m(e)};if(!o)return;let t=e("loaded"),s=e("error");return o.addEventListener("load",t),o.addEventListener("error",s),r&&(o.referrerPolicy=r),"string"==typeof a&&(o.crossOrigin=a),()=>{o.removeEventListener("load",t),o.removeEventListener("error",s)}},[o,a,r]),u}(a,m),p=(0,n.c)(e=>{u(e),f.onImageLoadingStatusChange(e)});return(0,l.N)(()=>{"idle"!==x&&p(x)},[x,p]),"loaded"===x?(0,o.jsx)(i.sG.img,{...m,ref:t,src:a}):null});v.displayName=j;var N="AvatarFallback",y=s.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:a,...n}=e,l=h(N,r),[d,c]=s.useState(void 0===a);return s.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>c(!0),a);return()=>window.clearTimeout(e)}},[a]),d&&"loaded"!==l.imageLoadingStatus?(0,o.jsx)(i.sG.span,{...n,ref:t}):null});function w(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}y.displayName=N;var g=p,b=v,A=y},5127:(e,t,r)=>{"use strict";r.d(t,{A0:()=>i,BF:()=>d,Hj:()=>c,XI:()=>l,nA:()=>u,nd:()=>o});var s=r(5155),a=r(2115),n=r(9434);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...a})})});l.displayName="Table";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...a})});i.displayName="TableHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...a})});d.displayName="TableBody",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});c.displayName="TableRow";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});o.displayName="TableHead";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});u.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption"},5525:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},6081:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,q:()=>n});var s=r(2115),a=r(5155);function n(e,t){let r=s.createContext(t),n=e=>{let{children:t,...n}=e,l=s.useMemo(()=>n,Object.values(n));return(0,a.jsx)(r.Provider,{value:l,children:t})};return n.displayName=e+"Provider",[n,function(a){let n=s.useContext(r);if(n)return n;if(void 0!==t)return t;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function l(e,t=[]){let r=[],n=()=>{let t=r.map(e=>s.createContext(e));return function(r){let a=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return n.scopeName=e,[function(t,n){let l=s.createContext(n),i=r.length;r=[...r,n];let d=t=>{let{scope:r,children:n,...d}=t,c=r?.[e]?.[i]||l,o=s.useMemo(()=>d,Object.values(d));return(0,a.jsx)(c.Provider,{value:o,children:n})};return d.displayName=t+"Provider",[d,function(r,a){let d=a?.[e]?.[i]||l,c=s.useContext(d);if(c)return c;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(n,...t)]}},6126:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var s=r(5155);r(2115);var a=r(2085),n=r(9434);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...a})}},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>i,wL:()=>u});var s=r(5155),a=r(2115),n=r(9434);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},7951:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},8856:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var s=r(5155),a=r(9434);function n(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",t),...r})}},9033:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var s=r(2115);function a(e){let t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...e)=>t.current?.(...e),[])}}},e=>{e.O(0,[135,210,455,874,508,743,320,441,964,358],()=>e(e.s=2659)),_N_E=e.O()}]);