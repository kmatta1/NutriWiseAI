(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[420],{2031:(e,s,a)=>{"use strict";a.d(s,{A:()=>j});var t=a(5155),l=a(1320),r=a(285),n=a(6695),i=a(3311),d=a(2919),c=a(7951),m=a(5525),o=a(6874),x=a.n(o),h=a(8856);let u=()=>(0,t.jsxs)("div",{className:"container mx-auto py-12 px-4","data-testid":"loading-spinner",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,t.jsx)(i.A,{className:"w-12 h-12 text-primary animate-pulse"}),(0,t.jsx)("h2",{className:"mt-4 text-2xl font-bold",children:"Verifying Access..."}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Just a moment while we check your credentials."})]}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(h.E,{className:"h-64 w-full"})})]}),p=e=>{let{icon:s,title:a,message:l,primaryCta:r,secondaryCta:i}=e;return(0,t.jsx)("div",{className:"container mx-auto py-12 px-4",children:(0,t.jsxs)(n.Zp,{className:"max-w-md mx-auto",children:[(0,t.jsxs)(n.aR,{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto bg-primary/10 p-4 rounded-full w-fit",children:s}),(0,t.jsx)(n.ZB,{className:"mt-4",children:a}),(0,t.jsx)(n.BT,{children:l})]}),(0,t.jsx)(n.Wu,{className:"text-center",children:(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[r,i]})})]})})};function j(e){let{children:s,gateType:a="auth",previewComponent:n}=e,{user:i,loading:o,profile:h}=(0,l.A)();return o?(0,t.jsx)(u,{}):i?"premium"!==a||(null==h?void 0:h.isPremium)?"admin"!==a||(null==h?void 0:h.isAdmin)?(0,t.jsx)(t.Fragment,{children:s}):n?(0,t.jsx)(t.Fragment,{children:n}):(0,t.jsx)(p,{icon:(0,t.jsx)(m.A,{className:"w-8 h-8 text-destructive"}),title:"Access Denied",message:"You do not have administrative privileges to view this page.",primaryCta:(0,t.jsx)(r.$,{asChild:!0,className:"w-full",children:(0,t.jsx)(x(),{href:"/",children:"Return to Homepage"})})}):n?(0,t.jsx)(t.Fragment,{children:n}):(0,t.jsx)(p,{icon:(0,t.jsx)(c.A,{className:"w-8 h-8 text-yellow-500"}),title:"Premium Membership Required",message:"You need a premium membership to access this exclusive content.",primaryCta:(0,t.jsx)(r.$,{asChild:!0,className:"w-full",variant:"premium",children:(0,t.jsx)(x(),{href:"/subscribe",children:"Upgrade to Premium"})})}):("premium"===a||"admin"===a)&&n?(0,t.jsx)(t.Fragment,{children:n}):(0,t.jsx)(p,{icon:(0,t.jsx)(d.A,{className:"w-8 h-8 text-primary"}),title:"Login to Continue",message:"Please login or create a free account to access this content.",primaryCta:(0,t.jsx)(r.$,{asChild:!0,className:"w-full",children:(0,t.jsx)(x(),{href:"/login",children:"Login"})}),secondaryCta:(0,t.jsx)(r.$,{variant:"outline",asChild:!0,className:"w-full",children:(0,t.jsx)(x(),{href:"/signup",children:"Create Free Account"})})})}},4488:(e,s,a)=>{Promise.resolve().then(a.bind(a,5684))},5684:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>k});var t=a(5155),l=a(2115),r=a(1320),n=a(6104),i=a(5317),d=a(285),c=a(3311),m=a(7951),o=a(9103),x=a(1154),h=a(6874),u=a.n(h),p=a(6695);let j=e=>{let{name:s,scheduleText:a}=e;return(0,t.jsxs)(p.Zp,{className:"bg-secondary/30",children:[(0,t.jsx)(p.aR,{children:(0,t.jsx)(p.ZB,{className:"text-xl font-bold font-headline",children:s})}),(0,t.jsx)(p.Wu,{children:(0,t.jsx)("div",{className:"space-y-4 text-muted-foreground whitespace-pre-wrap",children:a})})]})};var f=a(7434);let N=()=>(0,t.jsxs)(p.Zp,{className:"text-center py-12",children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(f.A,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,t.jsx)(p.ZB,{className:"mt-4",children:"No Plans Found"}),(0,t.jsx)(p.BT,{children:"You haven't generated any supplement plans yet."})]}),(0,t.jsx)(p.Wu,{children:(0,t.jsx)(d.$,{asChild:!0,children:(0,t.jsx)(u(),{href:"/advisor",children:"Get Your First AI Recommendation"})})})]});var v=a(2031),g=a(3478),y=a(6474),w=a(9434);let b=g.bL,A=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(g.q7,{ref:s,className:(0,w.cn)("border-b",a),...l})});A.displayName="AccordionItem";let C=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsx)(g.Y9,{className:"flex",children:(0,t.jsxs)(g.l9,{ref:s,className:(0,w.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...r,children:[l,(0,t.jsx)(y.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});C.displayName=g.l9.displayName;let R=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsx)(g.UC,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:(0,t.jsx)("div",{className:(0,w.cn)("pb-4 pt-0",a),children:l})})});R.displayName=g.UC.displayName;var P=a(6766);let Z=()=>(0,t.jsx)("div",{className:"container mx-auto py-12 px-4",children:(0,t.jsxs)(p.Zp,{className:"text-center py-12",children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(c.A,{className:"mx-auto h-12 w-12 text-primary"}),(0,t.jsx)(p.ZB,{className:"mt-4 font-headline text-3xl",children:"Save, Track, and Compare Your Plans"}),(0,t.jsx)(p.BT,{className:"max-w-prose mx-auto",children:"As a premium member, all your AI-generated supplement stacks are saved here. Revisit past recommendations, compare different plans, and stay consistent with your health journey."})]}),(0,t.jsx)(p.Wu,{children:(0,t.jsx)(d.$,{asChild:!0,size:"lg",variant:"premium",children:(0,t.jsxs)(u(),{href:"/subscribe",children:[(0,t.jsx)(m.A,{className:"mr-2"})," Upgrade to Save Plans"]})})})]})});function k(){let{user:e,loading:s,profile:a}=(0,r.A)(),[c,m]=(0,l.useState)([]),[h,f]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{let t=async()=>{if(!s)if(e&&(null==a?void 0:a.isPremium)){f(!0);try{let s=(0,n.ru)(),a=(0,i.rJ)(s,"users/".concat(e.uid,"/plans")),t=(0,i.P)(a,(0,i.My)("createdAt","desc")),l=(await (0,i.GG)(t)).docs.map(e=>{let s=e.data();return{id:e.id,createdAt:new Date(1e3*s.createdAt.seconds).toLocaleDateString(),fitnessGoals:s.input.fitnessGoals,plan:s.output}});m(l)}catch(e){console.error("Error fetching plans:",e)}finally{f(!1)}}else f(!1)};s||t()},[e,s,null==a?void 0:a.isPremium]),(0,t.jsx)(v.A,{gateType:"premium",previewComponent:(0,t.jsx)(Z,{}),children:(0,t.jsxs)("div",{className:"container mx-auto py-12 px-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-extrabold font-headline",children:"My Supplement Plans"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground mt-2",children:"Here are all the personalized supplement stacks you've generated."})]}),(0,t.jsx)(d.$,{asChild:!0,children:(0,t.jsxs)(u(),{href:"/advisor",children:[(0,t.jsx)(o.A,{className:"mr-2"})," Generate New Plan"]})})]}),s||h?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)(x.A,{className:"h-16 w-16 animate-spin text-primary"})}):0===c.length?(0,t.jsx)(N,{}):(0,t.jsx)(b,{type:"single",collapsible:!0,className:"w-full space-y-4",children:c.map((e,s)=>(0,t.jsxs)(A,{value:"item-".concat(s),className:"bg-card border rounded-lg overflow-hidden",children:[(0,t.jsx)(C,{className:"p-6 text-lg font-semibold hover:no-underline",children:(0,t.jsxs)("div",{className:"flex flex-col text-left",children:[(0,t.jsxs)("span",{children:["Plan for: ",e.fitnessGoals]}),(0,t.jsxs)("span",{className:"text-sm font-normal text-muted-foreground",children:["Created on: ",e.createdAt]})]})}),(0,t.jsxs)(R,{className:"p-6 pt-0",children:[(0,t.jsx)("div",{className:"space-y-6",children:e.plan.suggestions.map((e,s)=>(0,t.jsxs)(p.Zp,{className:"p-4 flex items-start gap-4",children:[(0,t.jsx)("div",{className:"relative w-20 h-20 rounded-md overflow-hidden bg-muted flex-shrink-0",children:(0,t.jsx)(P.default,{src:e.imageUrl||"https://placehold.co/150x150.png",alt:e.supplementName,fill:!0,className:"object-cover"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold",children:e.supplementName}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.brand}),(0,t.jsx)("p",{className:"text-sm font-semibold text-primary",children:e.price})]})]},s))}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(j,{name:"Daily Schedule",scheduleText:e.plan.dailySchedule})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(p.Zp,{className:"bg-secondary/30",children:[(0,t.jsx)(p.aR,{children:(0,t.jsx)(p.ZB,{className:"text-lg font-bold",children:"Additional Notes"})}),(0,t.jsx)(p.Wu,{children:(0,t.jsx)("p",{className:"whitespace-pre-wrap text-muted-foreground",children:e.plan.additionalNotes})})]})})]})]},e.id))})]})})}},6695:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>m,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>o});var t=a(5155),l=a(2115),r=a(9434);let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});n.displayName="Card";let i=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...l})});i.displayName="CardHeader";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...l})});d.displayName="CardTitle";let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...l})});c.displayName="CardDescription";let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...l})});m.displayName="CardContent";let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...l})});o.displayName="CardFooter"},8856:(e,s,a)=>{"use strict";a.d(s,{E:()=>r});var t=a(5155),l=a(9434);function r(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",s),...a})}}},e=>{e.O(0,[135,210,455,874,508,743,766,828,576,320,441,964,358],()=>e(e.s=4488)),_N_E=e.O()}]);